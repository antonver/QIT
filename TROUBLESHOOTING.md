# Устранение проблем авторизации в Aeon Messenger

## Ошибка 401 (Unauthorized) - "Отсутствуют данные авторизации"

Эта ошибка возникает, когда приложение не может получить данные авторизации от Telegram WebApp API.

### Возможные причины:

1. **Приложение запущено не из Telegram**
   - Мини-приложения могут работать только в Telegram
   - Попытка открыть приложение в браузере приведет к ошибке авторизации

2. **Истек срок действия сессии**
   - Telegram WebApp сессии имеют ограниченное время жизни
   - Долгое бездействие может привести к истечению сессии

3. **Проблемы с сетевым подключением**
   - Плохое интернет-соединение
   - Блокировка запросов к серверу

4. **Сервер временно недоступен**
   - Технические работы на сервере
   - Перегрузка сервера

### Решения:

#### 1. Проверьте, что приложение открыто в Telegram
- Убедитесь, что приложение открыто через Telegram (не в браузере)
- Перезапустите приложение через меню Telegram

#### 2. Проверьте интернет-соединение
- Убедитесь, что у вас есть стабильное интернет-соединение
- Попробуйте переключиться между Wi-Fi и мобильными данными

#### 3. Перезагрузите приложение
- Нажмите кнопку "Перезагрузить приложение" в интерфейсе
- Или закройте и снова откройте приложение в Telegram

#### 4. Очистите кеш
- Выйдите из приложения
- Очистите кеш Telegram (Android: Настройки → Приложения → Telegram → Хранилище → Очистить кеш)
- Снова откройте приложение

#### 5. Обновите Telegram
- Убедитесь, что используете последнюю версию Telegram
- Обновите приложение через магазин приложений

### Отладка для разработчиков:

#### Консоль браузера:
Для отладки добавьте `?debug=true` к URL приложения в Telegram. Это подключит инструменты разработчика.

#### Проверка данных авторизации:
```javascript
// В консоли браузера
console.log('Telegram WebApp:', window.Telegram?.WebApp);
console.log('Init Data:', window.Telegram?.WebApp?.initData);
console.log('Init Data Unsafe:', window.Telegram?.WebApp?.initDataUnsafe);
```

#### Тестовые данные:
Приложение автоматически создает тестовые данные авторизации для разработки, если не находит реальные данные Telegram.

### Коды ошибок:

- **401 Unauthorized**: Отсутствуют или неверные данные авторизации
- **403 Forbidden**: Доступ запрещен
- **500 Internal Server Error**: Ошибка сервера

### Обращение в поддержку:

Если проблема не решается, обратитесь в поддержку со следующей информацией:

1. Версия Telegram
2. Операционная система устройства
3. Точное время возникновения ошибки
4. Скриншот ошибки
5. Шаги, которые вы предприняли для устранения проблемы

### Профилактика:

- Регулярно обновляйте Telegram
- Не оставляйте приложение открытым на длительное время
- Используйте стабильное интернет-соединение
- Избегайте работы в приложении при слабом сигнале 