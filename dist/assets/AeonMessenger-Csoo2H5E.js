import{p as ve,o as xe,r as d,q as be,aj as Sr,a as Pt,ag as rt,G as jt,j as r,t as ee,v as pe,x as ye,z as ue,H as re,K as Vt,y as Mr,a8 as oo,ah as Do,w as oe,C as Pr,T as z,U as Rr,a9 as ro,ak as Dr,A as Eo,al as so,am as Er,an as Or,ao as Oo,ap as kr,aq as Ir,ar as $r,as as Wr,n as we,at as Wt,k as Br,c as zr,d as _r,au as Lr,av as no,aw as ao,ax as Nr,ay as Ur,az as Fr,aA as Hr,aB as Vr,aC as qr,aD as Gr,aE as Xr,aF as Yr,aG as Kr,B as L,M as lt,N as ko,O as Io,b as Jr,m as io,aH as Zr,e as lo}from"./index-D3FBcvgf.js";import{a as Qr,g as co,u as $o,o as po,P as es,b as ts,F as uo,M as os,B as rs,c as ss,G as ns,T as nt}from"./TextField-DLgYjV_V.js";import{u as Wo,C as Ae}from"./CircularProgress-CdDaa_Xp.js";import{C as st}from"./Chip-BP-2h1pJ.js";import{D as fo,P as go,L as Bo,A as as}from"./Person-BXcMXn3A.js";import{A as ke}from"./Alert-BX6ZXw4u.js";import{B as de}from"./Button-D9vnEVKM.js";import{C as is}from"./CheckCircle-zE5iBBcx.js";import{I as Be}from"./IconButton-DefLkRVI.js";import{S as ls}from"./Send-BU9Jr1xX.js";function cs(t){return ve("MuiCollapse",t)}xe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const ps=t=>{const{orientation:e,classes:o}=t,s={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return ye(s,cs,o)},ds=ee("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[o.orientation],o.state==="entered"&&e.entered,o.state==="exited"&&!o.in&&o.collapsedSize==="0px"&&e.hidden]}})(ue(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),us=ee("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),fs=ee("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Bt=d.forwardRef(function(e,o){const s=be({props:e,name:"MuiCollapse"}),{addEndListener:n,children:a,className:p,collapsedSize:l="0px",component:i,easing:h,in:c,onEnter:y,onEntered:f,onEntering:v,onExit:C,onExited:x,onExiting:j,orientation:g="vertical",style:b,timeout:S=Sr.standard,TransitionComponent:T=Qr,...A}=s,m={...s,orientation:g,collapsedSize:l},w=ps(m),E=Pt(),k=rt(),R=d.useRef(null),I=d.useRef(),H=typeof l=="number"?`${l}px`:l,$=g==="horizontal",V=$?"width":"height",G=d.useRef(null),F=jt(o,G),B=O=>q=>{if(O){const K=G.current;q===void 0?O(K):O(K,q)}},u=()=>R.current?R.current[$?"clientWidth":"clientHeight"]:0,P=B((O,q)=>{R.current&&$&&(R.current.style.position="absolute"),O.style[V]=H,y&&y(O,q)}),D=B((O,q)=>{const K=u();R.current&&$&&(R.current.style.position="");const{duration:ne,easing:ae}=co({style:b,timeout:S,easing:h},{mode:"enter"});if(S==="auto"){const M=E.transitions.getAutoHeightDuration(K);O.style.transitionDuration=`${M}ms`,I.current=M}else O.style.transitionDuration=typeof ne=="string"?ne:`${ne}ms`;O.style[V]=`${K}px`,O.style.transitionTimingFunction=ae,v&&v(O,q)}),W=B((O,q)=>{O.style[V]="auto",f&&f(O,q)}),_=B(O=>{O.style[V]=`${u()}px`,C&&C(O)}),Y=B(x),X=B(O=>{const q=u(),{duration:K,easing:ne}=co({style:b,timeout:S,easing:h},{mode:"exit"});if(S==="auto"){const ae=E.transitions.getAutoHeightDuration(q);O.style.transitionDuration=`${ae}ms`,I.current=ae}else O.style.transitionDuration=typeof K=="string"?K:`${K}ms`;O.style[V]=H,O.style.transitionTimingFunction=ne,j&&j(O)}),J=O=>{S==="auto"&&k.start(I.current||0,O),n&&n(G.current,O)};return r.jsx(T,{in:c,onEnter:P,onEntered:W,onEntering:D,onExit:_,onExited:Y,onExiting:X,addEndListener:J,nodeRef:G,timeout:S==="auto"?null:S,...A,children:(O,{ownerState:q,...K})=>r.jsx(ds,{as:i,className:pe(w.root,p,{entered:w.entered,exited:!c&&H==="0px"&&w.hidden}[O]),style:{[$?"minWidth":"minHeight"]:H,...b},ref:F,ownerState:{...m,state:O},...K,children:r.jsx(us,{ownerState:{...m,state:O},className:w.wrapper,ref:R,children:r.jsx(fs,{ownerState:{...m,state:O},className:w.wrapperInner,children:a})})})})});Bt&&(Bt.muiSupportAuto=!0);const zo=d.createContext({});function gs(t){return ve("MuiAccordion",t)}const vt=xe("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),hs=t=>{const{classes:e,square:o,expanded:s,disabled:n,disableGutters:a}=t;return ye({root:["root",!o&&"rounded",s&&"expanded",n&&"disabled",!a&&"gutters"],heading:["heading"],region:["region"]},gs,e)},ms=ee(Vt,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${vt.region}`]:e.region},e.root,!o.square&&e.rounded,!o.disableGutters&&e.gutters]}})(ue(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${vt.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${vt.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),ue(({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${vt.expanded}`]:{margin:"16px 0"}}}]}))),vs=ee("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),xs=d.forwardRef(function(e,o){const s=be({props:e,name:"MuiAccordion"}),{children:n,className:a,defaultExpanded:p=!1,disabled:l=!1,disableGutters:i=!1,expanded:h,onChange:c,square:y=!1,slots:f={},slotProps:v={},TransitionComponent:C,TransitionProps:x,...j}=s,[g,b]=$o({controlled:h,default:p,name:"Accordion",state:"expanded"}),S=d.useCallback(u=>{b(!g),c&&c(u,!g)},[g,c,b]),[T,...A]=d.Children.toArray(n),m=d.useMemo(()=>({expanded:g,disabled:l,disableGutters:i,toggle:S}),[g,l,i,S]),w={...s,square:y,disabled:l,disableGutters:i,expanded:g},E=hs(w),k={transition:C,...f},R={transition:x,...v},I={slots:k,slotProps:R},[H,$]=re("root",{elementType:ms,externalForwardedProps:{...I,...j},className:pe(E.root,a),shouldForwardComponentProp:!0,ownerState:w,ref:o,additionalProps:{square:y}}),[V,G]=re("heading",{elementType:vs,externalForwardedProps:I,className:E.heading,ownerState:w}),[F,B]=re("transition",{elementType:Bt,externalForwardedProps:I,ownerState:w});return r.jsxs(H,{...$,children:[r.jsx(V,{...G,children:r.jsx(zo.Provider,{value:m,children:T})}),r.jsx(F,{in:g,timeout:"auto",...B,children:r.jsx("div",{"aria-labelledby":T.props.id,id:T.props["aria-controls"],role:"region",className:E.region,children:A})})]})});function bs(t){return ve("MuiAccordionDetails",t)}xe("MuiAccordionDetails",["root"]);const ys=t=>{const{classes:e}=t;return ye({root:["root"]},bs,e)},ws=ee("div",{name:"MuiAccordionDetails",slot:"Root"})(ue(({theme:t})=>({padding:t.spacing(1,2,2)}))),Cs=d.forwardRef(function(e,o){const s=be({props:e,name:"MuiAccordionDetails"}),{className:n,...a}=s,p=s,l=ys(p);return r.jsx(ws,{className:pe(l.root,n),ref:o,ownerState:p,...a})});function js(t){return ve("MuiAccordionSummary",t)}const Fe=xe("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Ts=t=>{const{classes:e,expanded:o,disabled:s,disableGutters:n}=t;return ye({root:["root",o&&"expanded",s&&"disabled",!n&&"gutters"],focusVisible:["focusVisible"],content:["content",o&&"expanded",!n&&"contentGutters"],expandIconWrapper:["expandIconWrapper",o&&"expanded"]},js,e)},As=ee(Mr,{name:"MuiAccordionSummary",slot:"Root"})(ue(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${Fe.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Fe.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Fe.disabled})`]:{cursor:"pointer"},variants:[{props:o=>!o.disableGutters,style:{[`&.${Fe.expanded}`]:{minHeight:64}}}]}})),Ss=ee("span",{name:"MuiAccordionSummary",slot:"Content"})(ue(({theme:t})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Fe.expanded}`]:{margin:"20px 0"}}}]}))),Ms=ee("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(ue(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Fe.expanded}`]:{transform:"rotate(180deg)"}}))),Ps=d.forwardRef(function(e,o){const s=be({props:e,name:"MuiAccordionSummary"}),{children:n,className:a,expandIcon:p,focusVisibleClassName:l,onClick:i,slots:h,slotProps:c,...y}=s,{disabled:f=!1,disableGutters:v,expanded:C,toggle:x}=d.useContext(zo),j=R=>{x&&x(R),i&&i(R)},g={...s,expanded:C,disabled:f,disableGutters:v},b=Ts(g),S={slots:h,slotProps:c},[T,A]=re("root",{ref:o,shouldForwardComponentProp:!0,className:pe(b.root,a),elementType:As,externalForwardedProps:{...S,...y},ownerState:g,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:f,"aria-expanded":C,focusVisibleClassName:pe(b.focusVisible,l)},getSlotProps:R=>({...R,onClick:I=>{var H;(H=R.onClick)==null||H.call(R,I),j(I)}})}),[m,w]=re("content",{className:b.content,elementType:Ss,externalForwardedProps:S,ownerState:g}),[E,k]=re("expandIconWrapper",{className:b.expandIconWrapper,elementType:Ms,externalForwardedProps:S,ownerState:g});return r.jsxs(T,{...A,children:[r.jsx(m,{...w,children:n}),p&&r.jsx(E,{...k,children:p})]})}),_o=t=>{const e=d.useRef({});return d.useEffect(()=>{e.current=t}),e.current};var le="top",he="bottom",me="right",ce="left",qt="auto",dt=[le,he,me,ce],He="start",ct="end",Rs="clippingParents",Lo="viewport",et="popper",Ds="reference",ho=dt.reduce(function(t,e){return t.concat([e+"-"+He,e+"-"+ct])},[]),No=[].concat(dt,[qt]).reduce(function(t,e){return t.concat([e,e+"-"+He,e+"-"+ct])},[]),Es="beforeRead",Os="read",ks="afterRead",Is="beforeMain",$s="main",Ws="afterMain",Bs="beforeWrite",zs="write",_s="afterWrite",Ls=[Es,Os,ks,Is,$s,Ws,Bs,zs,_s];function De(t){return t?(t.nodeName||"").toLowerCase():null}function fe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function _e(t){var e=fe(t).Element;return t instanceof e||t instanceof Element}function ge(t){var e=fe(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Gt(t){if(typeof ShadowRoot>"u")return!1;var e=fe(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Ns(t){var e=t.state;Object.keys(e.elements).forEach(function(o){var s=e.styles[o]||{},n=e.attributes[o]||{},a=e.elements[o];!ge(a)||!De(a)||(Object.assign(a.style,s),Object.keys(n).forEach(function(p){var l=n[p];l===!1?a.removeAttribute(p):a.setAttribute(p,l===!0?"":l)}))})}function Us(t){var e=t.state,o={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,o.popper),e.styles=o,e.elements.arrow&&Object.assign(e.elements.arrow.style,o.arrow),function(){Object.keys(e.elements).forEach(function(s){var n=e.elements[s],a=e.attributes[s]||{},p=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:o[s]),l=p.reduce(function(i,h){return i[h]="",i},{});!ge(n)||!De(n)||(Object.assign(n.style,l),Object.keys(a).forEach(function(i){n.removeAttribute(i)}))})}}const Fs={name:"applyStyles",enabled:!0,phase:"write",fn:Ns,effect:Us,requires:["computeStyles"]};function Re(t){return t.split("-")[0]}var ze=Math.max,Tt=Math.min,Ve=Math.round;function zt(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Uo(){return!/^((?!chrome|android).)*safari/i.test(zt())}function qe(t,e,o){e===void 0&&(e=!1),o===void 0&&(o=!1);var s=t.getBoundingClientRect(),n=1,a=1;e&&ge(t)&&(n=t.offsetWidth>0&&Ve(s.width)/t.offsetWidth||1,a=t.offsetHeight>0&&Ve(s.height)/t.offsetHeight||1);var p=_e(t)?fe(t):window,l=p.visualViewport,i=!Uo()&&o,h=(s.left+(i&&l?l.offsetLeft:0))/n,c=(s.top+(i&&l?l.offsetTop:0))/a,y=s.width/n,f=s.height/a;return{width:y,height:f,top:c,right:h+y,bottom:c+f,left:h,x:h,y:c}}function Xt(t){var e=qe(t),o=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-o)<=1&&(o=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:o,height:s}}function Fo(t,e){var o=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(o&&Gt(o)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Ee(t){return fe(t).getComputedStyle(t)}function Hs(t){return["table","td","th"].indexOf(De(t))>=0}function Ie(t){return((_e(t)?t.ownerDocument:t.document)||window.document).documentElement}function Rt(t){return De(t)==="html"?t:t.assignedSlot||t.parentNode||(Gt(t)?t.host:null)||Ie(t)}function mo(t){return!ge(t)||Ee(t).position==="fixed"?null:t.offsetParent}function Vs(t){var e=/firefox/i.test(zt()),o=/Trident/i.test(zt());if(o&&ge(t)){var s=Ee(t);if(s.position==="fixed")return null}var n=Rt(t);for(Gt(n)&&(n=n.host);ge(n)&&["html","body"].indexOf(De(n))<0;){var a=Ee(n);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return n;n=n.parentNode}return null}function ut(t){for(var e=fe(t),o=mo(t);o&&Hs(o)&&Ee(o).position==="static";)o=mo(o);return o&&(De(o)==="html"||De(o)==="body"&&Ee(o).position==="static")?e:o||Vs(t)||e}function Yt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function at(t,e,o){return ze(t,Tt(e,o))}function qs(t,e,o){var s=at(t,e,o);return s>o?o:s}function Ho(){return{top:0,right:0,bottom:0,left:0}}function Vo(t){return Object.assign({},Ho(),t)}function qo(t,e){return e.reduce(function(o,s){return o[s]=t,o},{})}var Gs=function(e,o){return e=typeof e=="function"?e(Object.assign({},o.rects,{placement:o.placement})):e,Vo(typeof e!="number"?e:qo(e,dt))};function Xs(t){var e,o=t.state,s=t.name,n=t.options,a=o.elements.arrow,p=o.modifiersData.popperOffsets,l=Re(o.placement),i=Yt(l),h=[ce,me].indexOf(l)>=0,c=h?"height":"width";if(!(!a||!p)){var y=Gs(n.padding,o),f=Xt(a),v=i==="y"?le:ce,C=i==="y"?he:me,x=o.rects.reference[c]+o.rects.reference[i]-p[i]-o.rects.popper[c],j=p[i]-o.rects.reference[i],g=ut(a),b=g?i==="y"?g.clientHeight||0:g.clientWidth||0:0,S=x/2-j/2,T=y[v],A=b-f[c]-y[C],m=b/2-f[c]/2+S,w=at(T,m,A),E=i;o.modifiersData[s]=(e={},e[E]=w,e.centerOffset=w-m,e)}}function Ys(t){var e=t.state,o=t.options,s=o.element,n=s===void 0?"[data-popper-arrow]":s;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||Fo(e.elements.popper,n)&&(e.elements.arrow=n))}const Ks={name:"arrow",enabled:!0,phase:"main",fn:Xs,effect:Ys,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ge(t){return t.split("-")[1]}var Js={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zs(t,e){var o=t.x,s=t.y,n=e.devicePixelRatio||1;return{x:Ve(o*n)/n||0,y:Ve(s*n)/n||0}}function vo(t){var e,o=t.popper,s=t.popperRect,n=t.placement,a=t.variation,p=t.offsets,l=t.position,i=t.gpuAcceleration,h=t.adaptive,c=t.roundOffsets,y=t.isFixed,f=p.x,v=f===void 0?0:f,C=p.y,x=C===void 0?0:C,j=typeof c=="function"?c({x:v,y:x}):{x:v,y:x};v=j.x,x=j.y;var g=p.hasOwnProperty("x"),b=p.hasOwnProperty("y"),S=ce,T=le,A=window;if(h){var m=ut(o),w="clientHeight",E="clientWidth";if(m===fe(o)&&(m=Ie(o),Ee(m).position!=="static"&&l==="absolute"&&(w="scrollHeight",E="scrollWidth")),m=m,n===le||(n===ce||n===me)&&a===ct){T=he;var k=y&&m===A&&A.visualViewport?A.visualViewport.height:m[w];x-=k-s.height,x*=i?1:-1}if(n===ce||(n===le||n===he)&&a===ct){S=me;var R=y&&m===A&&A.visualViewport?A.visualViewport.width:m[E];v-=R-s.width,v*=i?1:-1}}var I=Object.assign({position:l},h&&Js),H=c===!0?Zs({x:v,y:x},fe(o)):{x:v,y:x};if(v=H.x,x=H.y,i){var $;return Object.assign({},I,($={},$[T]=b?"0":"",$[S]=g?"0":"",$.transform=(A.devicePixelRatio||1)<=1?"translate("+v+"px, "+x+"px)":"translate3d("+v+"px, "+x+"px, 0)",$))}return Object.assign({},I,(e={},e[T]=b?x+"px":"",e[S]=g?v+"px":"",e.transform="",e))}function Qs(t){var e=t.state,o=t.options,s=o.gpuAcceleration,n=s===void 0?!0:s,a=o.adaptive,p=a===void 0?!0:a,l=o.roundOffsets,i=l===void 0?!0:l,h={placement:Re(e.placement),variation:Ge(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,vo(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:p,roundOffsets:i})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,vo(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const en={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qs,data:{}};var xt={passive:!0};function tn(t){var e=t.state,o=t.instance,s=t.options,n=s.scroll,a=n===void 0?!0:n,p=s.resize,l=p===void 0?!0:p,i=fe(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&h.forEach(function(c){c.addEventListener("scroll",o.update,xt)}),l&&i.addEventListener("resize",o.update,xt),function(){a&&h.forEach(function(c){c.removeEventListener("scroll",o.update,xt)}),l&&i.removeEventListener("resize",o.update,xt)}}const on={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tn,data:{}};var rn={left:"right",right:"left",bottom:"top",top:"bottom"};function Ct(t){return t.replace(/left|right|bottom|top/g,function(e){return rn[e]})}var sn={start:"end",end:"start"};function xo(t){return t.replace(/start|end/g,function(e){return sn[e]})}function Kt(t){var e=fe(t),o=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:o,scrollTop:s}}function Jt(t){return qe(Ie(t)).left+Kt(t).scrollLeft}function nn(t,e){var o=fe(t),s=Ie(t),n=o.visualViewport,a=s.clientWidth,p=s.clientHeight,l=0,i=0;if(n){a=n.width,p=n.height;var h=Uo();(h||!h&&e==="fixed")&&(l=n.offsetLeft,i=n.offsetTop)}return{width:a,height:p,x:l+Jt(t),y:i}}function an(t){var e,o=Ie(t),s=Kt(t),n=(e=t.ownerDocument)==null?void 0:e.body,a=ze(o.scrollWidth,o.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),p=ze(o.scrollHeight,o.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-s.scrollLeft+Jt(t),i=-s.scrollTop;return Ee(n||o).direction==="rtl"&&(l+=ze(o.clientWidth,n?n.clientWidth:0)-a),{width:a,height:p,x:l,y:i}}function Zt(t){var e=Ee(t),o=e.overflow,s=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(o+n+s)}function Go(t){return["html","body","#document"].indexOf(De(t))>=0?t.ownerDocument.body:ge(t)&&Zt(t)?t:Go(Rt(t))}function it(t,e){var o;e===void 0&&(e=[]);var s=Go(t),n=s===((o=t.ownerDocument)==null?void 0:o.body),a=fe(s),p=n?[a].concat(a.visualViewport||[],Zt(s)?s:[]):s,l=e.concat(p);return n?l:l.concat(it(Rt(p)))}function _t(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ln(t,e){var o=qe(t,!1,e==="fixed");return o.top=o.top+t.clientTop,o.left=o.left+t.clientLeft,o.bottom=o.top+t.clientHeight,o.right=o.left+t.clientWidth,o.width=t.clientWidth,o.height=t.clientHeight,o.x=o.left,o.y=o.top,o}function bo(t,e,o){return e===Lo?_t(nn(t,o)):_e(e)?ln(e,o):_t(an(Ie(t)))}function cn(t){var e=it(Rt(t)),o=["absolute","fixed"].indexOf(Ee(t).position)>=0,s=o&&ge(t)?ut(t):t;return _e(s)?e.filter(function(n){return _e(n)&&Fo(n,s)&&De(n)!=="body"}):[]}function pn(t,e,o,s){var n=e==="clippingParents"?cn(t):[].concat(e),a=[].concat(n,[o]),p=a[0],l=a.reduce(function(i,h){var c=bo(t,h,s);return i.top=ze(c.top,i.top),i.right=Tt(c.right,i.right),i.bottom=Tt(c.bottom,i.bottom),i.left=ze(c.left,i.left),i},bo(t,p,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Xo(t){var e=t.reference,o=t.element,s=t.placement,n=s?Re(s):null,a=s?Ge(s):null,p=e.x+e.width/2-o.width/2,l=e.y+e.height/2-o.height/2,i;switch(n){case le:i={x:p,y:e.y-o.height};break;case he:i={x:p,y:e.y+e.height};break;case me:i={x:e.x+e.width,y:l};break;case ce:i={x:e.x-o.width,y:l};break;default:i={x:e.x,y:e.y}}var h=n?Yt(n):null;if(h!=null){var c=h==="y"?"height":"width";switch(a){case He:i[h]=i[h]-(e[c]/2-o[c]/2);break;case ct:i[h]=i[h]+(e[c]/2-o[c]/2);break}}return i}function pt(t,e){e===void 0&&(e={});var o=e,s=o.placement,n=s===void 0?t.placement:s,a=o.strategy,p=a===void 0?t.strategy:a,l=o.boundary,i=l===void 0?Rs:l,h=o.rootBoundary,c=h===void 0?Lo:h,y=o.elementContext,f=y===void 0?et:y,v=o.altBoundary,C=v===void 0?!1:v,x=o.padding,j=x===void 0?0:x,g=Vo(typeof j!="number"?j:qo(j,dt)),b=f===et?Ds:et,S=t.rects.popper,T=t.elements[C?b:f],A=pn(_e(T)?T:T.contextElement||Ie(t.elements.popper),i,c,p),m=qe(t.elements.reference),w=Xo({reference:m,element:S,placement:n}),E=_t(Object.assign({},S,w)),k=f===et?E:m,R={top:A.top-k.top+g.top,bottom:k.bottom-A.bottom+g.bottom,left:A.left-k.left+g.left,right:k.right-A.right+g.right},I=t.modifiersData.offset;if(f===et&&I){var H=I[n];Object.keys(R).forEach(function($){var V=[me,he].indexOf($)>=0?1:-1,G=[le,he].indexOf($)>=0?"y":"x";R[$]+=H[G]*V})}return R}function dn(t,e){e===void 0&&(e={});var o=e,s=o.placement,n=o.boundary,a=o.rootBoundary,p=o.padding,l=o.flipVariations,i=o.allowedAutoPlacements,h=i===void 0?No:i,c=Ge(s),y=c?l?ho:ho.filter(function(C){return Ge(C)===c}):dt,f=y.filter(function(C){return h.indexOf(C)>=0});f.length===0&&(f=y);var v=f.reduce(function(C,x){return C[x]=pt(t,{placement:x,boundary:n,rootBoundary:a,padding:p})[Re(x)],C},{});return Object.keys(v).sort(function(C,x){return v[C]-v[x]})}function un(t){if(Re(t)===qt)return[];var e=Ct(t);return[xo(t),e,xo(e)]}function fn(t){var e=t.state,o=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var n=o.mainAxis,a=n===void 0?!0:n,p=o.altAxis,l=p===void 0?!0:p,i=o.fallbackPlacements,h=o.padding,c=o.boundary,y=o.rootBoundary,f=o.altBoundary,v=o.flipVariations,C=v===void 0?!0:v,x=o.allowedAutoPlacements,j=e.options.placement,g=Re(j),b=g===j,S=i||(b||!C?[Ct(j)]:un(j)),T=[j].concat(S).reduce(function(X,J){return X.concat(Re(J)===qt?dn(e,{placement:J,boundary:c,rootBoundary:y,padding:h,flipVariations:C,allowedAutoPlacements:x}):J)},[]),A=e.rects.reference,m=e.rects.popper,w=new Map,E=!0,k=T[0],R=0;R<T.length;R++){var I=T[R],H=Re(I),$=Ge(I)===He,V=[le,he].indexOf(H)>=0,G=V?"width":"height",F=pt(e,{placement:I,boundary:c,rootBoundary:y,altBoundary:f,padding:h}),B=V?$?me:ce:$?he:le;A[G]>m[G]&&(B=Ct(B));var u=Ct(B),P=[];if(a&&P.push(F[H]<=0),l&&P.push(F[B]<=0,F[u]<=0),P.every(function(X){return X})){k=I,E=!1;break}w.set(I,P)}if(E)for(var D=C?3:1,W=function(J){var O=T.find(function(q){var K=w.get(q);if(K)return K.slice(0,J).every(function(ne){return ne})});if(O)return k=O,"break"},_=D;_>0;_--){var Y=W(_);if(Y==="break")break}e.placement!==k&&(e.modifiersData[s]._skip=!0,e.placement=k,e.reset=!0)}}const gn={name:"flip",enabled:!0,phase:"main",fn,requiresIfExists:["offset"],data:{_skip:!1}};function yo(t,e,o){return o===void 0&&(o={x:0,y:0}),{top:t.top-e.height-o.y,right:t.right-e.width+o.x,bottom:t.bottom-e.height+o.y,left:t.left-e.width-o.x}}function wo(t){return[le,me,he,ce].some(function(e){return t[e]>=0})}function hn(t){var e=t.state,o=t.name,s=e.rects.reference,n=e.rects.popper,a=e.modifiersData.preventOverflow,p=pt(e,{elementContext:"reference"}),l=pt(e,{altBoundary:!0}),i=yo(p,s),h=yo(l,n,a),c=wo(i),y=wo(h);e.modifiersData[o]={referenceClippingOffsets:i,popperEscapeOffsets:h,isReferenceHidden:c,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":y})}const mn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hn};function vn(t,e,o){var s=Re(t),n=[ce,le].indexOf(s)>=0?-1:1,a=typeof o=="function"?o(Object.assign({},e,{placement:t})):o,p=a[0],l=a[1];return p=p||0,l=(l||0)*n,[ce,me].indexOf(s)>=0?{x:l,y:p}:{x:p,y:l}}function xn(t){var e=t.state,o=t.options,s=t.name,n=o.offset,a=n===void 0?[0,0]:n,p=No.reduce(function(c,y){return c[y]=vn(y,e.rects,a),c},{}),l=p[e.placement],i=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=i,e.modifiersData.popperOffsets.y+=h),e.modifiersData[s]=p}const bn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:xn};function yn(t){var e=t.state,o=t.name;e.modifiersData[o]=Xo({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const wn={name:"popperOffsets",enabled:!0,phase:"read",fn:yn,data:{}};function Cn(t){return t==="x"?"y":"x"}function jn(t){var e=t.state,o=t.options,s=t.name,n=o.mainAxis,a=n===void 0?!0:n,p=o.altAxis,l=p===void 0?!1:p,i=o.boundary,h=o.rootBoundary,c=o.altBoundary,y=o.padding,f=o.tether,v=f===void 0?!0:f,C=o.tetherOffset,x=C===void 0?0:C,j=pt(e,{boundary:i,rootBoundary:h,padding:y,altBoundary:c}),g=Re(e.placement),b=Ge(e.placement),S=!b,T=Yt(g),A=Cn(T),m=e.modifiersData.popperOffsets,w=e.rects.reference,E=e.rects.popper,k=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,R=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(m){if(a){var $,V=T==="y"?le:ce,G=T==="y"?he:me,F=T==="y"?"height":"width",B=m[T],u=B+j[V],P=B-j[G],D=v?-E[F]/2:0,W=b===He?w[F]:E[F],_=b===He?-E[F]:-w[F],Y=e.elements.arrow,X=v&&Y?Xt(Y):{width:0,height:0},J=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ho(),O=J[V],q=J[G],K=at(0,w[F],X[F]),ne=S?w[F]/2-D-K-O-R.mainAxis:W-K-O-R.mainAxis,ae=S?-w[F]/2+D+K+q+R.mainAxis:_+K+q+R.mainAxis,M=e.elements.arrow&&ut(e.elements.arrow),Z=M?T==="y"?M.clientTop||0:M.clientLeft||0:0,N=($=I==null?void 0:I[T])!=null?$:0,Q=B+ne-N-Z,Se=B+ae-N,Ne=at(v?Tt(u,Q):u,B,v?ze(P,Se):P);m[T]=Ne,H[T]=Ne-B}if(l){var ie,Me=T==="x"?le:ce,Xe=T==="x"?he:me,Pe=m[A],$e=A==="y"?"height":"width",Ye=Pe+j[Me],Ke=Pe-j[Xe],Je=[le,ce].indexOf(g)!==-1,ft=(ie=I==null?void 0:I[A])!=null?ie:0,gt=Je?Ye:Pe-w[$e]-E[$e]-ft+R.altAxis,Ue=Je?Pe+w[$e]+E[$e]-ft-R.altAxis:Ke,ht=v&&Je?qs(gt,Pe,Ue):at(v?gt:Ye,Pe,v?Ue:Ke);m[A]=ht,H[A]=ht-Pe}e.modifiersData[s]=H}}const Tn={name:"preventOverflow",enabled:!0,phase:"main",fn:jn,requiresIfExists:["offset"]};function An(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Sn(t){return t===fe(t)||!ge(t)?Kt(t):An(t)}function Mn(t){var e=t.getBoundingClientRect(),o=Ve(e.width)/t.offsetWidth||1,s=Ve(e.height)/t.offsetHeight||1;return o!==1||s!==1}function Pn(t,e,o){o===void 0&&(o=!1);var s=ge(e),n=ge(e)&&Mn(e),a=Ie(e),p=qe(t,n,o),l={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(s||!s&&!o)&&((De(e)!=="body"||Zt(a))&&(l=Sn(e)),ge(e)?(i=qe(e,!0),i.x+=e.clientLeft,i.y+=e.clientTop):a&&(i.x=Jt(a))),{x:p.left+l.scrollLeft-i.x,y:p.top+l.scrollTop-i.y,width:p.width,height:p.height}}function Rn(t){var e=new Map,o=new Set,s=[];t.forEach(function(a){e.set(a.name,a)});function n(a){o.add(a.name);var p=[].concat(a.requires||[],a.requiresIfExists||[]);p.forEach(function(l){if(!o.has(l)){var i=e.get(l);i&&n(i)}}),s.push(a)}return t.forEach(function(a){o.has(a.name)||n(a)}),s}function Dn(t){var e=Rn(t);return Ls.reduce(function(o,s){return o.concat(e.filter(function(n){return n.phase===s}))},[])}function En(t){var e;return function(){return e||(e=new Promise(function(o){Promise.resolve().then(function(){e=void 0,o(t())})})),e}}function On(t){var e=t.reduce(function(o,s){var n=o[s.name];return o[s.name]=n?Object.assign({},n,s,{options:Object.assign({},n.options,s.options),data:Object.assign({},n.data,s.data)}):s,o},{});return Object.keys(e).map(function(o){return e[o]})}var Co={placement:"bottom",modifiers:[],strategy:"absolute"};function jo(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function kn(t){t===void 0&&(t={});var e=t,o=e.defaultModifiers,s=o===void 0?[]:o,n=e.defaultOptions,a=n===void 0?Co:n;return function(l,i,h){h===void 0&&(h=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Co,a),modifiersData:{},elements:{reference:l,popper:i},attributes:{},styles:{}},y=[],f=!1,v={state:c,setOptions:function(g){var b=typeof g=="function"?g(c.options):g;x(),c.options=Object.assign({},a,c.options,b),c.scrollParents={reference:_e(l)?it(l):l.contextElement?it(l.contextElement):[],popper:it(i)};var S=Dn(On([].concat(s,c.options.modifiers)));return c.orderedModifiers=S.filter(function(T){return T.enabled}),C(),v.update()},forceUpdate:function(){if(!f){var g=c.elements,b=g.reference,S=g.popper;if(jo(b,S)){c.rects={reference:Pn(b,ut(S),c.options.strategy==="fixed"),popper:Xt(S)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(R){return c.modifiersData[R.name]=Object.assign({},R.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var A=c.orderedModifiers[T],m=A.fn,w=A.options,E=w===void 0?{}:w,k=A.name;typeof m=="function"&&(c=m({state:c,options:E,name:k,instance:v})||c)}}}},update:En(function(){return new Promise(function(j){v.forceUpdate(),j(c)})}),destroy:function(){x(),f=!0}};if(!jo(l,i))return v;v.setOptions(h).then(function(j){!f&&h.onFirstUpdate&&h.onFirstUpdate(j)});function C(){c.orderedModifiers.forEach(function(j){var g=j.name,b=j.options,S=b===void 0?{}:b,T=j.effect;if(typeof T=="function"){var A=T({state:c,name:g,instance:v,options:S}),m=function(){};y.push(A||m)}})}function x(){y.forEach(function(j){return j()}),y=[]}return v}}var In=[on,wn,en,Fs,bn,gn,Tn,Ks,mn],$n=kn({defaultModifiers:In});function Wn(t){return ve("MuiPopper",t)}xe("MuiPopper",["root"]);function Bn(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function Lt(t){return typeof t=="function"?t():t}function zn(t){return t.nodeType!==void 0}const _n=t=>{const{classes:e}=t;return ye({root:["root"]},Wn,e)},Ln={},Nn=d.forwardRef(function(e,o){const{anchorEl:s,children:n,direction:a,disablePortal:p,modifiers:l,open:i,placement:h,popperOptions:c,popperRef:y,slotProps:f={},slots:v={},TransitionProps:C,ownerState:x,...j}=e,g=d.useRef(null),b=jt(g,o),S=d.useRef(null),T=jt(S,y),A=d.useRef(T);oo(()=>{A.current=T},[T]),d.useImperativeHandle(y,()=>S.current,[]);const m=Bn(h,a),[w,E]=d.useState(m),[k,R]=d.useState(Lt(s));d.useEffect(()=>{S.current&&S.current.forceUpdate()}),d.useEffect(()=>{s&&R(Lt(s))},[s]),oo(()=>{if(!k||!i)return;const G=u=>{E(u.placement)};let F=[{name:"preventOverflow",options:{altBoundary:p}},{name:"flip",options:{altBoundary:p}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:u})=>{G(u)}}];l!=null&&(F=F.concat(l)),c&&c.modifiers!=null&&(F=F.concat(c.modifiers));const B=$n(k,g.current,{placement:m,...c,modifiers:F});return A.current(B),()=>{B.destroy(),A.current(null)}},[k,p,l,i,c,m]);const I={placement:w};C!==null&&(I.TransitionProps=C);const H=_n(e),$=v.root??"div",V=ts({elementType:$,externalSlotProps:f.root,externalForwardedProps:j,additionalProps:{role:"tooltip",ref:b},ownerState:e,className:H.root});return r.jsx($,{...V,children:typeof n=="function"?n(I):n})}),Un=d.forwardRef(function(e,o){const{anchorEl:s,children:n,container:a,direction:p="ltr",disablePortal:l=!1,keepMounted:i=!1,modifiers:h,open:c,placement:y="bottom",popperOptions:f=Ln,popperRef:v,style:C,transition:x=!1,slotProps:j={},slots:g={},...b}=e,[S,T]=d.useState(!0),A=()=>{T(!1)},m=()=>{T(!0)};if(!i&&!c&&(!x||S))return null;let w;if(a)w=a;else if(s){const R=Lt(s);w=R&&zn(R)?po(R).body:po(null).body}const E=!c&&i&&(!x||S)?"none":void 0,k=x?{in:c,onEnter:A,onExited:m}:void 0;return r.jsx(es,{disablePortal:l,container:w,children:r.jsx(Nn,{anchorEl:s,direction:p,disablePortal:l,modifiers:h,ref:o,open:x?!S:c,placement:y,popperOptions:f,popperRef:v,slotProps:j,slots:g,...b,style:{position:"fixed",top:0,left:0,display:E,...C},TransitionProps:k,children:n})})}),Fn=ee(Un,{name:"MuiPopper",slot:"Root"})({}),Yo=d.forwardRef(function(e,o){const s=Do(),n=be({props:e,name:"MuiPopper"}),{anchorEl:a,component:p,components:l,componentsProps:i,container:h,disablePortal:c,keepMounted:y,modifiers:f,open:v,placement:C,popperOptions:x,popperRef:j,transition:g,slots:b,slotProps:S,...T}=n,A=(b==null?void 0:b.root)??(l==null?void 0:l.Root),m={anchorEl:a,container:h,disablePortal:c,keepMounted:y,modifiers:f,open:v,placement:C,popperOptions:x,popperRef:j,transition:g,...T};return r.jsx(Fn,{as:p,direction:s?"rtl":"ltr",slots:{root:A},slotProps:S??i,...m,ref:o})});function Hn(t){const{badgeContent:e,invisible:o=!1,max:s=99,showZero:n=!1}=t,a=_o({badgeContent:e,max:s});let p=o;o===!1&&e===0&&!n&&(p=!0);const{badgeContent:l,max:i=s}=p?a:t,h=l&&Number(l)>i?`${i}+`:l;return{badgeContent:l,invisible:p,max:i,displayValue:h}}function Vn(t){return ve("MuiBadge",t)}const Oe=xe("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Ot=10,kt=4,qn=t=>{const{color:e,anchorOrigin:o,invisible:s,overlap:n,variant:a,classes:p={}}=t,l={root:["root"],badge:["badge",a,s&&"invisible",`anchorOrigin${oe(o.vertical)}${oe(o.horizontal)}`,`anchorOrigin${oe(o.vertical)}${oe(o.horizontal)}${oe(n)}`,`overlap${oe(n)}`,e!=="default"&&`color${oe(e)}`]};return ye(l,Vn,p)},Gn=ee("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Xn=ee("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.badge,e[o.variant],e[`anchorOrigin${oe(o.anchorOrigin.vertical)}${oe(o.anchorOrigin.horizontal)}${oe(o.overlap)}`],o.color!=="default"&&e[`color${oe(o.color)}`],o.invisible&&e.invisible]}})(ue(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Ot*2,lineHeight:1,padding:"0 6px",height:Ot*2,borderRadius:Ot,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(Pr(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:kt,height:kt*2,minWidth:kt*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function To(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const Yn=d.forwardRef(function(e,o){const s=be({props:e,name:"MuiBadge"}),{anchorOrigin:n,className:a,classes:p,component:l,components:i={},componentsProps:h={},children:c,overlap:y="rectangular",color:f="default",invisible:v=!1,max:C=99,badgeContent:x,slots:j,slotProps:g,showZero:b=!1,variant:S="standard",...T}=s,{badgeContent:A,invisible:m,max:w,displayValue:E}=Hn({max:C,invisible:v,badgeContent:x,showZero:b}),k=_o({anchorOrigin:To(n),color:f,overlap:y,variant:S,badgeContent:x}),R=m||A==null&&S!=="dot",{color:I=f,overlap:H=y,anchorOrigin:$,variant:V=S}=R?k:s,G=To($),F=V!=="dot"?E:void 0,B={...s,badgeContent:A,invisible:R,max:w,displayValue:F,showZero:b,anchorOrigin:G,color:I,overlap:H,variant:V},u=qn(B),P={slots:{root:(j==null?void 0:j.root)??i.Root,badge:(j==null?void 0:j.badge)??i.Badge},slotProps:{root:(g==null?void 0:g.root)??h.root,badge:(g==null?void 0:g.badge)??h.badge}},[D,W]=re("root",{elementType:Gn,externalForwardedProps:{...P,...T},ownerState:B,className:pe(u.root,a),ref:o,additionalProps:{as:l}}),[_,Y]=re("badge",{elementType:Xn,externalForwardedProps:P,ownerState:B,className:u.badge});return r.jsxs(D,{...W,children:[c,r.jsx(_,{...Y,children:F})]})});function Kn(t){return ve("MuiDialog",t)}const It=xe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Ko=d.createContext({}),Jn=ee(rs,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Zn=t=>{const{classes:e,scroll:o,maxWidth:s,fullWidth:n,fullScreen:a}=t,p={root:["root"],container:["container",`scroll${oe(o)}`],paper:["paper",`paperScroll${oe(o)}`,`paperWidth${oe(String(s))}`,n&&"paperFullWidth",a&&"paperFullScreen"]};return ye(p,Kn,e)},Qn=ee(os,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),ea=ee("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.container,e[`scroll${oe(o.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),ta=ee(Vt,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.paper,e[`scrollPaper${oe(o.scroll)}`],e[`paperWidth${oe(String(o.maxWidth))}`],o.fullWidth&&e.paperFullWidth,o.fullScreen&&e.paperFullScreen]}})(ue(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${It.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${It.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${It.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),At=d.forwardRef(function(e,o){const s=be({props:e,name:"MuiDialog"}),n=Pt(),a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":p,"aria-labelledby":l,"aria-modal":i=!0,BackdropComponent:h,BackdropProps:c,children:y,className:f,disableEscapeKeyDown:v=!1,fullScreen:C=!1,fullWidth:x=!1,maxWidth:j="sm",onClick:g,onClose:b,open:S,PaperComponent:T=Vt,PaperProps:A={},scroll:m="paper",slots:w={},slotProps:E={},TransitionComponent:k=uo,transitionDuration:R=a,TransitionProps:I,...H}=s,$={...s,disableEscapeKeyDown:v,fullScreen:C,fullWidth:x,maxWidth:j,scroll:m},V=Zn($),G=d.useRef(),F=N=>{G.current=N.target===N.currentTarget},B=N=>{g&&g(N),G.current&&(G.current=null,b&&b(N,"backdropClick"))},u=Wo(l),P=d.useMemo(()=>({titleId:u}),[u]),D={transition:k,...w},W={transition:I,paper:A,backdrop:c,...E},_={slots:D,slotProps:W},[Y,X]=re("root",{elementType:Qn,shouldForwardComponentProp:!0,externalForwardedProps:_,ownerState:$,className:pe(V.root,f),ref:o}),[J,O]=re("backdrop",{elementType:Jn,shouldForwardComponentProp:!0,externalForwardedProps:_,ownerState:$}),[q,K]=re("paper",{elementType:ta,shouldForwardComponentProp:!0,externalForwardedProps:_,ownerState:$,className:pe(V.paper,A.className)}),[ne,ae]=re("container",{elementType:ea,externalForwardedProps:_,ownerState:$,className:V.container}),[M,Z]=re("transition",{elementType:uo,externalForwardedProps:_,ownerState:$,additionalProps:{appear:!0,in:S,timeout:R,role:"presentation"}});return r.jsx(Y,{closeAfterTransition:!0,slots:{backdrop:J},slotProps:{backdrop:{transitionDuration:R,as:h,...O}},disableEscapeKeyDown:v,onClose:b,open:S,onClick:B,...X,...H,children:r.jsx(M,{...Z,children:r.jsx(ne,{onMouseDown:F,...ae,children:r.jsx(q,{as:T,elevation:24,role:"dialog","aria-describedby":p,"aria-labelledby":u,"aria-modal":i,...K,children:r.jsx(Ko.Provider,{value:P,children:y})})})})})});function oa(t){return ve("MuiDialogActions",t)}xe("MuiDialogActions",["root","spacing"]);const ra=t=>{const{classes:e,disableSpacing:o}=t;return ye({root:["root",!o&&"spacing"]},oa,e)},sa=ee("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,!o.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Qt=d.forwardRef(function(e,o){const s=be({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:a=!1,...p}=s,l={...s,disableSpacing:a},i=ra(l);return r.jsx(sa,{className:pe(i.root,n),ownerState:l,ref:o,...p})});function na(t){return ve("MuiDialogContent",t)}xe("MuiDialogContent",["root","dividers"]);function aa(t){return ve("MuiDialogTitle",t)}const ia=xe("MuiDialogTitle",["root"]),la=t=>{const{classes:e,dividers:o}=t;return ye({root:["root",o&&"dividers"]},na,e)},ca=ee("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.dividers&&e.dividers]}})(ue(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${ia.root} + &`]:{paddingTop:0}}}]}))),St=d.forwardRef(function(e,o){const s=be({props:e,name:"MuiDialogContent"}),{className:n,dividers:a=!1,...p}=s,l={...s,dividers:a},i=la(l);return r.jsx(ca,{className:pe(i.root,n),ownerState:l,ref:o,...p})}),pa=t=>{const{classes:e}=t;return ye({root:["root"]},aa,e)},da=ee(z,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Mt=d.forwardRef(function(e,o){const s=be({props:e,name:"MuiDialogTitle"}),{className:n,id:a,...p}=s,l=s,i=pa(l),{titleId:h=a}=d.useContext(Ko);return r.jsx(da,{component:"h2",className:pe(i.root,n),ownerState:l,ref:o,variant:"h6",id:a??h,...p})});function ua(t){return ve("MuiListItemAvatar",t)}xe("MuiListItemAvatar",["root","alignItemsFlexStart"]);const fa=t=>{const{alignItems:e,classes:o}=t;return ye({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},ua,o)},ga=ee("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.alignItems==="flex-start"&&e.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),Jo=d.forwardRef(function(e,o){const s=be({props:e,name:"MuiListItemAvatar"}),{className:n,...a}=s,p=d.useContext(Rr),l={...s,alignItems:p.alignItems},i=fa(l);return r.jsx(ga,{className:pe(i.root,n),ownerState:l,ref:o,...a})});function ha(t){return ve("MuiTooltip",t)}const te=xe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function ma(t){return Math.round(t*1e5)/1e5}const va=t=>{const{classes:e,disableInteractive:o,arrow:s,touch:n,placement:a}=t,p={popper:["popper",!o&&"popperInteractive",s&&"popperArrow"],tooltip:["tooltip",s&&"tooltipArrow",n&&"touch",`tooltipPlacement${oe(a.split("-")[0])}`],arrow:["arrow"]};return ye(p,ha,e)},xa=ee(Yo,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.popper,!o.disableInteractive&&e.popperInteractive,o.arrow&&e.popperArrow,!o.open&&e.popperClose]}})(ue(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${te.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${te.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${te.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${te.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${te.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${te.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${te.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${te.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),ba=ee("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.tooltip,o.touch&&e.touch,o.arrow&&e.tooltipArrow,e[`tooltipPlacement${oe(o.placement.split("-")[0])}`]]}})(ue(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Eo(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${te.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${te.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${te.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${te.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${ma(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${te.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${te.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${te.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${te.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${te.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${te.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${te.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${te.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${te.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${te.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),ya=ee("span",{name:"MuiTooltip",slot:"Arrow"})(ue(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Eo(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let bt=!1;const Ao=new Dr;let tt={x:0,y:0};function yt(t,e){return(o,...s)=>{e&&e(o,...s),t(o,...s)}}const eo=d.forwardRef(function(e,o){const s=be({props:e,name:"MuiTooltip"}),{arrow:n=!1,children:a,classes:p,components:l={},componentsProps:i={},describeChild:h=!1,disableFocusListener:c=!1,disableHoverListener:y=!1,disableInteractive:f=!1,disableTouchListener:v=!1,enterDelay:C=100,enterNextDelay:x=0,enterTouchDelay:j=700,followCursor:g=!1,id:b,leaveDelay:S=0,leaveTouchDelay:T=1500,onClose:A,onOpen:m,open:w,placement:E="bottom",PopperComponent:k,PopperProps:R={},slotProps:I={},slots:H={},title:$,TransitionComponent:V,TransitionProps:G,...F}=s,B=d.isValidElement(a)?a:r.jsx("span",{children:a}),u=Pt(),P=Do(),[D,W]=d.useState(),[_,Y]=d.useState(null),X=d.useRef(!1),J=f||g,O=rt(),q=rt(),K=rt(),ne=rt(),[ae,M]=$o({controlled:w,default:!1,name:"Tooltip",state:"open"});let Z=ae;const N=Wo(b),Q=d.useRef(),Se=ro(()=>{Q.current!==void 0&&(document.body.style.WebkitUserSelect=Q.current,Q.current=void 0),ne.clear()});d.useEffect(()=>Se,[Se]);const Ne=U=>{Ao.clear(),bt=!0,M(!0),m&&!Z&&m(U)},ie=ro(U=>{Ao.start(800+S,()=>{bt=!1}),M(!1),A&&Z&&A(U),O.start(u.transitions.duration.shortest,()=>{X.current=!1})}),Me=U=>{X.current&&U.type!=="touchstart"||(D&&D.removeAttribute("title"),q.clear(),K.clear(),C||bt&&x?q.start(bt?x:C,()=>{Ne(U)}):Ne(U))},Xe=U=>{q.clear(),K.start(S,()=>{ie(U)})},[,Pe]=d.useState(!1),$e=U=>{so(U.target)||(Pe(!1),Xe(U))},Ye=U=>{D||W(U.currentTarget),so(U.target)&&(Pe(!0),Me(U))},Ke=U=>{X.current=!0;const Te=B.props;Te.onTouchStart&&Te.onTouchStart(U)},Je=U=>{Ke(U),K.clear(),O.clear(),Se(),Q.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ne.start(j,()=>{document.body.style.WebkitUserSelect=Q.current,Me(U)})},ft=U=>{B.props.onTouchEnd&&B.props.onTouchEnd(U),Se(),K.start(T,()=>{ie(U)})};d.useEffect(()=>{if(!Z)return;function U(Te){Te.key==="Escape"&&ie(Te)}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[ie,Z]);const gt=jt(ss(B),W,o);!$&&$!==0&&(Z=!1);const Ue=d.useRef(),ht=U=>{const Te=B.props;Te.onMouseMove&&Te.onMouseMove(U),tt={x:U.clientX,y:U.clientY},Ue.current&&Ue.current.update()},Ze={},Dt=typeof $=="string";h?(Ze.title=!Z&&Dt&&!y?$:null,Ze["aria-describedby"]=Z?N:null):(Ze["aria-label"]=Dt?$:null,Ze["aria-labelledby"]=Z&&!Dt?N:null);const Ce={...Ze,...F,...B.props,className:pe(F.className,B.props.className),onTouchStart:Ke,ref:gt,...g?{onMouseMove:ht}:{}},Qe={};v||(Ce.onTouchStart=Je,Ce.onTouchEnd=ft),y||(Ce.onMouseOver=yt(Me,Ce.onMouseOver),Ce.onMouseLeave=yt(Xe,Ce.onMouseLeave),J||(Qe.onMouseOver=Me,Qe.onMouseLeave=Xe)),c||(Ce.onFocus=yt(Ye,Ce.onFocus),Ce.onBlur=yt($e,Ce.onBlur),J||(Qe.onFocus=Ye,Qe.onBlur=$e));const We={...s,isRtl:P,arrow:n,disableInteractive:J,placement:E,PopperComponentProp:k,touch:X.current},je=typeof I.popper=="function"?I.popper(We):I.popper,mr=d.useMemo(()=>{var Te,to;let U=[{name:"arrow",enabled:!!_,options:{element:_,padding:4}}];return(Te=R.popperOptions)!=null&&Te.modifiers&&(U=U.concat(R.popperOptions.modifiers)),(to=je==null?void 0:je.popperOptions)!=null&&to.modifiers&&(U=U.concat(je.popperOptions.modifiers)),{...R.popperOptions,...je==null?void 0:je.popperOptions,modifiers:U}},[_,R.popperOptions,je==null?void 0:je.popperOptions]),Et=va(We),vr=typeof I.transition=="function"?I.transition(We):I.transition,mt={slots:{popper:l.Popper,transition:l.Transition??V,tooltip:l.Tooltip,arrow:l.Arrow,...H},slotProps:{arrow:I.arrow??i.arrow,popper:{...R,...je??i.popper},tooltip:I.tooltip??i.tooltip,transition:{...G,...vr??i.transition}}},[xr,br]=re("popper",{elementType:xa,externalForwardedProps:mt,ownerState:We,className:pe(Et.popper,R==null?void 0:R.className)}),[yr,wr]=re("transition",{elementType:ns,externalForwardedProps:mt,ownerState:We}),[Cr,jr]=re("tooltip",{elementType:ba,className:Et.tooltip,externalForwardedProps:mt,ownerState:We}),[Tr,Ar]=re("arrow",{elementType:ya,className:Et.arrow,externalForwardedProps:mt,ownerState:We,ref:Y});return r.jsxs(d.Fragment,{children:[d.cloneElement(B,Ce),r.jsx(xr,{as:k??Yo,placement:E,anchorEl:g?{getBoundingClientRect:()=>({top:tt.y,left:tt.x,right:tt.x,bottom:tt.y,width:0,height:0})}:D,popperRef:Ue,open:D?Z:!1,id:N,transition:!0,...Qe,...br,popperOptions:mr,children:({TransitionProps:U})=>r.jsx(yr,{timeout:u.transitions.duration.shorter,...U,...wr,children:r.jsxs(Cr,{...jr,children:[$,n?r.jsx(Tr,{...Ar}):null]})})})]})});class wa extends d.Component{getSnapshotBeforeUpdate(e){const o=this.props.childRef.current;if(o&&e.isPresent&&!this.props.isPresent){const s=o.offsetParent,n=Or(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=o.offsetHeight||0,a.width=o.offsetWidth||0,a.top=o.offsetTop,a.left=o.offsetLeft,a.right=n-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ca({children:t,isPresent:e,anchorX:o,root:s}){const n=d.useId(),a=d.useRef(null),p=d.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=d.useContext(Er);return d.useInsertionEffect(()=>{const{width:i,height:h,top:c,left:y,right:f}=p.current;if(e||!a.current||!i||!h)return;const v=o==="left"?`left: ${y}`:`right: ${f}`;a.current.dataset.motionPopId=n;const C=document.createElement("style");l&&(C.nonce=l);const x=s??document.head;return x.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${h}px !important;
            ${v}px !important;
            top: ${c}px !important;
          }
        `),()=>{x.removeChild(C),x.contains(C)&&x.removeChild(C)}},[e]),r.jsx(wa,{isPresent:e,childRef:a,sizeRef:p,children:d.cloneElement(t,{ref:a})})}const ja=({children:t,initial:e,isPresent:o,onExitComplete:s,custom:n,presenceAffectsLayout:a,mode:p,anchorX:l,root:i})=>{const h=Oo(Ta),c=d.useId();let y=!0,f=d.useMemo(()=>(y=!1,{id:c,initial:e,isPresent:o,custom:n,onExitComplete:v=>{h.set(v,!0);for(const C of h.values())if(!C)return;s&&s()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[o,h,s]);return a&&y&&(f={...f}),d.useMemo(()=>{h.forEach((v,C)=>h.set(C,!1))},[o]),d.useEffect(()=>{!o&&!h.size&&s&&s()},[o]),p==="popLayout"&&(t=r.jsx(Ca,{isPresent:o,anchorX:l,root:i,children:t})),r.jsx(kr.Provider,{value:f,children:t})};function Ta(){return new Map}const wt=t=>t.key||"";function So(t){const e=[];return d.Children.forEach(t,o=>{d.isValidElement(o)&&e.push(o)}),e}const Aa=({children:t,custom:e,initial:o=!0,onExitComplete:s,presenceAffectsLayout:n=!0,mode:a="sync",propagate:p=!1,anchorX:l="left",root:i})=>{const[h,c]=Ir(p),y=d.useMemo(()=>So(t),[t]),f=p&&!h?[]:y.map(wt),v=d.useRef(!0),C=d.useRef(y),x=Oo(()=>new Map),[j,g]=d.useState(y),[b,S]=d.useState(y);$r(()=>{v.current=!1,C.current=y;for(let m=0;m<b.length;m++){const w=wt(b[m]);f.includes(w)?x.delete(w):x.get(w)!==!0&&x.set(w,!1)}},[b,f.length,f.join("-")]);const T=[];if(y!==j){let m=[...y];for(let w=0;w<b.length;w++){const E=b[w],k=wt(E);f.includes(k)||(m.splice(w,0,E),T.push(E))}return a==="wait"&&T.length&&(m=T),S(So(m)),g(y),null}const{forceRender:A}=d.useContext(Wr);return r.jsx(r.Fragment,{children:b.map(m=>{const w=wt(m),E=p&&!h?!1:y===b||f.includes(w),k=()=>{if(x.has(w))x.set(w,!0);else return;let R=!0;x.forEach(I=>{I||(R=!1)}),R&&(A==null||A(),S(C.current),p&&(c==null||c()),s&&s())};return r.jsx(ja,{isPresent:E,initial:!v.current||o?void 0:!1,custom:e,presenceAffectsLayout:n,mode:a,root:i,onExitComplete:E?void 0:k,anchorX:l,children:m},w)})})},Sa=we(r.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),Ma=we([r.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),r.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),$t=we(r.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"})),Pa=we(r.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),Mo=we(r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),Ra=we(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),Da=we(r.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),Zo=we(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),Po=we(r.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Ea=we(r.jsx("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"})),Oa=we([r.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),r.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),ka=we(r.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),Qo=()=>{var t;if(console.log("Инициализация Telegram WebApp..."),or(),typeof window<"u"&&((t=window.Telegram)!=null&&t.WebApp))try{const e=window.Telegram.WebApp;return e.ready(),e.expand(),e.setHeaderColor("#232b3b"),e.setBackgroundColor("#232b3b"),e.enableClosingConfirmation(),console.log("Telegram WebApp успешно инициализирован"),console.log("WebApp version:",e.version),console.log("WebApp platform:",e.platform),console.log("WebApp theme:",e.colorScheme),!0}catch(e){return console.error("Ошибка инициализации Telegram WebApp:",e),!1}return console.log("Telegram WebApp не найден"),!1},Ia=()=>{var t,e,o;if(typeof window<"u"&&((o=(e=(t=window.Telegram)==null?void 0:t.WebApp)==null?void 0:e.initDataUnsafe)!=null&&o.user)){const s=window.Telegram.WebApp.initDataUnsafe.user;return console.log("✅ Получены данные пользователя из Telegram WebApp:",s),s}return console.warn("❌ Данные пользователя недоступны - приложение не запущено из Telegram"),null},er=()=>{var t;if(console.log("=== Telegram WebApp Debug Info ==="),typeof window>"u"){console.log("❌ Window object not available");return}if(console.log("🔍 Telegram object:",window.Telegram?"✅ Available":"❌ Not available"),(t=window.Telegram)!=null&&t.WebApp){const e=window.Telegram.WebApp;console.log("🔍 WebApp object:","✅ Available"),console.log("🔍 WebApp version:",e.version),console.log("🔍 WebApp platform:",e.platform),console.log("🔍 WebApp colorScheme:",e.colorScheme),console.log("🔍 WebApp isExpanded:",e.isExpanded),console.log("🔍 WebApp viewportHeight:",e.viewportHeight),console.log("🔍 WebApp viewportStableHeight:",e.viewportStableHeight),console.log("🔍 InitData:",e.initData?`✅ Available (${e.initData.length} chars)`:"❌ Not available"),console.log("🔍 InitDataUnsafe:",e.initDataUnsafe?"✅ Available":"❌ Not available"),e.initDataUnsafe&&(console.log("🔍 InitDataUnsafe.user:",e.initDataUnsafe.user?"✅ Available":"❌ Not available"),console.log("🔍 InitDataUnsafe.query_id:",e.initDataUnsafe.query_id?"✅ Available":"❌ Not available"),console.log("🔍 InitDataUnsafe.auth_date:",e.initDataUnsafe.auth_date?"✅ Available":"❌ Not available"),console.log("🔍 InitDataUnsafe.hash:",e.initDataUnsafe.hash?"✅ Available":"❌ Not available"),e.initDataUnsafe.user&&console.log("🔍 User data:",JSON.stringify(e.initDataUnsafe.user,null,2)))}else console.log("❌ WebApp object not available");console.log("==================================")},Le=()=>{var t;if(console.log("Получение данных авторизации Telegram..."),er(),typeof window<"u"&&((t=window.Telegram)!=null&&t.WebApp)){console.log("Telegram WebApp найден");const e=window.Telegram.WebApp.initData;if(console.log("Telegram initData:",e?"найден":"отсутствует"),e)return console.log("✅ Используем реальные данные initData"),e;const o=window.Telegram.WebApp.initDataUnsafe;if(console.log("Telegram initDataUnsafe:",o),o!=null&&o.user)return console.log("✅ Найдены данные пользователя в initDataUnsafe"),console.log("👤 Пользователь:",o.user),console.warn("⚠️ initData отсутствует, но пользователь найден"),console.warn("⚠️ Приложение должно быть запущено из Telegram для полной функциональности"),""}return console.warn("❌ Приложение запущено не из Telegram WebApp"),console.warn("❌ Данные авторизации недоступны"),""},tr=()=>{var e;const t=typeof window<"u"&&!!((e=window.Telegram)!=null&&e.WebApp);return t?console.log("✅ Приложение запущено в Telegram WebApp"):console.warn("❌ Приложение не запущено в Telegram WebApp"),t},$a=()=>{if(console.log("🔄 Очищаем и пересоздаем данные авторизации..."),typeof window<"u"){localStorage.removeItem("telegram_init_data"),console.log("✅ Старые данные очищены");const t=Le();return console.log("✅ Новые данные созданы:",t?"успешно":"ошибка"),t}return""},or=()=>{typeof window<"u"&&(localStorage.removeItem("telegram_init_data"),console.log("🧹 Очищены старые данные авторизации"))},Wa=()=>{console.log("🧪 Тестируем данные авторизации...");const t=Le();if(t){console.log("✅ Данные авторизации найдены"),console.log("📊 Длина:",t.length),console.log("📋 Превью:",t.substring(0,100)+"...");try{const e=new URLSearchParams(t),o=e.get("user"),s=e.get("auth_date"),n=e.get("hash");if(console.log("🔍 Структура данных:"),console.log("  - user:",o?"есть":"отсутствует"),console.log("  - auth_date:",s?"есть":"отсутствует"),console.log("  - hash:",n?"есть":"отсутствует"),o){const a=JSON.parse(decodeURIComponent(o));console.log("👤 Данные пользователя:",a)}return!0}catch(e){return console.error("❌ Ошибка парсинга данных:",e),!1}}else return console.error("❌ Данные авторизации не найдены"),!1},Ba=async()=>{console.log("🔬 Диагностика проблемы авторизации на сервере...");try{const{debugAuthConfig:t,debugValidateTelegramData:e}=await Wt(async()=>{const{debugAuthConfig:s,debugValidateTelegramData:n}=await Promise.resolve().then(()=>Ht);return{debugAuthConfig:s,debugValidateTelegramData:n}},void 0);console.log("🔍 Проверяем конфигурацию сервера...");try{const s=await t();if(console.log("🏃 Конфигурация сервера:",s),!s.telegram_bot_token_set)return console.error("❌ На сервере не установлен токен Telegram бота!"),console.error("💡 Решение: Администратор должен установить TELEGRAM_BOT_TOKEN на сервере"),"server_no_token";console.log("✅ Токен бота на сервере установлен")}catch(s){return console.error("❌ Ошибка получения конфигурации сервера:",s),"server_config_error"}const o=Le();if(o){console.log("🧪 Тестируем валидацию данных на сервере...");try{const s=await e(o);return console.log("📊 Результат валидации:",s),s.success?(console.log("✅ Валидация на сервере прошла успешно!"),console.log("❓ Возможно, проблема в другом месте"),"validation_success"):(console.error("❌ Валидация на сервере не прошла"),console.error("💡 Причина: Неправильная подпись или истекшие данные"),"validation_failed")}catch(s){return console.error("❌ Ошибка тестирования валидации:",s),"validation_error"}}else return console.error("❌ Нет данных для тестирования"),"no_data"}catch(t){return console.error("❌ Общая ошибка диагностики:",t),"general_error"}};typeof window<"u"&&(window.telegramUtils={debugTelegramWebApp:er,getTelegramInitData:Le,clearAndRecreateAuthData:$a,cleanupOldAuthData:or,testAuthData:Wa,initTelegramWebApp:Qo,diagnoseServerAuth:Ba},console.log("🔧 Утилиты Telegram доступны через window.telegramUtils"));const za=()=>{console.log("=== Aeon Messenger API Configuration ==="),console.log("VITE_CHAT_URL:","https://aeon-messenger-app-09faae856b73.herokuapp.com"),console.log("Base URL:","https://aeon-messenger-app-09faae856b73.herokuapp.com"),console.log("Environment:","production"),console.log("🆕 NEW BACKEND URL: https://aeon-backend-2892-d50dfbe26b14.herokuapp.com"),console.log("=========================================")};za();const se=Br.create({baseURL:"https://aeon-backend-2892-d50dfbe26b14.herokuapp.com",timeout:3e4,headers:{"Content-Type":"application/json"}}),rr=async(t,e=3,o=1e3)=>{var s,n;for(let a=0;a<e;a++)try{return await t()}catch(p){if(console.log(`Attempt ${a+1} failed:`,p.message),((s=p.response)==null?void 0:s.status)===401||((n=p.response)==null?void 0:n.status)===403||a===e-1)throw p;await new Promise(l=>setTimeout(l,o*(a+1)))}throw new Error("Max retries reached")};se.interceptors.request.use(t=>{const e=Le();return console.log("=== Aeon API Request Debug ==="),console.log("URL:",t.url),console.log("Method:",t.method),console.log("Base URL:",t.baseURL),console.log("Init Data Length:",e?e.length:0),console.log("Init Data Preview:",e?e.substring(0,100)+"...":"No data"),e?(t.headers["x-telegram-init-data"]=e,console.log("✅ Auth header attached")):(console.warn("❌ No auth data available - running in development mode"),console.warn("❌ This request will likely fail with 401 error")),console.log("==============================="),t},t=>(console.error("Request interceptor error:",t),Promise.reject(t)));se.interceptors.response.use(t=>(console.log("✅ API Response:",t.config.url,t.status),t),t=>{var e,o,s,n,a,p,l,i,h,c,y,f,v,C,x,j;throw console.error("=== Aeon API Error ==="),console.error("URL:",(e=t.config)==null?void 0:e.url),console.error("Method:",(o=t.config)==null?void 0:o.method),console.error("Status:",(s=t.response)==null?void 0:s.status),console.error("Status Text:",(n=t.response)==null?void 0:n.statusText),console.error("Response Data:",(a=t.response)==null?void 0:a.data),console.error("Request Headers:",(p=t.config)==null?void 0:p.headers),console.error("======================"),((l=t.response)==null?void 0:l.status)===405?(console.error("❌ Method Not Allowed (405)"),console.error("❌ Possible reasons:"),console.error(`   1. HTTP method ${(h=(i=t.config)==null?void 0:i.method)==null?void 0:h.toUpperCase()} is not supported for URL: ${(c=t.config)==null?void 0:c.url}`),console.error("   2. Server endpoint configuration issue"),console.error("   3. API endpoint does not exist or is disabled"),console.error("❌ Solution: Check API documentation and server configuration"),{...t,message:`HTTP method ${(f=(y=t.config)==null?void 0:y.method)==null?void 0:f.toUpperCase()} not allowed for this endpoint`,isMethodError:!0,response:{...t.response,data:{...(v=t.response)==null?void 0:v.data,error:"HTTP метод не поддерживается для данного endpoint"}}}):((C=t.response)==null?void 0:C.status)===401?(console.error("❌ Authorization failed"),console.error("❌ Possible reasons:"),console.error("   1. App is not running inside Telegram WebApp"),console.error("   2. Invalid or expired Telegram init data"),console.error("   3. Server-side authorization issue"),console.error("❌ Solution: Open this app from Telegram bot/mini app"),{...t,message:"Authorization failed - app must be opened from Telegram",isAuthError:!0,response:{...t.response,data:{...(x=t.response)==null?void 0:x.data,error:"Приложение должно быть открыто из Telegram"}}}):t.code==="ECONNABORTED"&&t.message.includes("timeout")?(console.error("❌ Request timeout"),console.error("❌ Possible reasons:"),console.error("   1. Server is starting up (cold start)"),console.error("   2. Server is overloaded"),console.error("   3. Network connectivity issues"),console.error("❌ Solution: Try again in a moment"),{...t,message:"Server is starting up, please try again in a moment",isTimeoutError:!0}):((j=t.response)==null?void 0:j.status)===503?(console.error("❌ Service Unavailable"),console.error("❌ Server is temporarily unavailable"),{...t,message:"Server is temporarily unavailable, please try again",isServiceError:!0}):t});const Nt=async()=>(await rr(()=>se.get("/api/v1/chats/"))).data,sr=async t=>(await rr(()=>se.post("/api/v1/chats/",t,{timeout:6e4}))).data,_a=async t=>(await se.get(`/api/v1/chats/${t}`)).data,nr=async(t,e)=>{await se.post(`/api/v1/chats/${t}/members/${e}`)},ar=async(t,e)=>{await se.delete(`/api/v1/chats/${t}/members/${e}`)},Ut=async(t,e=1,o=50)=>(await se.get(`/api/v1/messages/chat/${t}?page=${e}&per_page=${o}`)).data,ir=async t=>(await se.post("/api/v1/messages/",t)).data,lr=async t=>{await se.post(`/api/v1/messages/chat/${t}/read-all`)},cr=async t=>{console.log("uploadMedia: Starting upload for file:",t.name,t.size,t.type);const e=new FormData;e.append("file",t);try{const o=await se.post("/api/v1/messages/upload-media",e,{headers:{},timeout:6e4});return console.log("uploadMedia: Upload successful:",o.data),o.data}catch(o){throw console.error("uploadMedia: Upload failed:",o),o.response&&(console.error("Response status:",o.response.status),console.error("Response data:",o.response.data),console.error("Response headers:",o.response.headers)),o}},pr=async()=>(await se.get("/api/v1/me")).data,dr=async()=>(await se.get("/api/v1/health")).data,ur=async()=>(await se.get("/api/v1/debug/auth")).data,fr=async t=>(await se.post("/api/v1/debug/validate-telegram-data",t,{headers:{"Content-Type":"application/json"}})).data,Ft=async(t,e)=>(await se.post(`/api/v1/chats/${t}/invite-by-username`,{username:e})).data,gr=async()=>(await se.post("/api/v1/users/check-invitations")).data,Ht=Object.freeze(Object.defineProperty({__proto__:null,addMemberToChat:nr,checkAndAcceptInvitations:gr,createChat:sr,debugAuthConfig:ur,debugValidateTelegramData:fr,getChat:_a,getChatMessages:Ut,getChats:Nt,getCurrentUser:pr,healthCheck:dr,inviteMemberByUsername:Ft,markAllMessagesAsRead:lr,removeMemberFromChat:ar,sendMessage:ir,uploadMedia:cr},Symbol.toStringTag,{value:"Module"})),La=()=>zr(),ot=t=>_r(t),Ro=t=>{console.log("🔍 Normalizing user data:",t);const e={...t,subordinates:Array.isArray(t.subordinates)?t.subordinates:[],managers:Array.isArray(t.managers)?t.managers:[]};return console.log("✅ Normalized user data:",e),e},Na=()=>{const t=La(),[e,o]=d.useState([]),[s,n]=d.useState(null),[a,p]=d.useState(null),[l,i]=d.useState(!0),[h,c]=d.useState(null),[y,f]=d.useState(!1),[v,C]=d.useState(!1),x=ot(u=>s?Xr(u,s.id):[]),j=ot(u=>s?Kr(u,s.id):!1),g=ot(u=>s?Yr(u,s.id):null),b=ot(u=>s?Gr(u,s.id):0),S=ot(Vr),T=d.useCallback(()=>Qo(),[]);d.useEffect(()=>{t(Lr()),console.log("📱 Сессия инициализирована")},[t]),d.useEffect(()=>{const u=setInterval(()=>{S>5e3&&(t(no({maxMessagesPerChat:500,maxChatAge:216e5})),console.log("🧹 Хранилище оптимизировано, сообщений было:",S))},6e5);return()=>clearInterval(u)},[t,S]),d.useEffect(()=>{const u=()=>{t(qr()),console.log("📱 Сессия завершена")},P=()=>{document.hidden&&t(no({maxMessagesPerChat:1e3}))};return window.addEventListener("beforeunload",u),document.addEventListener("visibilitychange",P),()=>{window.removeEventListener("beforeunload",u),document.removeEventListener("visibilitychange",P)}},[t]);const A=d.useCallback(async()=>{var u;try{if(console.log("🔍 Загружаем данные пользователя..."),!tr()){console.warn("❌ Приложение должно быть открыто из Telegram WebApp"),c("Приложение должно быть открыто из Telegram для корректной работы"),f(!0);return}const P=Ia();if(!P){console.error("❌ Не удалось получить данные пользователя из Telegram WebApp"),c("Не удалось получить данные пользователя из Telegram"),f(!0);return}console.log("✅ Получены данные пользователя из Telegram:",P);const D=await pr(),W=Ro(D);p(W),console.log("✅ Пользователь успешно загружен:",W),c(null),f(!1)}catch(P){console.error("❌ Ошибка загрузки пользователя:",P),((u=P.response)==null?void 0:u.status)===401||P.isAuthError?(f(!0),c("Приложение должно быть открыто из Telegram для корректной работы")):c("Ошибка загрузки данных пользователя")}},[T]),m=d.useCallback(async()=>{var u,P;try{i(!0);const W=(await Nt()).sort((_,Y)=>!_.last_message_time&&!Y.last_message_time?0:_.last_message_time?Y.last_message_time?new Date(Y.last_message_time).getTime()-new Date(_.last_message_time).getTime():-1:1);o(W),c(null),f(!1)}catch(D){console.error("Error loading chats:",D),((u=D.response)==null?void 0:u.status)===401||D.isAuthError?(f(!0),c("Приложение должно быть открыто из Telegram для корректной работы")):D.isTimeoutError||D.code==="ECONNABORTED"?c("⏱️ Сервер запускается, попробуйте обновить страницу через минуту"):D.isServiceError||((P=D.response)==null?void 0:P.status)===503?c("🔧 Сервер временно недоступен, попробуйте через несколько минут"):c("Ошибка загрузки чатов")}finally{i(!1)}},[]),w=d.useCallback(async()=>{var u;try{const D=(await Nt()).sort((W,_)=>!W.last_message_time&&!_.last_message_time?0:W.last_message_time?_.last_message_time?new Date(_.last_message_time).getTime()-new Date(W.last_message_time).getTime():-1:1);o(D),c(null),f(!1)}catch(P){console.error("Error refreshing chats:",P),(((u=P.response)==null?void 0:u.status)===401||P.isAuthError)&&f(!0)}},[]),E=d.useCallback(async u=>{var P,D;try{t(ao({chatId:u,loading:!0}));const W=await Ut(u);t(Nr({chatId:u,messages:W.messages})),c(null),f(!1)}catch(W){console.error("Error loading messages:",W),t(Ur({chatId:u,error:W.message})),((P=W.response)==null?void 0:P.status)===401||W.isAuthError?(f(!0),c("Приложение должно быть открыто из Telegram для корректной работы")):W.isTimeoutError||W.code==="ECONNABORTED"?c("⏱️ Сервер запускается, сообщения загрузятся автоматически"):W.isServiceError||((D=W.response)==null?void 0:D.status)===503?c("🔧 Сервер временно недоступен, попробуйте обновить чат"):c("Ошибка загрузки сообщений")}finally{t(ao({chatId:u,loading:!1}))}},[t]),k=d.useCallback(async u=>{var P,D;try{const _=(await Ut(u)).messages;if(_.length>0){const Y=_[_.length-1].id;if(b&&Y>b){const X=x,J=new Set(X.map(q=>q.id)),O=_.filter(q=>!J.has(q.id));if(O.length>0){t(Fr({chatId:u,messages:O})),C(!0),w();try{(D=(P=window.Telegram)==null?void 0:P.WebApp)!=null&&D.HapticFeedback&&window.Telegram.WebApp.HapticFeedback.notificationOccurred("success")}catch{console.log("Haptic feedback not available")}console.log("🔄 Получены новые сообщения")}}}}catch(W){console.error("Error checking new messages:",W)}},[b,x,t,w]),R=d.useCallback(async(u,P)=>{if(P.trim())try{const D={text:P.trim(),message_type:"text",chat_id:u},W=await ir(D);t(Hr({chatId:u,message:W})),o(_=>_.map(X=>X.id===u?{...X,last_message:P.trim(),last_message_time:new Date().toISOString()}:X).sort((X,J)=>!X.last_message_time&&!J.last_message_time?0:X.last_message_time?J.last_message_time?new Date(J.last_message_time).getTime()-new Date(X.last_message_time).getTime():-1:1))}catch(D){console.error("Error sending message:",D),c("Ошибка отправки сообщения")}},[a,t]),I=d.useCallback(async(u,P=[],D=[],W)=>{try{const _={title:u,chat_type:P.length+D.length>0?"group":"private",member_ids:P,...W&&{photo_url:W}},Y=await sr(_);if(D.length>0){const{inviteMemberByUsername:J}=await Wt(async()=>{const{inviteMemberByUsername:O}=await Promise.resolve().then(()=>Ht);return{inviteMemberByUsername:O}},void 0);for(const O of D)try{await J(Y.id,O)}catch(q){console.error(`Error inviting ${O}:`,q)}}await m();const X={id:Y.id,title:Y.title,chat_type:Y.chat_type,photo_url:Y.photo_url,last_message:void 0,last_message_time:void 0,unread_count:0};return n(X),await E(Y.id),Y}catch(_){throw console.error("Error creating chat:",_),c("Ошибка создания чата"),_}},[m,E]),H=d.useCallback(u=>{n(u),C(!1),E(u.id),u.unread_count>0&&lr(u.id).catch(P=>console.error("Error marking messages as read:",P))},[E]),$=d.useCallback(()=>{n(null),C(!1)},[]),V=d.useCallback(()=>{C(!1)},[]),G=d.useCallback(async u=>{try{const{getChat:P}=await Wt(async()=>{const{getChat:W}=await Promise.resolve().then(()=>Ht);return{getChat:W}},void 0);return await P(u)}catch(P){throw console.error("Error loading chat info:",P),c("Ошибка загрузки информации о чате"),P}},[]),F=d.useCallback(async(u,P)=>{try{await nr(u,P),c(null),s&&s.id===u&&setTimeout(()=>w(),1e3)}catch(D){throw console.error("Error adding member to chat:",D),c("Ошибка добавления участника"),D}},[s,w]),B=d.useCallback(async(u,P)=>{try{await ar(u,P),c(null),s&&s.id===u&&setTimeout(()=>w(),1e3)}catch(D){throw console.error("Error removing member from chat:",D),c("Ошибка удаления участника"),D}},[s,w]);return d.useEffect(()=>{T(),A(),m()},[T,A,m]),d.useEffect(()=>{if(y)return;const u=setInterval(()=>{w()},3e4);return()=>clearInterval(u)},[y,w]),d.useEffect(()=>{if(!s||y)return;const u=setInterval(()=>{k(s.id)},5e3);return()=>clearInterval(u)},[s,y,k]),d.useEffect(()=>{if(y)return;const u=setInterval(async()=>{var P;try{const D=await gr(),W=Ro(D);p(W),w()}catch(D){((P=D.response)==null?void 0:P.status)===404?console.log("Check invitations endpoint not available (404) - skipping"):console.log("No new invitations or error:",D)}},12e4);return()=>clearInterval(u)},[y,w]),{chats:e,currentChat:s,messages:x,currentUser:a,loading:l,messagesLoading:j,error:h||g,isAuthError:y,hasNewMessages:v,markMessagesAsViewed:V,sendNewMessage:R,createNewChat:I,selectChat:H,refreshChats:w,refreshMessages:()=>s&&E(s.id),loadChatInfo:G,addMemberToChat:F,removeMemberFromChat:B,clearCurrentChat:$,checkNewMessages:()=>s&&k(s.id)}},Ua=({open:t,onClose:e})=>{const[o,s]=d.useState([]),[n,a]=d.useState(!1),p=async()=>{var C,x,j;a(!0);const f=[];try{const g=tr();f.push({name:"Telegram WebApp",status:g?"success":"warning",message:g?"Приложение запущено в Telegram WebApp":"Приложение запущено вне Telegram (режим разработки)",details:g?"Все функции Telegram WebApp доступны":"Некоторые функции могут работать с ограничениями",suggestions:g?void 0:["Откройте приложение через Telegram бота","Проверьте настройки WebApp в боте"]})}catch(g){f.push({name:"Telegram WebApp",status:"error",message:"Ошибка при проверке Telegram WebApp",details:g instanceof Error?g.message:"Неизвестная ошибка"})}try{const g=Le();f.push({name:"Telegram Init Data",status:g?"success":"error",message:g?`Данные авторизации найдены (${g.length} символов)`:"Данные авторизации отсутствуют",details:g?`Подпись: ${g.substring(0,50)}...`:"Невозможно получить данные для авторизации на сервере",suggestions:g?void 0:["Перезапустите приложение из Telegram","Проверьте настройки бота","Убедитесь что WebApp правильно настроен"]})}catch(g){f.push({name:"Telegram Init Data",status:"error",message:"Ошибка при получении данных авторизации",details:g instanceof Error?g.message:"Неизвестная ошибка"})}try{await dr(),f.push({name:"Подключение к серверу",status:"success",message:"Сервер отвечает на запросы",details:"Health check прошел успешно"})}catch(g){const b=g.isMethodError||((C=g.response)==null?void 0:C.status)===405;f.push({name:"Подключение к серверу",status:b?"warning":"error",message:b?"Сервер доступен, но некоторые endpoints могут не работать (ошибка 405)":"Сервер недоступен или не отвечает",details:g.message||"Неизвестная ошибка сервера",suggestions:b?["Проверьте настройки API на сервере","Убедитесь что все endpoints правильно настроены","Свяжитесь с администратором сервера"]:["Проверьте подключение к интернету","Сервер может быть временно недоступен","Попробуйте позже"]})}try{await ur(),f.push({name:"Конфигурация авторизации",status:"success",message:"Настройки авторизации на сервере корректны",details:"Сервер готов к обработке Telegram авторизации"})}catch(g){const b=g.isMethodError||((x=g.response)==null?void 0:x.status)===405;f.push({name:"Конфигурация авторизации",status:b?"warning":"error",message:b?"Endpoint диагностики недоступен (405), но это не критично":"Проблема с настройками авторизации на сервере",details:g.message||"Ошибка при проверке конфигурации",suggestions:b?["Функция диагностики может быть отключена на сервере","Это не влияет на основную работу приложения"]:["Проверьте настройки Telegram бота на сервере","Убедитесь что TELEGRAM_BOT_TOKEN настроен правильно"]})}const v=Le();if(v)try{await fr(v),f.push({name:"Валидация Telegram данных",status:"success",message:"Данные Telegram проходят валидацию на сервере",details:"Подпись данных корректна"})}catch(g){const b=g.isMethodError||((j=g.response)==null?void 0:j.status)===405;f.push({name:"Валидация Telegram данных",status:b?"warning":"error",message:b?"Endpoint валидации недоступен (405)":"Данные Telegram не проходят валидацию",details:g.message||"Ошибка валидации данных",suggestions:b?["Endpoint валидации может быть отключен","Попробуйте основные функции приложения"]:["Данные авторизации могли быть повреждены","Перезапустите приложение из Telegram","Проверьте настройки бота"]})}s(f),a(!1)};d.useEffect(()=>{t&&p()},[t]);const l=f=>{switch(f){case"success":return r.jsx(is,{sx:{color:"#4CAF50"}});case"error":return r.jsx(Ra,{sx:{color:"#f44336"}});case"warning":return r.jsx(ka,{sx:{color:"#ff9800"}});case"loading":return r.jsx(Ae,{size:24});default:return r.jsx(Zo,{sx:{color:"#2196f3"}})}},i=f=>{switch(f){case"success":return"#4CAF50";case"error":return"#f44336";case"warning":return"#ff9800";default:return"#2196f3"}},h=o.filter(f=>f.status==="error").length,c=o.filter(f=>f.status==="warning").length,y=o.filter(f=>f.status==="success").length;return r.jsxs(At,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white",maxHeight:"90vh"}},children:[r.jsxs(Mt,{children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(z,{variant:"h6",children:"Диагностика системы"}),n&&r.jsx(Ae,{size:24})]}),!n&&o.length>0&&r.jsxs(L,{sx:{display:"flex",gap:1,mt:1},children:[r.jsx(st,{label:`${y} успешно`,color:"success",size:"small"}),c>0&&r.jsx(st,{label:`${c} предупр.`,sx:{bgcolor:"#ff9800",color:"white"},size:"small"}),h>0&&r.jsx(st,{label:`${h} ошибок`,color:"error",size:"small"})]})]}),r.jsx(St,{sx:{pb:1},children:n?r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,py:4},children:[r.jsx(Ae,{}),r.jsx(z,{children:"Выполняется диагностика..."})]}):r.jsxs(L,{sx:{display:"flex",flexDirection:"column",gap:1},children:[o.map((f,v)=>r.jsxs(xs,{sx:{bgcolor:"rgba(255, 255, 255, 0.05)","&:before":{display:"none"},"&.Mui-expanded":{margin:"8px 0"}},children:[r.jsx(Ps,{expandIcon:r.jsx(Da,{sx:{color:"white"}}),children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[l(f.status),r.jsx(z,{sx:{fontWeight:500,flex:1},children:f.name}),r.jsx(st,{label:f.status==="success"?"OK":f.status==="error"?"Ошибка":"Внимание",size:"small",sx:{bgcolor:i(f.status),color:"white",minWidth:80}})]})}),r.jsxs(Cs,{children:[r.jsx(z,{variant:"body2",sx:{mb:1},children:f.message}),f.details&&r.jsxs(r.Fragment,{children:[r.jsx(fo,{sx:{my:1,bgcolor:"rgba(255,255,255,0.1)"}}),r.jsxs(z,{variant:"caption",sx:{color:"#8b95a1"},children:["Детали: ",f.details]})]}),f.suggestions&&f.suggestions.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(fo,{sx:{my:1,bgcolor:"rgba(255,255,255,0.1)"}}),r.jsx(z,{variant:"caption",sx:{color:"#8b95a1",display:"block",mb:.5},children:"Рекомендации:"}),f.suggestions.map((C,x)=>r.jsxs(z,{variant:"caption",sx:{color:"#8b95a1",display:"block",ml:2},children:["• ",C]},x))]})]})]},v)),h>0&&r.jsx(ke,{severity:"error",sx:{mt:2,bgcolor:"rgba(244, 67, 54, 0.1)"},children:r.jsx(z,{variant:"body2",children:"Обнаружены критические ошибки. Рекомендуется перезапустить приложение из Telegram."})}),h===0&&c>0&&r.jsx(ke,{severity:"warning",sx:{mt:2,bgcolor:"rgba(255, 152, 0, 0.1)"},children:r.jsx(z,{variant:"body2",children:"Есть некритичные проблемы. Основные функции должны работать."})}),h===0&&c===0&&o.length>0&&r.jsx(ke,{severity:"success",sx:{mt:2,bgcolor:"rgba(76, 175, 80, 0.1)"},children:r.jsx(z,{variant:"body2",children:"Все проверки прошли успешно! Система работает корректно."})})]})}),r.jsxs(Qt,{children:[r.jsx(de,{onClick:()=>p(),disabled:n,children:"Повторить диагностику"}),r.jsx(de,{onClick:e,variant:"contained",children:"Закрыть"})]})]})},hr=({currentPhotoUrl:t,onPhotoChange:e,disabled:o=!1,size:s=80})=>{const[n,a]=d.useState(!1),[p,l]=d.useState(null),[i,h]=d.useState(t||null),c=d.useRef(null),y=x=>{var b;const j=(b=x.target.files)==null?void 0:b[0];if(!j)return;if(!j.type.startsWith("image/")){l("Пожалуйста, выберите изображение");return}if(j.size>5*1024*1024){l("Размер файла не должен превышать 5MB");return}const g=new FileReader;g.onload=S=>{var T;h((T=S.target)==null?void 0:T.result)},g.readAsDataURL(j),f(j)},f=async x=>{var j,g,b,S,T;try{a(!0),l(null),console.log("Загружаем файл:",x.name,x.size,x.type);const A=await cr(x);e(A.media_url),h(A.media_url),console.log("Фото успешно загружено:",A.media_url)}catch(A){console.error("Error uploading photo:",A);let m="Ошибка загрузки фото";((j=A.response)==null?void 0:j.status)===405?(m="Загрузка фото временно недоступна",console.warn("405 Error: uploadMedia endpoint may not be available")):((g=A.response)==null?void 0:g.status)===413?m="Файл слишком большой":((b=A.response)==null?void 0:b.status)===422?m="Неподдерживаемый формат файла":((S=A.response)==null?void 0:S.status)===401?m="Ошибка авторизации":A.isAuthError?m="Требуется авторизация в Telegram":A.code==="ECONNABORTED"?m="Превышено время ожидания":((T=A.response)==null?void 0:T.status)>=500&&(m="Ошибка сервера, попробуйте позже"),l(m),h(t||null)}finally{a(!1)}},v=()=>{h(null),e(null),l(null),c.current&&(c.current.value="")},C=()=>{var x;o||n||(x=c.current)==null||x.click()};return r.jsxs(L,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[r.jsxs(L,{sx:{position:"relative"},children:[r.jsx(lt,{src:i||void 0,sx:{width:s,height:s,bgcolor:"#4a9eff",cursor:o||n?"default":"pointer",border:p?"2px solid #f44336":"2px solid transparent","&:hover":{opacity:o||n?1:.8}},onClick:C,children:n?r.jsx(Ae,{size:s*.4,sx:{color:"white"}}):r.jsx(Oa,{sx:{fontSize:s*.4}})}),i&&!n&&r.jsx(Be,{size:"small",sx:{position:"absolute",top:-8,right:-8,bgcolor:"#f44336",color:"white",width:24,height:24,"&:hover":{bgcolor:"#d32f2f"}},onClick:v,children:r.jsx(Mo,{sx:{fontSize:14}})}),n&&r.jsx(L,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0,0,0,0.5)",borderRadius:"50%"},children:r.jsx(Ae,{size:s*.3,sx:{color:"white"}})})]}),r.jsxs(L,{sx:{display:"flex",gap:1},children:[r.jsx(de,{variant:"outlined",size:"small",startIcon:r.jsx(Pa,{}),onClick:C,disabled:o||n,sx:{borderColor:"#4a9eff",color:"#4a9eff","&:hover":{borderColor:"#3d8bdb",bgcolor:"rgba(74, 158, 255, 0.1)"}},children:n?"Загрузка...":"Выбрать фото"}),i&&r.jsx(eo,{title:"Удалить фото",children:r.jsx(Be,{size:"small",onClick:v,disabled:o||n,sx:{color:"#f44336","&:hover":{bgcolor:"rgba(244, 67, 54, 0.1)"}},children:r.jsx(Mo,{})})})]}),r.jsxs(z,{variant:"caption",sx:{color:"#8b95a1",textAlign:"center"},children:["Нажмите на аватар или кнопку для выбора фото",r.jsx("br",{}),"Максимальный размер: 5MB",p&&r.jsxs(r.Fragment,{children:[r.jsx("br",{}),r.jsx("span",{style:{color:"#f44336"},children:p}),r.jsx("br",{}),r.jsx("span",{style:{color:"#8b95a1"},children:"Чат можно создать и без фото"})]})]}),r.jsx("input",{ref:c,type:"file",accept:"image/*",style:{display:"none"},onChange:y})]})},Fa=({open:t,onClose:e,currentChat:o,loadChatInfo:s,addMemberToChat:n,removeMemberFromChat:a,currentUserId:p,onChatPhotoUpdate:l})=>{var B;const[i,h]=d.useState(null),[c,y]=d.useState(!1),[f,v]=d.useState(null),[C,x]=d.useState(""),[j,g]=d.useState(""),[b,S]=d.useState("username"),[T,A]=d.useState(!1),[m,w]=d.useState(null),[E,k]=d.useState(!1);d.useEffect(()=>{t&&o&&R()},[t,o]);const R=async()=>{if(o)try{y(!0),v(null);const u=await s(o.id);h(u)}catch(u){v("Не удалось загрузить информацию о чате"),console.error("Error loading chat details:",u)}finally{y(!1)}},I=async u=>{o&&await n(o.id,u)},H=async u=>{if(!o)return;const P=await Ft(o.id,u);P.status==="added"?w({type:"success",message:`✅ @${u} найден и добавлен в чат!`}):P.status==="invited"&&w({type:"info",message:`📨 @${u} не найден в базе. Приглашение создано - пользователь будет добавлен при входе в приложение.`}),setTimeout(()=>w(null),5e3)},$=async()=>{if(!C.trim())return;const u=C.trim(),P=parseInt(u);try{A(!0),v(null),isNaN(P)?await H(u.replace(/^@/,"")):await I(P),x(""),await R()}catch(D){console.error("Error adding member (ID path):",D),v("Не удалось добавить участника")}finally{A(!1)}},V=async()=>{if(!(!j.trim()||!o))try{A(!0),v(null),w(null);const u=await Ft(o.id,j.trim());u.status==="added"?(w({type:"success",message:`✅ @${j.trim()} добавлен в чат!`}),g(""),await R()):u.status==="invited"&&(w({type:"info",message:`📨 Приглашение отправлено @${j.trim()}. Пользователь будет добавлен автоматически при входе в приложение.`}),g("")),setTimeout(()=>w(null),5e3)}catch(u){console.error("Error adding member by username:",u),w({type:"warning",message:"Не удалось добавить участника. Проверьте username и попробуйте снова."})}finally{A(!1)}},G=async u=>{if(o)try{v(null),await a(o.id,u),await R()}catch(P){v("Не удалось удалить участника"),console.error("Error removing member:",P)}},F=u=>{i&&h({...i,photo_url:u}),l&&l(u),k(!1)};return o?r.jsxs(At,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[r.jsxs(Mt,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsxs(L,{sx:{position:"relative"},children:[r.jsx(lt,{src:(i==null?void 0:i.photo_url)||o.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:64,height:64},children:o.title?o.title[0].toUpperCase():r.jsx(go,{})}),r.jsx(Be,{onClick:()=>k(!0),sx:{position:"absolute",bottom:-4,right:-4,bgcolor:"#4a9eff",color:"white",width:24,height:24,"&:hover":{bgcolor:"#3d8bdb"}},children:r.jsx(Ma,{sx:{fontSize:14}})})]}),r.jsxs(L,{children:[r.jsx(z,{variant:"h6",children:o.title||"Безымянный чат"}),r.jsx(z,{variant:"caption",sx:{color:"#8b95a1"},children:o.chat_type==="private"?"Личный чат":"Групповой чат"})]})]}),r.jsxs(St,{children:[f&&r.jsx(ke,{severity:"error",sx:{mb:2},children:f}),c?r.jsx(L,{sx:{display:"flex",justifyContent:"center",py:3},children:r.jsx(Ae,{sx:{color:"#4a9eff"}})}):i?r.jsxs(r.Fragment,{children:[r.jsxs(L,{sx:{mb:3},children:[r.jsx(z,{variant:"subtitle1",sx:{mb:1,fontWeight:600},children:"Информация"}),r.jsxs(z,{variant:"body2",sx:{color:"#8b95a1",mb:1},children:["ID чата: ",i.id]}),r.jsxs(z,{variant:"body2",sx:{color:"#8b95a1",mb:1},children:["Создан: ",new Date(i.created_at).toLocaleDateString("ru-RU")]}),i.description&&r.jsxs(z,{variant:"body2",sx:{color:"#8b95a1"},children:["Описание: ",i.description]})]}),r.jsxs(L,{sx:{mb:3},children:[r.jsxs(z,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:["Участники (",((B=i.members)==null?void 0:B.length)||0,")"]}),i.members&&i.members.length>0?r.jsx(ko,{sx:{maxHeight:200,overflow:"auto"},children:i.members.map(u=>r.jsxs(Io,{sx:{bgcolor:"rgba(43, 52, 65, 0.5)",borderRadius:1,mb:1},children:[r.jsx(Jo,{children:r.jsx(lt,{src:u.profile_photo_url||void 0,sx:{bgcolor:"#4a9eff"},children:u.first_name?u.first_name[0].toUpperCase():r.jsx(go,{})})}),r.jsx(Bo,{primary:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsxs(z,{children:[u.first_name," ",u.last_name]}),u.is_admin&&r.jsx(st,{icon:r.jsx(as,{}),label:"Админ",size:"small",sx:{bgcolor:"#4a9eff",color:"white",fontSize:"0.7rem"}})]}),secondary:r.jsx(z,{variant:"caption",sx:{color:"#8b95a1"},children:u.username?`@${u.username}`:`ID: ${u.telegram_id}`})}),p!==u.telegram_id&&r.jsx(eo,{title:"Удалить участника",children:r.jsx(Be,{onClick:()=>G(u.telegram_id),sx:{color:"#f44336","&:hover":{bgcolor:"rgba(244, 67, 54, 0.1)"}},children:r.jsx(Ea,{})})})]},u.id))}):r.jsx(z,{variant:"body2",sx:{color:"#8b95a1",textAlign:"center",py:2},children:"Нет участников"})]}),r.jsxs(L,{children:[r.jsx(z,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:"Добавить участника"}),m&&r.jsx(ke,{severity:m.type==="success"?"success":m.type==="info"?"info":"warning",sx:{mb:2,"& .MuiAlert-message":{color:"white"},bgcolor:m.type==="success"?"rgba(76, 175, 80, 0.2)":m.type==="info"?"rgba(33, 150, 243, 0.2)":"rgba(255, 152, 0, 0.2)",border:`1px solid ${m.type==="success"?"#4CAF50":m.type==="info"?"#2196F3":"#FF9800"}`},children:m.message}),r.jsxs(L,{sx:{display:"flex",gap:1,mb:2},children:[r.jsx(de,{variant:b==="username"?"contained":"outlined",onClick:()=>S("username"),size:"small",sx:{bgcolor:b==="username"?"#4a9eff":"transparent",color:b==="username"?"white":"#4a9eff",borderColor:"#4a9eff","&:hover":{bgcolor:b==="username"?"#3d8bdb":"rgba(74, 158, 255, 0.1)"}},children:"По @username"}),r.jsx(de,{variant:b==="id"?"contained":"outlined",onClick:()=>S("id"),size:"small",sx:{bgcolor:b==="id"?"#4a9eff":"transparent",color:b==="id"?"white":"#4a9eff",borderColor:"#4a9eff","&:hover":{bgcolor:b==="id"?"#3d8bdb":"rgba(74, 158, 255, 0.1)"}},children:"По ID (авто)"})]}),b==="username"?r.jsxs(L,{sx:{display:"flex",gap:1},children:[r.jsx(nt,{size:"small",placeholder:"@username пользователя",value:j,onChange:u=>g(u.target.value),helperText:"💡 Если пользователь уже использовал приложение - добавится сразу. Если нет - получит приглашение.",sx:{flex:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}}),r.jsx(de,{variant:"contained",onClick:V,disabled:!j.trim()||T,startIcon:T?r.jsx(Ae,{size:16}):r.jsx(Po,{}),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"},minWidth:"120px"},children:T?"Поиск...":"Добавить"})]}):r.jsxs(L,{sx:{display:"flex",gap:1},children:[r.jsx(nt,{size:"small",placeholder:"ID или @username",value:C,onChange:u=>x(u.target.value),helperText:"💡 Можете ввести как Telegram ID (числа), так и @username - система определит автоматически",sx:{flex:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}}),r.jsx(de,{variant:"contained",onClick:$,disabled:!C.trim()||T,startIcon:T?r.jsx(Ae,{size:16}):r.jsx(Po,{}),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"},minWidth:"120px"},children:T?"Поиск...":"Добавить"})]})]})]}):r.jsx(z,{variant:"body2",sx:{textAlign:"center",py:3,color:"#8b95a1"},children:"Не удалось загрузить информацию о чате"})]}),r.jsx(Qt,{children:r.jsx(de,{onClick:e,sx:{color:"#8b95a1"},children:"Закрыть"})}),r.jsxs(At,{open:E,onClose:()=>k(!1),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[r.jsx(Mt,{children:"Изменить фото чата"}),r.jsxs(St,{children:[r.jsx(hr,{currentPhotoUrl:(i==null?void 0:i.photo_url)||o.photo_url||void 0,onPhotoChange:u=>{u?F(u):(i&&h({...i,photo_url:void 0}),l&&l(""))}}),r.jsx(L,{sx:{display:"flex",gap:1,mt:2,justifyContent:"flex-end"},children:r.jsx(de,{onClick:()=>k(!1),sx:{color:"#8b95a1"},children:"Отмена"})})]})]})]}):null},ei=()=>{const t=Pt(),e=Jr(t.breakpoints.down("md")),[o,s]=d.useState(""),[n,a]=d.useState(!1),[p,l]=d.useState(""),[i,h]=d.useState(""),[c,y]=d.useState(null),[f,v]=d.useState(null),[C,x]=d.useState(!1),[j,g]=d.useState(!1),[b,S]=d.useState(!1),T=d.useRef(null),{chats:A,currentChat:m,messages:w,currentUser:E,loading:k,messagesLoading:R,error:I,isAuthError:H,hasNewMessages:$,markMessagesAsViewed:V,sendNewMessage:G,createNewChat:F,selectChat:B,loadChatInfo:u,addMemberToChat:P,removeMemberFromChat:D,clearCurrentChat:W}=Na(),_=()=>{var M;(M=T.current)==null||M.scrollIntoView({behavior:"smooth"})},Y=()=>{W()};d.useEffect(_,[w]),d.useEffect(()=>{if($&&w.length>0){const M=setTimeout(()=>{V()},2e3);return()=>clearTimeout(M)}},[$,w.length,V]);const X=async()=>{if(!(!o.trim()||!m))try{V(),await G(m.id,o.trim()),s(""),_()}catch(M){console.error("Error sending message:",M)}},J=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),X())},O=async()=>{var M,Z;try{x(!0),v(null);const N=[],Q=[];i.trim()&&i.split(",").map(ie=>ie.trim()).filter(ie=>ie.length>0).forEach(ie=>{const Me=parseInt(ie);!isNaN(Me)&&Me>0?N.push(Me):Q.push(ie.replace(/^@/,""))}),await F(p.trim(),N,Q,c||void 0);let Se=`✅ Чат "${p.trim()}" создан успешно!`;N.length>0&&(Se+=` Добавлено ${N.length} участников.`),Q.length>0&&(Se+=` Отправлено ${Q.length} приглашений по username.`),v({type:"success",message:Se}),setTimeout(()=>{v(null),a(!1)},2e3),l(""),h(""),y(null)}catch(N){console.error("Error creating chat:",N);let Q="Не удалось создать чат. Попробуйте еще раз.";N!=null&&N.isTimeoutError?Q="⏱️ Сервер запускается, это может занять до минуты. Попробуйте еще раз.":N!=null&&N.isServiceError?Q="🔧 Сервер временно недоступен. Попробуйте через несколько минут.":N!=null&&N.isAuthError?Q="🔐 Ошибка авторизации. Откройте приложение из Telegram.":(N==null?void 0:N.code)==="ECONNABORTED"?Q="⏱️ Превышено время ожидания. Сервер может запускаться - попробуйте еще раз.":((M=N==null?void 0:N.response)==null?void 0:M.status)===503?Q="🔧 Сервер временно недоступен. Попробуйте через несколько минут.":((Z=N==null?void 0:N.response)==null?void 0:Z.status)===500&&(Q="⚠️ Ошибка на сервере. Попробуйте еще раз или обратитесь в поддержку."),v({type:"warning",message:Q})}finally{x(!1)}},q=M=>new Date(M).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),K=M=>{const Z=new Date(M),N=new Date,Q=new Date(N);return Q.setDate(Q.getDate()-1),Z.toDateString()===N.toDateString()?"Сегодня":Z.toDateString()===Q.toDateString()?"Вчера":Z.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})},ne=M=>{const Z=M.sender;return Z.username?`@${Z.username}`:`${Z.first_name}${Z.last_name?` ${Z.last_name}`:""}`},ae=M=>E&&M.sender_id===E.id;return k?r.jsx(L,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(35, 43, 59, 0.95)"},children:r.jsx(Ae,{sx:{color:"#4a9eff"}})}):H?r.jsxs(L,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",p:3},children:[r.jsxs(ke,{severity:"error",sx:{mb:3,maxWidth:"600px"},children:[r.jsx(z,{variant:"h6",sx:{mb:2},children:"🚫 Ошибка авторизации"}),r.jsx(z,{variant:"body1",sx:{mb:2,fontWeight:"bold"},children:"Проблема с авторизацией на сервере"}),r.jsx(z,{variant:"body2",sx:{mb:2},children:"Сервер отклоняет авторизацию. Возможные причины:"}),r.jsxs(z,{variant:"body2",component:"ul",sx:{pl:2,mb:2},children:[r.jsx("li",{children:"На сервере не настроен токен Telegram бота"}),r.jsx("li",{children:"Неправильный или истёкший токен бота"}),r.jsx("li",{children:"Проблема с подписью данных авторизации"}),r.jsx("li",{children:"Приложение запущено не из Telegram"})]}),r.jsx(z,{variant:"body2",sx:{mb:2},children:r.jsx("strong",{children:"Что делать:"})}),r.jsxs(z,{variant:"body2",component:"ul",sx:{pl:2,mb:2},children:[r.jsx("li",{children:'Нажмите "Диагностика" для подробной проверки'}),r.jsx("li",{children:"Убедитесь, что приложение открыто из Telegram"}),r.jsx("li",{children:"Если вы администратор - проверьте настройки сервера"}),r.jsx("li",{children:"Если проблема повторяется - обратитесь в поддержку"})]})]}),r.jsxs(L,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"center"},children:[r.jsx(de,{variant:"contained",onClick:()=>g(!0),sx:{bgcolor:"#f44336","&:hover":{bgcolor:"#d32f2f"}},children:"🔬 Диагностика проблемы"}),r.jsx(de,{variant:"outlined",onClick:()=>{var M;(M=window.Telegram)!=null&&M.WebApp?window.Telegram.WebApp.close():window.history.back()},sx:{borderColor:"#4a9eff",color:"#4a9eff","&:hover":{borderColor:"#3d8bdb",color:"#3d8bdb"}},children:"⬅️ Назад"})]})]}):r.jsxs(L,{sx:{height:"100vh",display:"flex",bgcolor:"rgba(35, 43, 59, 0.95)",color:"white",overflow:"hidden"},children:[r.jsxs(L,{sx:{width:e?"100%":"350px",display:e&&m?"none":"flex",flexDirection:"column",borderRight:"1px solid rgba(43, 52, 65, 1)",bgcolor:"rgba(35, 43, 59, 0.95)"},children:[r.jsx(L,{sx:{p:e?1:2,borderBottom:"1px solid rgba(43, 52, 65, 1)",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:e?"52px":"auto"},children:r.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,cursor:"pointer",p:1,borderRadius:2,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"},"&:active":{bgcolor:"rgba(74, 158, 255, 0.2)"}},onClick:()=>a(!0),onContextMenu:M=>{M.preventDefault(),a(!0)},children:[r.jsx(z,{variant:e?"body1":"h6",sx:{fontWeight:600,fontSize:e?"1rem":"inherit"},children:"Чаты"}),r.jsx(z,{variant:"caption",sx:{color:"#8b95a1",fontSize:e?"0.6rem":"0.7rem",ml:.5},children:"(нажмите для создания)"})]})}),r.jsx(ko,{sx:{flex:1,overflow:"auto",p:0},children:A.map(M=>r.jsx(io.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(Io,{disablePadding:!0,sx:{borderBottom:"1px solid rgba(43, 52, 65, 0.5)"},children:r.jsxs(Zr,{selected:(m==null?void 0:m.id)===M.id,onClick:()=>B(M),sx:{py:e?1.25:1.5,px:e?1:2,bgcolor:(m==null?void 0:m.id)===M.id?"rgba(74, 158, 255, 0.1)":"transparent","&:hover":{bgcolor:(m==null?void 0:m.id)===M.id?"rgba(74, 158, 255, 0.15)":"rgba(255, 255, 255, 0.05)"},minHeight:e?64:"auto"},children:[r.jsx(Jo,{children:r.jsx(Yn,{badgeContent:M.unread_count,color:"error",invisible:M.unread_count===0,children:r.jsx(lt,{src:M.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:e?44:45,height:e?44:45},children:M.title?M.title[0].toUpperCase():r.jsx($t,{})})})}),r.jsx(Bo,{primary:r.jsx(z,{variant:"body1",sx:{fontWeight:M.unread_count>0?600:400,color:"white",fontSize:e?"0.9rem":"inherit"},children:M.title||"Безымянный чат"}),secondary:r.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(z,{variant:"caption",sx:{color:"#8b95a1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:e?"120px":"150px",fontSize:e?"0.75rem":"inherit"},children:M.last_message||"Нет сообщений"}),M.last_message_time&&r.jsx(z,{variant:"caption",sx:{color:"#8b95a1",fontSize:e?"0.65rem":"0.7rem",ml:1},children:K(M.last_message_time)})]})})]})})},M.id))})]}),r.jsx(L,{sx:{flex:1,display:"flex",flexDirection:"column",position:"relative"},children:m?r.jsxs(r.Fragment,{children:[r.jsxs(L,{sx:{position:"fixed",top:0,left:e?0:"350px",right:0,zIndex:1300,p:e?.75:2,borderBottom:"1px solid rgba(43, 52, 65, 1)",bgcolor:"rgba(35, 43, 59, 0.98)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:e?"56px":"64px",boxShadow:"0 2px 20px rgba(0,0,0,0.15)"},children:[r.jsxs(L,{sx:{display:"flex",alignItems:"center",flex:1},children:[e&&r.jsx(Be,{onClick:Y,sx:{color:"#4a9eff",mr:.5,p:.5,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:r.jsx(Sa,{})}),r.jsx(lt,{src:m.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:e?32:40,height:e?32:40,mr:e?1:2},children:m.title?m.title[0].toUpperCase():r.jsx($t,{})}),r.jsxs(L,{sx:{flex:1,minWidth:0},children:[r.jsxs(z,{variant:e?"body2":"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:e?.5:1,fontSize:e?"0.875rem":"inherit"},children:[m.title||"Безымянный чат",$&&r.jsx(L,{sx:{width:e?6:8,height:e?6:8,borderRadius:"50%",bgcolor:"#4CAF50",animation:"pulse 2s infinite","@keyframes pulse":{"0%":{transform:"scale(1)",opacity:1},"50%":{transform:"scale(1.2)",opacity:.7},"100%":{transform:"scale(1)",opacity:1}}}})]}),r.jsxs(z,{variant:"caption",sx:{color:"#8b95a1",fontSize:e?"0.65rem":"0.75rem",lineHeight:e?1.2:"inherit"},children:[m.chat_type==="private"?"Личный чат":"Групповой чат",$&&(e?" • Новые":" • Новые сообщения")]})]})]}),r.jsx(L,{sx:{display:"flex",gap:e?.25:1},children:r.jsx(eo,{title:"Информация о чате",children:r.jsx(Be,{onClick:()=>S(!0),sx:{color:"#4a9eff",p:e?.5:1.5,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:r.jsx(Zo,{fontSize:e?"small":"medium"})})})})]}),r.jsxs(L,{sx:{flex:1,overflow:"auto",p:e?.5:1.5,pt:e?7:9,bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${lo})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"local",position:"relative","&::-webkit-scrollbar":{width:e?"3px":"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)",borderRadius:e?"1.5px":"3px"},"&::-webkit-scrollbar-thumb:hover":{background:"rgba(255, 255, 255, 0.3)"}},children:[I&&r.jsx(ke,{severity:"error",sx:{mb:e?1:2},children:I}),R?r.jsx(L,{sx:{display:"flex",justifyContent:"center",py:e?2:4},children:r.jsx(Ae,{sx:{color:"#4a9eff"}})}):r.jsx(Aa,{children:w.map(M=>r.jsx(io.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{display:"flex",justifyContent:ae(M)?"flex-end":"flex-start",marginBottom:e?"8px":"12px"},children:r.jsxs(L,{sx:{maxWidth:e?"85%":"70%",px:e?1.25:2,py:e?.75:1.2,borderRadius:ae(M)?"18px 18px 4px 18px":"18px 18px 18px 4px",bgcolor:ae(M)?"#4a9eff":"rgba(43, 52, 65, 0.9)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",wordBreak:"break-word"},children:[!ae(M)&&r.jsx(z,{variant:"caption",sx:{color:"#40C4FF",fontWeight:600,display:"block",mb:e?.25:.5,fontSize:e?"0.7rem":"0.75rem"},children:ne(M)}),r.jsx(z,{variant:"body1",sx:{mb:e?.25:.5,fontSize:e?"0.875rem":"0.95rem",lineHeight:e?1.3:1.4},children:M.text}),r.jsx(z,{variant:"caption",sx:{opacity:.7,fontSize:e?"0.6rem":"0.7rem",display:"block",textAlign:"right",mt:e?.125:.25,color:ae(M)?"rgba(255,255,255,0.8)":"#8b95a1"},children:q(M.created_at)})]})},M.id))}),r.jsx("div",{ref:T})]}),r.jsxs(L,{sx:{p:e?1:2,bgcolor:"rgba(35, 43, 59, 0.95)",display:"flex",gap:e?.75:1.5,alignItems:"flex-end",borderTop:"1px solid rgba(43, 52, 65, 1)",pb:e?"max(1rem, env(safe-area-inset-bottom))":2},children:[r.jsx(nt,{fullWidth:!0,multiline:!0,maxRows:e?2:4,value:o,onChange:M=>s(M.target.value),onKeyPress:J,placeholder:"Напишите сообщение...",variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:e?"16px":"20px",bgcolor:"rgba(35, 46, 60, 1)",border:"none",fontSize:e?"0.875rem":"0.95rem",color:"white","& fieldset":{border:"1px solid rgba(60, 72, 84, 1)"},"&:hover fieldset":{border:"1px solid #4a9eff"},"&.Mui-focused fieldset":{border:"2px solid #4a9eff"},"& .MuiInputBase-input":{padding:e?"8px 12px":"12px 16px",color:"white","&::placeholder":{color:"rgba(255, 255, 255, 0.5)",opacity:1}}}}}),r.jsx(Be,{onClick:X,disabled:!o.trim(),size:"medium",sx:{bgcolor:"#4a9eff",color:"white",width:e?36:44,height:e?36:44,minWidth:e?36:44,minHeight:e?36:44,"&:hover":{bgcolor:"#3d8bdb",transform:"scale(1.05)"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"},transition:"all 0.2s ease"},children:r.jsx(ls,{sx:{fontSize:e?"1rem":"1.2rem"}})})]})]}):r.jsx(L,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${lo})`,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay"},children:r.jsxs(L,{sx:{textAlign:"center"},children:[r.jsx($t,{sx:{fontSize:80,color:"#4a9eff",mb:2}}),r.jsx(z,{variant:"h5",sx:{mb:1,color:"white"},children:"Выберите чат"}),r.jsx(z,{variant:"body1",sx:{color:"#8b95a1"},children:"Выберите чат из списка или создайте новый"})]})})}),r.jsxs(At,{open:n,onClose:()=>{a(!1),v(null),y(null)},maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[r.jsx(Mt,{children:"Создать новый чат"}),r.jsxs(St,{children:[f&&r.jsx(ke,{severity:f.type==="success"?"success":"warning",sx:{mb:2,"& .MuiAlert-message":{color:"white"},bgcolor:f.type==="success"?"rgba(76, 175, 80, 0.2)":"rgba(255, 152, 0, 0.2)",border:`1px solid ${f.type==="success"?"#4CAF50":"#FF9800"}`},children:f.message}),r.jsx(nt,{autoFocus:!0,margin:"dense",label:"Название чата",fullWidth:!0,variant:"outlined",value:p,onChange:M=>l(M.target.value),sx:{mb:2,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#4a9eff"}}}}),r.jsx(nt,{margin:"dense",label:"Участники (ID или @username, через запятую)",fullWidth:!0,variant:"outlined",placeholder:"Например: 123456789, @username, 987654321, @user2",value:i,onChange:M=>h(M.target.value),helperText:"💡 Поддерживаются как Telegram ID (числа), так и @username. Если пользователь не найден по username - получит приглашение.",sx:{mb:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}}),r.jsxs(L,{sx:{mt:3,mb:2},children:[r.jsx(z,{variant:"subtitle2",sx:{mb:2,color:"rgba(255, 255, 255, 0.8)"},children:"Фото чата (необязательно)"}),r.jsx(hr,{currentPhotoUrl:c||void 0,onPhotoChange:y,disabled:C,size:100})]})]}),r.jsxs(Qt,{children:[r.jsx(de,{onClick:()=>{a(!1),v(null)},sx:{color:"#8b95a1"},children:"Отмена"}),r.jsx(de,{onClick:O,disabled:!p.trim()||C,startIcon:C?r.jsx(Ae,{size:16}):void 0,sx:{bgcolor:"#4a9eff",color:"white","&:hover":{bgcolor:"#3d8bdb"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"}},children:C?"Создаём...":"Создать"})]})]}),r.jsx(Ua,{open:j,onClose:()=>g(!1)}),r.jsx(Fa,{open:b,onClose:()=>S(!1),currentChat:m,loadChatInfo:u,addMemberToChat:P,removeMemberFromChat:D,currentUserId:E==null?void 0:E.telegram_id,onChatPhotoUpdate:M=>{console.log("Chat photo updated:",M)}})]})};export{ei as default};
