import{r as u,d as Ce,g as je,j as n,t as Rt,Q as Qt,i as Te,a2 as wr,e as Pe,s as Q,v as re,f as xe,h as X,l as Fe,o as go,a as _t,y as Cr,T as I,a4 as jr,a5 as er,a0 as ft,U as tr,a6 as ho,n as Tr,a7 as rr,a8 as vo,a9 as bo,aa as Pr,ab as xo,ac as yo,ad as wo,ae as Co,q as Oe,af as nt,B as U,ag as yt,a1 as Ar,ah as Or,b as jo,m as or,ai as To,c as nr}from"./index-NBQ7ZjFb.js";import{a as Po,S as Ao}from"./index-BNoKLCy6.js";import{o as ar,P as Oo,u as So,F as sr,M as Do,B as Ro,a as Mo,g as Eo,G as ko,T as tt}from"./TextField-CVJHi3Hj.js";import{u as Sr,C as Ee}from"./CircularProgress-Bn2FBJci.js";import{C as Dr}from"./Chip-DjtFJ6vb.js";import{A as ke}from"./Alert-cUIOl1nT.js";import{B as ae}from"./Button-DY-LIeXj.js";import{I as et}from"./IconButton-DhgXNWbT.js";const Rr=t=>{const e=u.useRef({});return u.useEffect(()=>{e.current=t}),e.current};var oe="top",de="bottom",ue="right",ne="left",Wt="auto",it=[oe,de,ue,ne],Le="start",at="end",Io="clippingParents",Mr="viewport",Ze="popper",$o="reference",ir=it.reduce(function(t,e){return t.concat([e+"-"+Le,e+"-"+at])},[]),Er=[].concat(it,[Wt]).reduce(function(t,e){return t.concat([e,e+"-"+Le,e+"-"+at])},[]),_o="beforeRead",Wo="read",Bo="afterRead",Lo="beforeMain",Uo="main",No="afterMain",zo="beforeWrite",Fo="write",Ho="afterWrite",Vo=[_o,Wo,Bo,Lo,Uo,No,zo,Fo,Ho];function ye(t){return t?(t.nodeName||"").toLowerCase():null}function se(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $e(t){var e=se(t).Element;return t instanceof e||t instanceof Element}function pe(t){var e=se(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Bt(t){if(typeof ShadowRoot>"u")return!1;var e=se(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function qo(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var o=e.styles[r]||{},a=e.attributes[r]||{},s=e.elements[r];!pe(s)||!ye(s)||(Object.assign(s.style,o),Object.keys(a).forEach(function(l){var i=a[l];i===!1?s.removeAttribute(l):s.setAttribute(l,i===!0?"":i)}))})}function Xo(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(o){var a=e.elements[o],s=e.attributes[o]||{},l=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:r[o]),i=l.reduce(function(c,d){return c[d]="",c},{});!pe(a)||!ye(a)||(Object.assign(a.style,i),Object.keys(s).forEach(function(c){a.removeAttribute(c)}))})}}const Yo={name:"applyStyles",enabled:!0,phase:"write",fn:qo,effect:Xo,requires:["computeStyles"]};function be(t){return t.split("-")[0]}var Ie=Math.max,wt=Math.min,Ue=Math.round;function Mt(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function kr(){return!/^((?!chrome|android).)*safari/i.test(Mt())}function Ne(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var o=t.getBoundingClientRect(),a=1,s=1;e&&pe(t)&&(a=t.offsetWidth>0&&Ue(o.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ue(o.height)/t.offsetHeight||1);var l=$e(t)?se(t):window,i=l.visualViewport,c=!kr()&&r,d=(o.left+(c&&i?i.offsetLeft:0))/a,p=(o.top+(c&&i?i.offsetTop:0))/s,x=o.width/a,C=o.height/s;return{width:x,height:C,top:p,right:d+x,bottom:p+C,left:d,x:d,y:p}}function Lt(t){var e=Ne(t),r=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:o}}function Ir(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Bt(r)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function we(t){return se(t).getComputedStyle(t)}function Ko(t){return["table","td","th"].indexOf(ye(t))>=0}function Se(t){return(($e(t)?t.ownerDocument:t.document)||window.document).documentElement}function jt(t){return ye(t)==="html"?t:t.assignedSlot||t.parentNode||(Bt(t)?t.host:null)||Se(t)}function lr(t){return!pe(t)||we(t).position==="fixed"?null:t.offsetParent}function Go(t){var e=/firefox/i.test(Mt()),r=/Trident/i.test(Mt());if(r&&pe(t)){var o=we(t);if(o.position==="fixed")return null}var a=jt(t);for(Bt(a)&&(a=a.host);pe(a)&&["html","body"].indexOf(ye(a))<0;){var s=we(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function lt(t){for(var e=se(t),r=lr(t);r&&Ko(r)&&we(r).position==="static";)r=lr(r);return r&&(ye(r)==="html"||ye(r)==="body"&&we(r).position==="static")?e:r||Go(t)||e}function Ut(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function rt(t,e,r){return Ie(t,wt(e,r))}function Jo(t,e,r){var o=rt(t,e,r);return o>r?r:o}function $r(){return{top:0,right:0,bottom:0,left:0}}function _r(t){return Object.assign({},$r(),t)}function Wr(t,e){return e.reduce(function(r,o){return r[o]=t,r},{})}var Zo=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,_r(typeof e!="number"?e:Wr(e,it))};function Qo(t){var e,r=t.state,o=t.name,a=t.options,s=r.elements.arrow,l=r.modifiersData.popperOffsets,i=be(r.placement),c=Ut(i),d=[ne,ue].indexOf(i)>=0,p=d?"height":"width";if(!(!s||!l)){var x=Zo(a.padding,r),C=Lt(s),f=c==="y"?oe:ne,j=c==="y"?de:ue,m=r.rects.reference[p]+r.rects.reference[c]-l[c]-r.rects.popper[p],y=l[c]-r.rects.reference[c],v=lt(s),T=v?c==="y"?v.clientHeight||0:v.clientWidth||0:0,A=m/2-y/2,g=x[f],P=T-C[p]-x[j],w=T/2-C[p]/2+A,D=rt(g,w,P),E=c;r.modifiersData[o]=(e={},e[E]=D,e.centerOffset=D-w,e)}}function en(t){var e=t.state,r=t.options,o=r.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||Ir(e.elements.popper,a)&&(e.elements.arrow=a))}const tn={name:"arrow",enabled:!0,phase:"main",fn:Qo,effect:en,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ze(t){return t.split("-")[1]}var rn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function on(t,e){var r=t.x,o=t.y,a=e.devicePixelRatio||1;return{x:Ue(r*a)/a||0,y:Ue(o*a)/a||0}}function cr(t){var e,r=t.popper,o=t.popperRect,a=t.placement,s=t.variation,l=t.offsets,i=t.position,c=t.gpuAcceleration,d=t.adaptive,p=t.roundOffsets,x=t.isFixed,C=l.x,f=C===void 0?0:C,j=l.y,m=j===void 0?0:j,y=typeof p=="function"?p({x:f,y:m}):{x:f,y:m};f=y.x,m=y.y;var v=l.hasOwnProperty("x"),T=l.hasOwnProperty("y"),A=ne,g=oe,P=window;if(d){var w=lt(r),D="clientHeight",E="clientWidth";if(w===se(r)&&(w=Se(r),we(w).position!=="static"&&i==="absolute"&&(D="scrollHeight",E="scrollWidth")),w=w,a===oe||(a===ne||a===ue)&&s===at){g=de;var k=x&&w===P&&P.visualViewport?P.visualViewport.height:w[D];m-=k-o.height,m*=c?1:-1}if(a===ne||(a===oe||a===de)&&s===at){A=ue;var M=x&&w===P&&P.visualViewport?P.visualViewport.width:w[E];f-=M-o.width,f*=c?1:-1}}var O=Object.assign({position:i},d&&rn),R=p===!0?on({x:f,y:m},se(r)):{x:f,y:m};if(f=R.x,m=R.y,c){var b;return Object.assign({},O,(b={},b[g]=T?"0":"",b[A]=v?"0":"",b.transform=(P.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",b))}return Object.assign({},O,(e={},e[g]=T?m+"px":"",e[A]=v?f+"px":"",e.transform="",e))}function nn(t){var e=t.state,r=t.options,o=r.gpuAcceleration,a=o===void 0?!0:o,s=r.adaptive,l=s===void 0?!0:s,i=r.roundOffsets,c=i===void 0?!0:i,d={placement:be(e.placement),variation:ze(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,cr(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,cr(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const an={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:nn,data:{}};var mt={passive:!0};function sn(t){var e=t.state,r=t.instance,o=t.options,a=o.scroll,s=a===void 0?!0:a,l=o.resize,i=l===void 0?!0:l,c=se(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(p){p.addEventListener("scroll",r.update,mt)}),i&&c.addEventListener("resize",r.update,mt),function(){s&&d.forEach(function(p){p.removeEventListener("scroll",r.update,mt)}),i&&c.removeEventListener("resize",r.update,mt)}}const ln={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:sn,data:{}};var cn={left:"right",right:"left",bottom:"top",top:"bottom"};function xt(t){return t.replace(/left|right|bottom|top/g,function(e){return cn[e]})}var pn={start:"end",end:"start"};function pr(t){return t.replace(/start|end/g,function(e){return pn[e]})}function Nt(t){var e=se(t),r=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:r,scrollTop:o}}function zt(t){return Ne(Se(t)).left+Nt(t).scrollLeft}function dn(t,e){var r=se(t),o=Se(t),a=r.visualViewport,s=o.clientWidth,l=o.clientHeight,i=0,c=0;if(a){s=a.width,l=a.height;var d=kr();(d||!d&&e==="fixed")&&(i=a.offsetLeft,c=a.offsetTop)}return{width:s,height:l,x:i+zt(t),y:c}}function un(t){var e,r=Se(t),o=Nt(t),a=(e=t.ownerDocument)==null?void 0:e.body,s=Ie(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=Ie(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-o.scrollLeft+zt(t),c=-o.scrollTop;return we(a||r).direction==="rtl"&&(i+=Ie(r.clientWidth,a?a.clientWidth:0)-s),{width:s,height:l,x:i,y:c}}function Ft(t){var e=we(t),r=e.overflow,o=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+o)}function Br(t){return["html","body","#document"].indexOf(ye(t))>=0?t.ownerDocument.body:pe(t)&&Ft(t)?t:Br(jt(t))}function ot(t,e){var r;e===void 0&&(e=[]);var o=Br(t),a=o===((r=t.ownerDocument)==null?void 0:r.body),s=se(o),l=a?[s].concat(s.visualViewport||[],Ft(o)?o:[]):o,i=e.concat(l);return a?i:i.concat(ot(jt(l)))}function Et(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function fn(t,e){var r=Ne(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function dr(t,e,r){return e===Mr?Et(dn(t,r)):$e(e)?fn(e,r):Et(un(Se(t)))}function mn(t){var e=ot(jt(t)),r=["absolute","fixed"].indexOf(we(t).position)>=0,o=r&&pe(t)?lt(t):t;return $e(o)?e.filter(function(a){return $e(a)&&Ir(a,o)&&ye(a)!=="body"}):[]}function gn(t,e,r,o){var a=e==="clippingParents"?mn(t):[].concat(e),s=[].concat(a,[r]),l=s[0],i=s.reduce(function(c,d){var p=dr(t,d,o);return c.top=Ie(p.top,c.top),c.right=wt(p.right,c.right),c.bottom=wt(p.bottom,c.bottom),c.left=Ie(p.left,c.left),c},dr(t,l,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Lr(t){var e=t.reference,r=t.element,o=t.placement,a=o?be(o):null,s=o?ze(o):null,l=e.x+e.width/2-r.width/2,i=e.y+e.height/2-r.height/2,c;switch(a){case oe:c={x:l,y:e.y-r.height};break;case de:c={x:l,y:e.y+e.height};break;case ue:c={x:e.x+e.width,y:i};break;case ne:c={x:e.x-r.width,y:i};break;default:c={x:e.x,y:e.y}}var d=a?Ut(a):null;if(d!=null){var p=d==="y"?"height":"width";switch(s){case Le:c[d]=c[d]-(e[p]/2-r[p]/2);break;case at:c[d]=c[d]+(e[p]/2-r[p]/2);break}}return c}function st(t,e){e===void 0&&(e={});var r=e,o=r.placement,a=o===void 0?t.placement:o,s=r.strategy,l=s===void 0?t.strategy:s,i=r.boundary,c=i===void 0?Io:i,d=r.rootBoundary,p=d===void 0?Mr:d,x=r.elementContext,C=x===void 0?Ze:x,f=r.altBoundary,j=f===void 0?!1:f,m=r.padding,y=m===void 0?0:m,v=_r(typeof y!="number"?y:Wr(y,it)),T=C===Ze?$o:Ze,A=t.rects.popper,g=t.elements[j?T:C],P=gn($e(g)?g:g.contextElement||Se(t.elements.popper),c,p,l),w=Ne(t.elements.reference),D=Lr({reference:w,element:A,placement:a}),E=Et(Object.assign({},A,D)),k=C===Ze?E:w,M={top:P.top-k.top+v.top,bottom:k.bottom-P.bottom+v.bottom,left:P.left-k.left+v.left,right:k.right-P.right+v.right},O=t.modifiersData.offset;if(C===Ze&&O){var R=O[a];Object.keys(M).forEach(function(b){var h=[ue,de].indexOf(b)>=0?1:-1,$=[oe,de].indexOf(b)>=0?"y":"x";M[b]+=R[$]*h})}return M}function hn(t,e){e===void 0&&(e={});var r=e,o=r.placement,a=r.boundary,s=r.rootBoundary,l=r.padding,i=r.flipVariations,c=r.allowedAutoPlacements,d=c===void 0?Er:c,p=ze(o),x=p?i?ir:ir.filter(function(j){return ze(j)===p}):it,C=x.filter(function(j){return d.indexOf(j)>=0});C.length===0&&(C=x);var f=C.reduce(function(j,m){return j[m]=st(t,{placement:m,boundary:a,rootBoundary:s,padding:l})[be(m)],j},{});return Object.keys(f).sort(function(j,m){return f[j]-f[m]})}function vn(t){if(be(t)===Wt)return[];var e=xt(t);return[pr(t),e,pr(e)]}function bn(t){var e=t.state,r=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var a=r.mainAxis,s=a===void 0?!0:a,l=r.altAxis,i=l===void 0?!0:l,c=r.fallbackPlacements,d=r.padding,p=r.boundary,x=r.rootBoundary,C=r.altBoundary,f=r.flipVariations,j=f===void 0?!0:f,m=r.allowedAutoPlacements,y=e.options.placement,v=be(y),T=v===y,A=c||(T||!j?[xt(y)]:vn(y)),g=[y].concat(A).reduce(function(Z,G){return Z.concat(be(G)===Wt?hn(e,{placement:G,boundary:p,rootBoundary:x,padding:d,flipVariations:j,allowedAutoPlacements:m}):G)},[]),P=e.rects.reference,w=e.rects.popper,D=new Map,E=!0,k=g[0],M=0;M<g.length;M++){var O=g[M],R=be(O),b=ze(O)===Le,h=[oe,de].indexOf(R)>=0,$=h?"width":"height",W=st(e,{placement:O,boundary:p,rootBoundary:x,altBoundary:C,padding:d}),L=h?b?ue:ne:b?de:oe;P[$]>w[$]&&(L=xt(L));var z=xt(L),Y=[];if(s&&Y.push(W[R]<=0),i&&Y.push(W[L]<=0,W[z]<=0),Y.every(function(Z){return Z})){k=O,E=!1;break}D.set(O,Y)}if(E)for(var K=j?3:1,ie=function(G){var J=g.find(function(S){var N=D.get(S);if(N)return N.slice(0,G).every(function(B){return B})});if(J)return k=J,"break"},V=K;V>0;V--){var le=ie(V);if(le==="break")break}e.placement!==k&&(e.modifiersData[o]._skip=!0,e.placement=k,e.reset=!0)}}const xn={name:"flip",enabled:!0,phase:"main",fn:bn,requiresIfExists:["offset"],data:{_skip:!1}};function ur(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function fr(t){return[oe,ue,de,ne].some(function(e){return t[e]>=0})}function yn(t){var e=t.state,r=t.name,o=e.rects.reference,a=e.rects.popper,s=e.modifiersData.preventOverflow,l=st(e,{elementContext:"reference"}),i=st(e,{altBoundary:!0}),c=ur(l,o),d=ur(i,a,s),p=fr(c),x=fr(d);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:x},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":x})}const wn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:yn};function Cn(t,e,r){var o=be(t),a=[ne,oe].indexOf(o)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,l=s[0],i=s[1];return l=l||0,i=(i||0)*a,[ne,ue].indexOf(o)>=0?{x:i,y:l}:{x:l,y:i}}function jn(t){var e=t.state,r=t.options,o=t.name,a=r.offset,s=a===void 0?[0,0]:a,l=Er.reduce(function(p,x){return p[x]=Cn(x,e.rects,s),p},{}),i=l[e.placement],c=i.x,d=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=l}const Tn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jn};function Pn(t){var e=t.state,r=t.name;e.modifiersData[r]=Lr({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const An={name:"popperOffsets",enabled:!0,phase:"read",fn:Pn,data:{}};function On(t){return t==="x"?"y":"x"}function Sn(t){var e=t.state,r=t.options,o=t.name,a=r.mainAxis,s=a===void 0?!0:a,l=r.altAxis,i=l===void 0?!1:l,c=r.boundary,d=r.rootBoundary,p=r.altBoundary,x=r.padding,C=r.tether,f=C===void 0?!0:C,j=r.tetherOffset,m=j===void 0?0:j,y=st(e,{boundary:c,rootBoundary:d,padding:x,altBoundary:p}),v=be(e.placement),T=ze(e.placement),A=!T,g=Ut(v),P=On(g),w=e.modifiersData.popperOffsets,D=e.rects.reference,E=e.rects.popper,k=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,M=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(w){if(s){var b,h=g==="y"?oe:ne,$=g==="y"?de:ue,W=g==="y"?"height":"width",L=w[g],z=L+y[h],Y=L-y[$],K=f?-E[W]/2:0,ie=T===Le?D[W]:E[W],V=T===Le?-E[W]:-D[W],le=e.elements.arrow,Z=f&&le?Lt(le):{width:0,height:0},G=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$r(),J=G[h],S=G[$],N=rt(0,D[W],Z[W]),B=A?D[W]/2-K-N-J-M.mainAxis:ie-N-J-M.mainAxis,F=A?-D[W]/2+K+N+S+M.mainAxis:V+N+S+M.mainAxis,ce=e.elements.arrow&&lt(e.elements.arrow),te=ce?g==="y"?ce.clientTop||0:ce.clientLeft||0:0,q=(b=O==null?void 0:O[g])!=null?b:0,fe=L+B-q-te,_e=L+F-q,Ve=rt(f?wt(z,fe):z,L,f?Ie(Y,_e):Y);w[g]=Ve,R[g]=Ve-L}if(i){var De,We=g==="x"?oe:ne,qe=g==="x"?de:ue,ve=w[P],Re=P==="y"?"height":"width",Xe=ve+y[We],Ye=ve-y[qe],Ke=[oe,ne].indexOf(v)!==-1,ct=(De=O==null?void 0:O[P])!=null?De:0,pt=Ke?Xe:ve-D[Re]-E[Re]-ct+M.altAxis,Be=Ke?ve+D[Re]+E[Re]-ct-M.altAxis:Ye,dt=f&&Ke?Jo(pt,ve,Be):rt(f?pt:Xe,ve,f?Be:Ye);w[P]=dt,R[P]=dt-ve}e.modifiersData[o]=R}}const Dn={name:"preventOverflow",enabled:!0,phase:"main",fn:Sn,requiresIfExists:["offset"]};function Rn(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Mn(t){return t===se(t)||!pe(t)?Nt(t):Rn(t)}function En(t){var e=t.getBoundingClientRect(),r=Ue(e.width)/t.offsetWidth||1,o=Ue(e.height)/t.offsetHeight||1;return r!==1||o!==1}function kn(t,e,r){r===void 0&&(r=!1);var o=pe(e),a=pe(e)&&En(e),s=Se(e),l=Ne(t,a,r),i={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!r)&&((ye(e)!=="body"||Ft(s))&&(i=Mn(e)),pe(e)?(c=Ne(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=zt(s))),{x:l.left+i.scrollLeft-c.x,y:l.top+i.scrollTop-c.y,width:l.width,height:l.height}}function In(t){var e=new Map,r=new Set,o=[];t.forEach(function(s){e.set(s.name,s)});function a(s){r.add(s.name);var l=[].concat(s.requires||[],s.requiresIfExists||[]);l.forEach(function(i){if(!r.has(i)){var c=e.get(i);c&&a(c)}}),o.push(s)}return t.forEach(function(s){r.has(s.name)||a(s)}),o}function $n(t){var e=In(t);return Vo.reduce(function(r,o){return r.concat(e.filter(function(a){return a.phase===o}))},[])}function _n(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Wn(t){var e=t.reduce(function(r,o){var a=r[o.name];return r[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,r},{});return Object.keys(e).map(function(r){return e[r]})}var mr={placement:"bottom",modifiers:[],strategy:"absolute"};function gr(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Bn(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,o=r===void 0?[]:r,a=e.defaultOptions,s=a===void 0?mr:a;return function(i,c,d){d===void 0&&(d=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},mr,s),modifiersData:{},elements:{reference:i,popper:c},attributes:{},styles:{}},x=[],C=!1,f={state:p,setOptions:function(v){var T=typeof v=="function"?v(p.options):v;m(),p.options=Object.assign({},s,p.options,T),p.scrollParents={reference:$e(i)?ot(i):i.contextElement?ot(i.contextElement):[],popper:ot(c)};var A=$n(Wn([].concat(o,p.options.modifiers)));return p.orderedModifiers=A.filter(function(g){return g.enabled}),j(),f.update()},forceUpdate:function(){if(!C){var v=p.elements,T=v.reference,A=v.popper;if(gr(T,A)){p.rects={reference:kn(T,lt(A),p.options.strategy==="fixed"),popper:Lt(A)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(M){return p.modifiersData[M.name]=Object.assign({},M.data)});for(var g=0;g<p.orderedModifiers.length;g++){if(p.reset===!0){p.reset=!1,g=-1;continue}var P=p.orderedModifiers[g],w=P.fn,D=P.options,E=D===void 0?{}:D,k=P.name;typeof w=="function"&&(p=w({state:p,options:E,name:k,instance:f})||p)}}}},update:_n(function(){return new Promise(function(y){f.forceUpdate(),y(p)})}),destroy:function(){m(),C=!0}};if(!gr(i,c))return f;f.setOptions(d).then(function(y){!C&&d.onFirstUpdate&&d.onFirstUpdate(y)});function j(){p.orderedModifiers.forEach(function(y){var v=y.name,T=y.options,A=T===void 0?{}:T,g=y.effect;if(typeof g=="function"){var P=g({state:p,name:v,instance:f,options:A}),w=function(){};x.push(P||w)}})}function m(){x.forEach(function(y){return y()}),x=[]}return f}}var Ln=[ln,An,an,Yo,Tn,xn,Dn,tn,wn],Un=Bn({defaultModifiers:Ln});function Nn(t){return Ce("MuiPopper",t)}je("MuiPopper",["root"]);function zn(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function kt(t){return typeof t=="function"?t():t}function Fn(t){return t.nodeType!==void 0}const Hn=t=>{const{classes:e}=t;return Te({root:["root"]},Nn,e)},Vn={},qn=u.forwardRef(function(e,r){const{anchorEl:o,children:a,direction:s,disablePortal:l,modifiers:i,open:c,placement:d,popperOptions:p,popperRef:x,slotProps:C={},slots:f={},TransitionProps:j,ownerState:m,...y}=e,v=u.useRef(null),T=Rt(v,r),A=u.useRef(null),g=Rt(A,x),P=u.useRef(g);Qt(()=>{P.current=g},[g]),u.useImperativeHandle(x,()=>A.current,[]);const w=zn(d,s),[D,E]=u.useState(w),[k,M]=u.useState(kt(o));u.useEffect(()=>{A.current&&A.current.forceUpdate()}),u.useEffect(()=>{o&&M(kt(o))},[o]),Qt(()=>{if(!k||!c)return;const $=z=>{E(z.placement)};let W=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:z})=>{$(z)}}];i!=null&&(W=W.concat(i)),p&&p.modifiers!=null&&(W=W.concat(p.modifiers));const L=Un(k,v.current,{placement:w,...p,modifiers:W});return P.current(L),()=>{L.destroy(),P.current(null)}},[k,l,i,c,p,w]);const O={placement:D};j!==null&&(O.TransitionProps=j);const R=Hn(e),b=f.root??"div",h=So({elementType:b,externalSlotProps:C.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:T},ownerState:e,className:R.root});return n.jsx(b,{...h,children:typeof a=="function"?a(O):a})}),Xn=u.forwardRef(function(e,r){const{anchorEl:o,children:a,container:s,direction:l="ltr",disablePortal:i=!1,keepMounted:c=!1,modifiers:d,open:p,placement:x="bottom",popperOptions:C=Vn,popperRef:f,style:j,transition:m=!1,slotProps:y={},slots:v={},...T}=e,[A,g]=u.useState(!0),P=()=>{g(!1)},w=()=>{g(!0)};if(!c&&!p&&(!m||A))return null;let D;if(s)D=s;else if(o){const M=kt(o);D=M&&Fn(M)?ar(M).body:ar(null).body}const E=!p&&c&&(!m||A)?"none":void 0,k=m?{in:p,onEnter:P,onExited:w}:void 0;return n.jsx(Oo,{disablePortal:i,container:D,children:n.jsx(qn,{anchorEl:o,direction:l,disablePortal:i,modifiers:d,ref:r,open:m?!A:p,placement:x,popperOptions:C,popperRef:f,slotProps:y,slots:v,...T,style:{position:"fixed",top:0,left:0,display:E,...j},TransitionProps:k,children:a})})}),Yn=Q(Xn,{name:"MuiPopper",slot:"Root"})({}),Ur=u.forwardRef(function(e,r){const o=wr(),a=Pe({props:e,name:"MuiPopper"}),{anchorEl:s,component:l,components:i,componentsProps:c,container:d,disablePortal:p,keepMounted:x,modifiers:C,open:f,placement:j,popperOptions:m,popperRef:y,transition:v,slots:T,slotProps:A,...g}=a,P=(T==null?void 0:T.root)??(i==null?void 0:i.Root),w={anchorEl:s,container:d,disablePortal:p,keepMounted:x,modifiers:C,open:f,placement:j,popperOptions:m,popperRef:y,transition:v,...g};return n.jsx(Yn,{as:l,direction:o?"rtl":"ltr",slots:{root:P},slotProps:A??c,...w,ref:r})});function Kn(t){const{badgeContent:e,invisible:r=!1,max:o=99,showZero:a=!1}=t,s=Rr({badgeContent:e,max:o});let l=r;r===!1&&e===0&&!a&&(l=!0);const{badgeContent:i,max:c=o}=l?s:t,d=i&&Number(i)>c?`${c}+`:i;return{badgeContent:i,invisible:l,max:c,displayValue:d}}function Gn(t){return Ce("MuiBadge",t)}const Ae=je("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),At=10,Ot=4,Jn=t=>{const{color:e,anchorOrigin:r,invisible:o,overlap:a,variant:s,classes:l={}}=t,i={root:["root"],badge:["badge",s,o&&"invisible",`anchorOrigin${X(r.vertical)}${X(r.horizontal)}`,`anchorOrigin${X(r.vertical)}${X(r.horizontal)}${X(a)}`,`overlap${X(a)}`,e!=="default"&&`color${X(e)}`]};return Te(i,Gn,l)},Zn=Q("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Qn=Q("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.badge,e[r.variant],e[`anchorOrigin${X(r.anchorOrigin.vertical)}${X(r.anchorOrigin.horizontal)}${X(r.overlap)}`],r.color!=="default"&&e[`color${X(r.color)}`],r.invisible&&e.invisible]}})(Fe(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:At*2,lineHeight:1,padding:"0 6px",height:At*2,borderRadius:At,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(go(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Ot,height:Ot*2,minWidth:Ot*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ae.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ae.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ae.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ae.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ae.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ae.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ae.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ae.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function hr(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const ea=u.forwardRef(function(e,r){const o=Pe({props:e,name:"MuiBadge"}),{anchorOrigin:a,className:s,classes:l,component:i,components:c={},componentsProps:d={},children:p,overlap:x="rectangular",color:C="default",invisible:f=!1,max:j=99,badgeContent:m,slots:y,slotProps:v,showZero:T=!1,variant:A="standard",...g}=o,{badgeContent:P,invisible:w,max:D,displayValue:E}=Kn({max:j,invisible:f,badgeContent:m,showZero:T}),k=Rr({anchorOrigin:hr(a),color:C,overlap:x,variant:A,badgeContent:m}),M=w||P==null&&A!=="dot",{color:O=C,overlap:R=x,anchorOrigin:b,variant:h=A}=M?k:o,$=hr(b),W=h!=="dot"?E:void 0,L={...o,badgeContent:P,invisible:M,max:D,displayValue:W,showZero:T,anchorOrigin:$,color:O,overlap:R,variant:h},z=Jn(L),Y={slots:{root:(y==null?void 0:y.root)??c.Root,badge:(y==null?void 0:y.badge)??c.Badge},slotProps:{root:(v==null?void 0:v.root)??d.root,badge:(v==null?void 0:v.badge)??d.badge}},[K,ie]=re("root",{elementType:Zn,externalForwardedProps:{...Y,...g},ownerState:L,className:xe(z.root,s),ref:r,additionalProps:{as:i}}),[V,le]=re("badge",{elementType:Qn,externalForwardedProps:Y,ownerState:L,className:z.badge});return n.jsxs(K,{...ie,children:[p,n.jsx(V,{...le,children:W})]})});function ta(t){return Ce("MuiDialog",t)}const St=je("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Nr=u.createContext({}),ra=Q(Ro,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),oa=t=>{const{classes:e,scroll:r,maxWidth:o,fullWidth:a,fullScreen:s}=t,l={root:["root"],container:["container",`scroll${X(r)}`],paper:["paper",`paperScroll${X(r)}`,`paperWidth${X(String(o))}`,a&&"paperFullWidth",s&&"paperFullScreen"]};return Te(l,ta,e)},na=Q(Do,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),aa=Q("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${X(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),sa=Q(Cr,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${X(r.scroll)}`],e[`paperWidth${X(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(Fe(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${St.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${St.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${St.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Ht=u.forwardRef(function(e,r){const o=Pe({props:e,name:"MuiDialog"}),a=_t(),s={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":i,"aria-modal":c=!0,BackdropComponent:d,BackdropProps:p,children:x,className:C,disableEscapeKeyDown:f=!1,fullScreen:j=!1,fullWidth:m=!1,maxWidth:y="sm",onClick:v,onClose:T,open:A,PaperComponent:g=Cr,PaperProps:P={},scroll:w="paper",slots:D={},slotProps:E={},TransitionComponent:k=sr,transitionDuration:M=s,TransitionProps:O,...R}=o,b={...o,disableEscapeKeyDown:f,fullScreen:j,fullWidth:m,maxWidth:y,scroll:w},h=oa(b),$=u.useRef(),W=q=>{$.current=q.target===q.currentTarget},L=q=>{v&&v(q),$.current&&($.current=null,T&&T(q,"backdropClick"))},z=Sr(i),Y=u.useMemo(()=>({titleId:z}),[z]),K={transition:k,...D},ie={transition:O,paper:P,backdrop:p,...E},V={slots:K,slotProps:ie},[le,Z]=re("root",{elementType:na,shouldForwardComponentProp:!0,externalForwardedProps:V,ownerState:b,className:xe(h.root,C),ref:r}),[G,J]=re("backdrop",{elementType:ra,shouldForwardComponentProp:!0,externalForwardedProps:V,ownerState:b}),[S,N]=re("paper",{elementType:sa,shouldForwardComponentProp:!0,externalForwardedProps:V,ownerState:b,className:xe(h.paper,P.className)}),[B,F]=re("container",{elementType:aa,externalForwardedProps:V,ownerState:b,className:h.container}),[ce,te]=re("transition",{elementType:sr,externalForwardedProps:V,ownerState:b,additionalProps:{appear:!0,in:A,timeout:M,role:"presentation"}});return n.jsx(le,{closeAfterTransition:!0,slots:{backdrop:G},slotProps:{backdrop:{transitionDuration:M,as:d,...J}},disableEscapeKeyDown:f,onClose:T,open:A,onClick:L,...Z,...R,children:n.jsx(ce,{...te,children:n.jsx(B,{onMouseDown:W,...F,children:n.jsx(S,{as:g,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":z,"aria-modal":c,...N,children:n.jsx(Nr.Provider,{value:Y,children:x})})})})})});function ia(t){return Ce("MuiDialogActions",t)}je("MuiDialogActions",["root","spacing"]);const la=t=>{const{classes:e,disableSpacing:r}=t;return Te({root:["root",!r&&"spacing"]},ia,e)},ca=Q("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Vt=u.forwardRef(function(e,r){const o=Pe({props:e,name:"MuiDialogActions"}),{className:a,disableSpacing:s=!1,...l}=o,i={...o,disableSpacing:s},c=la(i);return n.jsx(ca,{className:xe(c.root,a),ownerState:i,ref:r,...l})});function pa(t){return Ce("MuiDialogContent",t)}je("MuiDialogContent",["root","dividers"]);function da(t){return Ce("MuiDialogTitle",t)}const ua=je("MuiDialogTitle",["root"]),fa=t=>{const{classes:e,dividers:r}=t;return Te({root:["root",r&&"dividers"]},pa,e)},ma=Q("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(Fe(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${ua.root} + &`]:{paddingTop:0}}}]}))),qt=u.forwardRef(function(e,r){const o=Pe({props:e,name:"MuiDialogContent"}),{className:a,dividers:s=!1,...l}=o,i={...o,dividers:s},c=fa(i);return n.jsx(ma,{className:xe(c.root,a),ownerState:i,ref:r,...l})}),ga=t=>{const{classes:e}=t;return Te({root:["root"]},da,e)},ha=Q(I,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Xt=u.forwardRef(function(e,r){const o=Pe({props:e,name:"MuiDialogTitle"}),{className:a,id:s,...l}=o,i=o,c=ga(i),{titleId:d=s}=u.useContext(Nr);return n.jsx(ha,{component:"h2",className:xe(c.root,a),ownerState:i,ref:r,variant:"h6",id:s??d,...l})});function va(t){return Ce("MuiListItemAvatar",t)}je("MuiListItemAvatar",["root","alignItemsFlexStart"]);const ba=t=>{const{alignItems:e,classes:r}=t;return Te({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},va,r)},xa=Q("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),zr=u.forwardRef(function(e,r){const o=Pe({props:e,name:"MuiListItemAvatar"}),{className:a,...s}=o,l=u.useContext(jr),i={...o,alignItems:l.alignItems},c=ba(i);return n.jsx(xa,{className:xe(c.root,a),ownerState:i,ref:r,...s})});function ya(t){return Ce("MuiListItemText",t)}const gt=je("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),wa=t=>{const{classes:e,inset:r,primary:o,secondary:a,dense:s}=t;return Te({root:["root",r&&"inset",s&&"dense",o&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},ya,e)},Ca=Q("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${gt.primary}`]:e.primary},{[`& .${gt.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${er.root}:where(& .${gt.primary})`]:{display:"block"},[`.${er.root}:where(& .${gt.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Fr=u.forwardRef(function(e,r){const o=Pe({props:e,name:"MuiListItemText"}),{children:a,className:s,disableTypography:l=!1,inset:i=!1,primary:c,primaryTypographyProps:d,secondary:p,secondaryTypographyProps:x,slots:C={},slotProps:f={},...j}=o,{dense:m}=u.useContext(jr);let y=c??a,v=p;const T={...o,disableTypography:l,inset:i,primary:!!y,secondary:!!v,dense:m},A=wa(T),g={slots:C,slotProps:{primary:d,secondary:x,...f}},[P,w]=re("root",{className:xe(A.root,s),elementType:Ca,externalForwardedProps:{...g,...j},ownerState:T,ref:r}),[D,E]=re("primary",{className:A.primary,elementType:I,externalForwardedProps:g,ownerState:T}),[k,M]=re("secondary",{className:A.secondary,elementType:I,externalForwardedProps:g,ownerState:T});return y!=null&&y.type!==I&&!l&&(y=n.jsx(D,{variant:m?"body2":"body1",component:E!=null&&E.variant?void 0:"span",...E,children:y})),v!=null&&v.type!==I&&!l&&(v=n.jsx(k,{variant:"body2",color:"textSecondary",...M,children:v})),n.jsxs(P,{...w,children:[y,v]})});function ja(t){return Ce("MuiTooltip",t)}const H=je("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Ta(t){return Math.round(t*1e5)/1e5}const Pa=t=>{const{classes:e,disableInteractive:r,arrow:o,touch:a,placement:s}=t,l={popper:["popper",!r&&"popperInteractive",o&&"popperArrow"],tooltip:["tooltip",o&&"tooltipArrow",a&&"touch",`tooltipPlacement${X(s.split("-")[0])}`],arrow:["arrow"]};return Te(l,ja,e)},Aa=Q(Ur,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(Fe(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${H.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${H.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${H.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${H.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${H.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${H.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${H.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${H.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Oa=Q("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${X(r.placement.split("-")[0])}`]]}})(Fe(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Tr(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${H.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${H.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${H.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${H.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Ta(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${H.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${H.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${H.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${H.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${H.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${H.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${H.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${H.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${H.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${H.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Sa=Q("span",{name:"MuiTooltip",slot:"Arrow"})(Fe(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Tr(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let ht=!1;const vr=new ho;let Qe={x:0,y:0};function vt(t,e){return(r,...o)=>{e&&e(r,...o),t(r,...o)}}const It=u.forwardRef(function(e,r){const o=Pe({props:e,name:"MuiTooltip"}),{arrow:a=!1,children:s,classes:l,components:i={},componentsProps:c={},describeChild:d=!1,disableFocusListener:p=!1,disableHoverListener:x=!1,disableInteractive:C=!1,disableTouchListener:f=!1,enterDelay:j=100,enterNextDelay:m=0,enterTouchDelay:y=700,followCursor:v=!1,id:T,leaveDelay:A=0,leaveTouchDelay:g=1500,onClose:P,onOpen:w,open:D,placement:E="bottom",PopperComponent:k,PopperProps:M={},slotProps:O={},slots:R={},title:b,TransitionComponent:h,TransitionProps:$,...W}=o,L=u.isValidElement(s)?s:n.jsx("span",{children:s}),z=_t(),Y=wr(),[K,ie]=u.useState(),[V,le]=u.useState(null),Z=u.useRef(!1),G=C||v,J=ft(),S=ft(),N=ft(),B=ft(),[F,ce]=Mo({controlled:D,default:!1,name:"Tooltip",state:"open"});let te=F;const q=Sr(T),fe=u.useRef(),_e=tr(()=>{fe.current!==void 0&&(document.body.style.WebkitUserSelect=fe.current,fe.current=void 0),B.clear()});u.useEffect(()=>_e,[_e]);const Ve=_=>{vr.clear(),ht=!0,ce(!0),w&&!te&&w(_)},De=tr(_=>{vr.start(800+A,()=>{ht=!1}),ce(!1),P&&te&&P(_),J.start(z.transitions.duration.shortest,()=>{Z.current=!1})}),We=_=>{Z.current&&_.type!=="touchstart"||(K&&K.removeAttribute("title"),S.clear(),N.clear(),j||ht&&m?S.start(ht?m:j,()=>{Ve(_)}):Ve(_))},qe=_=>{S.clear(),N.start(A,()=>{De(_)})},[,ve]=u.useState(!1),Re=_=>{rr(_.target)||(ve(!1),qe(_))},Xe=_=>{K||ie(_.currentTarget),rr(_.target)&&(ve(!0),We(_))},Ye=_=>{Z.current=!0;const he=L.props;he.onTouchStart&&he.onTouchStart(_)},Ke=_=>{Ye(_),N.clear(),J.clear(),_e(),fe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",B.start(y,()=>{document.body.style.WebkitUserSelect=fe.current,We(_)})},ct=_=>{L.props.onTouchEnd&&L.props.onTouchEnd(_),_e(),N.start(g,()=>{De(_)})};u.useEffect(()=>{if(!te)return;function _(he){he.key==="Escape"&&De(he)}return document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[De,te]);const pt=Rt(Eo(L),ie,r);!b&&b!==0&&(te=!1);const Be=u.useRef(),dt=_=>{const he=L.props;he.onMouseMove&&he.onMouseMove(_),Qe={x:_.clientX,y:_.clientY},Be.current&&Be.current.update()},Ge={},Tt=typeof b=="string";d?(Ge.title=!te&&Tt&&!x?b:null,Ge["aria-describedby"]=te?q:null):(Ge["aria-label"]=Tt?b:null,Ge["aria-labelledby"]=te&&!Tt?q:null);const me={...Ge,...W,...L.props,className:xe(W.className,L.props.className),onTouchStart:Ye,ref:pt,...v?{onMouseMove:dt}:{}},Je={};f||(me.onTouchStart=Ke,me.onTouchEnd=ct),x||(me.onMouseOver=vt(We,me.onMouseOver),me.onMouseLeave=vt(qe,me.onMouseLeave),G||(Je.onMouseOver=We,Je.onMouseLeave=qe)),p||(me.onFocus=vt(Xe,me.onFocus),me.onBlur=vt(Re,me.onBlur),G||(Je.onFocus=Xe,Je.onBlur=Re));const Me={...o,isRtl:Y,arrow:a,disableInteractive:G,placement:E,PopperComponentProp:k,touch:Z.current},ge=typeof O.popper=="function"?O.popper(Me):O.popper,no=u.useMemo(()=>{var he,Zt;let _=[{name:"arrow",enabled:!!V,options:{element:V,padding:4}}];return(he=M.popperOptions)!=null&&he.modifiers&&(_=_.concat(M.popperOptions.modifiers)),(Zt=ge==null?void 0:ge.popperOptions)!=null&&Zt.modifiers&&(_=_.concat(ge.popperOptions.modifiers)),{...M.popperOptions,...ge==null?void 0:ge.popperOptions,modifiers:_}},[V,M.popperOptions,ge==null?void 0:ge.popperOptions]),Pt=Pa(Me),ao=typeof O.transition=="function"?O.transition(Me):O.transition,ut={slots:{popper:i.Popper,transition:i.Transition??h,tooltip:i.Tooltip,arrow:i.Arrow,...R},slotProps:{arrow:O.arrow??c.arrow,popper:{...M,...ge??c.popper},tooltip:O.tooltip??c.tooltip,transition:{...$,...ao??c.transition}}},[so,io]=re("popper",{elementType:Aa,externalForwardedProps:ut,ownerState:Me,className:xe(Pt.popper,M==null?void 0:M.className)}),[lo,co]=re("transition",{elementType:ko,externalForwardedProps:ut,ownerState:Me}),[po,uo]=re("tooltip",{elementType:Oa,className:Pt.tooltip,externalForwardedProps:ut,ownerState:Me}),[fo,mo]=re("arrow",{elementType:Sa,className:Pt.arrow,externalForwardedProps:ut,ownerState:Me,ref:le});return n.jsxs(u.Fragment,{children:[u.cloneElement(L,me),n.jsx(so,{as:k??Ur,placement:E,anchorEl:v?{getBoundingClientRect:()=>({top:Qe.y,left:Qe.x,right:Qe.x,bottom:Qe.y,width:0,height:0})}:K,popperRef:Be,open:K?te:!1,id:q,transition:!0,...Je,...io,popperOptions:no,children:({TransitionProps:_})=>n.jsx(lo,{timeout:z.transitions.duration.shorter,..._,...co,children:n.jsxs(po,{...uo,children:[b,a?n.jsx(fo,{...mo}):null]})})})]})});class Da extends u.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const o=r.offsetParent,a=bo(o)&&o.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ra({children:t,isPresent:e,anchorX:r,root:o}){const a=u.useId(),s=u.useRef(null),l=u.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:i}=u.useContext(vo);return u.useInsertionEffect(()=>{const{width:c,height:d,top:p,left:x,right:C}=l.current;if(e||!s.current||!c||!d)return;const f=r==="left"?`left: ${x}`:`right: ${C}`;s.current.dataset.motionPopId=a;const j=document.createElement("style");i&&(j.nonce=i);const m=o??document.head;return m.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${f}px !important;
            top: ${p}px !important;
          }
        `),()=>{m.removeChild(j),m.contains(j)&&m.removeChild(j)}},[e]),n.jsx(Da,{isPresent:e,childRef:s,sizeRef:l,children:u.cloneElement(t,{ref:s})})}const Ma=({children:t,initial:e,isPresent:r,onExitComplete:o,custom:a,presenceAffectsLayout:s,mode:l,anchorX:i,root:c})=>{const d=Pr(Ea),p=u.useId();let x=!0,C=u.useMemo(()=>(x=!1,{id:p,initial:e,isPresent:r,custom:a,onExitComplete:f=>{d.set(f,!0);for(const j of d.values())if(!j)return;o&&o()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[r,d,o]);return s&&x&&(C={...C}),u.useMemo(()=>{d.forEach((f,j)=>d.set(j,!1))},[r]),u.useEffect(()=>{!r&&!d.size&&o&&o()},[r]),l==="popLayout"&&(t=n.jsx(Ra,{isPresent:r,anchorX:i,root:c,children:t})),n.jsx(xo.Provider,{value:C,children:t})};function Ea(){return new Map}const bt=t=>t.key||"";function br(t){const e=[];return u.Children.forEach(t,r=>{u.isValidElement(r)&&e.push(r)}),e}const ka=({children:t,custom:e,initial:r=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:s="sync",propagate:l=!1,anchorX:i="left",root:c})=>{const[d,p]=yo(l),x=u.useMemo(()=>br(t),[t]),C=l&&!d?[]:x.map(bt),f=u.useRef(!0),j=u.useRef(x),m=Pr(()=>new Map),[y,v]=u.useState(x),[T,A]=u.useState(x);wo(()=>{f.current=!1,j.current=x;for(let w=0;w<T.length;w++){const D=bt(T[w]);C.includes(D)?m.delete(D):m.get(D)!==!0&&m.set(D,!1)}},[T,C.length,C.join("-")]);const g=[];if(x!==y){let w=[...x];for(let D=0;D<T.length;D++){const E=T[D],k=bt(E);C.includes(k)||(w.splice(D,0,E),g.push(E))}return s==="wait"&&g.length&&(w=g),A(br(w)),v(x),null}const{forceRender:P}=u.useContext(Co);return n.jsx(n.Fragment,{children:T.map(w=>{const D=bt(w),E=l&&!d?!1:x===T||C.includes(D),k=()=>{if(m.has(D))m.set(D,!0);else return;let M=!0;m.forEach(O=>{O||(M=!1)}),M&&(P==null||P(),A(j.current),l&&(p==null||p()),o&&o())};return n.jsx(Ma,{isPresent:E,initial:!f.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:E?void 0:k,anchorX:i,children:w},D)})})},Ia=Oe(n.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),$a=Oe([n.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),n.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")]),_a=Oe(n.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),Dt=Oe(n.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"})),Wa=Oe(n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),xr=Oe(n.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),yr=Oe(n.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Ba=Oe(n.jsx("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"})),Yt=()=>{var t;if(console.log(" Telegram WebApp..."),Gt(),typeof window<"u"&&((t=window.Telegram)!=null&&t.WebApp))try{const e=window.Telegram.WebApp;return e.ready(),e.expand(),e.setHeaderColor("#232b3b"),e.setBackgroundColor("#232b3b"),e.enableClosingConfirmation(),console.log("Telegram WebApp  "),console.log("WebApp version:",e.version),console.log("WebApp platform:",e.platform),console.log("WebApp theme:",e.colorScheme),!0}catch(e){return console.error("  Telegram WebApp:",e),!1}return console.log("Telegram WebApp  "),!1},Hr=()=>{var t,e,r;return typeof window<"u"&&((r=(e=(t=window.Telegram)==null?void 0:t.WebApp)==null?void 0:e.initDataUnsafe)!=null&&r.user)?window.Telegram.WebApp.initDataUnsafe.user:null},Kt=()=>{var t;if(console.log("=== Telegram WebApp Debug Info ==="),typeof window>"u"){console.log(" Window object not available");return}if(console.log(" Telegram object:",window.Telegram?" Available":" Not available"),(t=window.Telegram)!=null&&t.WebApp){const e=window.Telegram.WebApp;console.log(" WebApp object:"," Available"),console.log(" WebApp version:",e.version),console.log(" WebApp platform:",e.platform),console.log(" WebApp colorScheme:",e.colorScheme),console.log(" WebApp isExpanded:",e.isExpanded),console.log(" WebApp viewportHeight:",e.viewportHeight),console.log(" WebApp viewportStableHeight:",e.viewportStableHeight),console.log(" InitData:",e.initData?` Available (${e.initData.length} chars)`:" Not available"),console.log(" InitDataUnsafe:",e.initDataUnsafe?" Available":" Not available"),e.initDataUnsafe&&(console.log(" InitDataUnsafe.user:",e.initDataUnsafe.user?" Available":" Not available"),console.log(" InitDataUnsafe.query_id:",e.initDataUnsafe.query_id?" Available":" Not available"),console.log(" InitDataUnsafe.auth_date:",e.initDataUnsafe.auth_date?" Available":" Not available"),console.log(" InitDataUnsafe.hash:",e.initDataUnsafe.hash?" Available":" Not available"),e.initDataUnsafe.user&&console.log(" User data:",JSON.stringify(e.initDataUnsafe.user,null,2)))}else console.log(" WebApp object not available");console.log("==================================")},He=()=>{var t;if(console.log("   Telegram..."),Kt(),typeof window<"u"&&((t=window.Telegram)!=null&&t.WebApp)){console.log("Telegram WebApp ");const e=window.Telegram.WebApp.initData;if(console.log("Telegram initData:",e?"":""),e)return console.log("    initData"),e;const r=window.Telegram.WebApp.initDataUnsafe;if(console.log("Telegram initDataUnsafe:",r),r!=null&&r.user){const o=Math.floor(Date.now()/1e3),a=JSON.stringify(r.user),s=`user=${encodeURIComponent(a)}`,l=`auth_date=${o}`,i=`${s}&${l}`,c=btoa(i).replace(/[^a-zA-Z0-9]/g,"").substring(0,32),d=`${s}&${l}&hash=${c}`;return console.log("     initDataUnsafe"),console.log("Generated auth data length:",d.length),d}}return console.warn("     Telegram WebApp"),console.warn("   "),""},Vr=()=>{var t;return typeof window<"u"&&!!((t=window.Telegram)!=null&&t.WebApp)},qr=()=>{if(console.log("     ..."),typeof window<"u"){localStorage.removeItem("telegram_init_data"),console.log("   ");const t=He();return console.log("   :",t?"":""),t}return""},Gt=()=>{typeof window<"u"&&(localStorage.removeItem("telegram_init_data"),console.log("    "))},Xr=()=>{console.log("   ...");const t=He();if(t){console.log("   "),console.log(" :",t.length),console.log(" :",t.substring(0,100)+"...");try{const e=new URLSearchParams(t),r=e.get("user"),o=e.get("auth_date"),a=e.get("hash");if(console.log("  :"),console.log("  - user:",r?"":""),console.log("  - auth_date:",o?"":""),console.log("  - hash:",a?"":""),r){const s=JSON.parse(decodeURIComponent(r));console.log("  :",s)}return!0}catch(e){return console.error("   :",e),!1}}else return console.error("    "),!1},Jt=async()=>{console.log("     ...");try{const{debugAuthConfig:t,debugValidateTelegramData:e}=await nt(async()=>{const{debugAuthConfig:o,debugValidateTelegramData:a}=await Promise.resolve().then(()=>Ct);return{debugAuthConfig:o,debugValidateTelegramData:a}},void 0);console.log("   ...");try{const o=await t();if(console.log("  :",o),!o.telegram_bot_token_set)return console.error("      Telegram !"),console.error(" :    TELEGRAM_BOT_TOKEN  "),"server_no_token";console.log("     ")}catch(o){return console.error("    :",o),"server_config_error"}const r=He();if(r){console.log("     ...");try{const o=await e(r);return console.log("  :",o),o.success?(console.log("     !"),console.log(" ,    "),"validation_success"):(console.error("     "),console.error(" :     "),"validation_failed")}catch(o){return console.error("   :",o),"validation_error"}}else return console.error("    "),"no_data"}catch(t){return console.error("   :",t),"general_error"}};typeof window<"u"&&(window.telegramUtils={debugTelegramWebApp:Kt,getTelegramInitData:He,clearAndRecreateAuthData:qr,cleanupOldAuthData:Gt,testAuthData:Xr,initTelegramWebApp:Yt,diagnoseServerAuth:Jt},console.log("  Telegram   window.telegramUtils"));const La=Object.freeze(Object.defineProperty({__proto__:null,cleanupOldAuthData:Gt,clearAndRecreateAuthData:qr,debugTelegramWebApp:Kt,diagnoseServerAuth:Jt,getTelegramInitData:He,getTelegramUser:Hr,initTelegramWebApp:Yt,isTelegramWebApp:Vr,testAuthData:Xr},Symbol.toStringTag,{value:"Module"})),Ua=()=>{console.log("=== Aeon Messenger API Configuration ==="),console.log("VITE_CHAT_URL:","https://aeon-messenger-app-09faae856b73.herokuapp.com"),console.log("Base URL:","https://aeon-messenger-app-09faae856b73.herokuapp.com"),console.log("Environment:","production"),console.log(" NEW BACKEND URL: https://aeon-backend-2892-d50dfbe26b14.herokuapp.com"),console.log("=========================================")};Ua();const ee=Po.create({baseURL:"https://aeon-backend-2892-d50dfbe26b14.herokuapp.com",timeout:3e4,headers:{"Content-Type":"application/json"}}),Yr=async(t,e=3,r=1e3)=>{var o,a;for(let s=0;s<e;s++)try{return await t()}catch(l){if(console.log(`Attempt ${s+1} failed:`,l.message),((o=l.response)==null?void 0:o.status)===401||((a=l.response)==null?void 0:a.status)===403||s===e-1)throw l;await new Promise(i=>setTimeout(i,r*(s+1)))}throw new Error("Max retries reached")};ee.interceptors.request.use(t=>{const e=He();return console.log("=== Aeon API Request Debug ==="),console.log("URL:",t.url),console.log("Method:",t.method),console.log("Base URL:",t.baseURL),console.log("Init Data Length:",e?e.length:0),console.log("Init Data Preview:",e?e.substring(0,100)+"...":"No data"),e?(t.headers["x-telegram-init-data"]=e,console.log(" Auth header attached")):(console.warn(" No auth data available - running in development mode"),console.warn(" This request will likely fail with 401 error")),console.log("==============================="),t},t=>(console.error("Request interceptor error:",t),Promise.reject(t)));ee.interceptors.response.use(t=>(console.log(" API Response:",t.config.url,t.status),t),t=>{var e,r,o,a,s,l,i,c;throw console.error("=== Aeon API Error ==="),console.error("URL:",(e=t.config)==null?void 0:e.url),console.error("Status:",(r=t.response)==null?void 0:r.status),console.error("Status Text:",(o=t.response)==null?void 0:o.statusText),console.error("Response Data:",(a=t.response)==null?void 0:a.data),console.error("Request Headers:",(s=t.config)==null?void 0:s.headers),console.error("======================"),((l=t.response)==null?void 0:l.status)===401?(console.error(" Authorization failed"),console.error(" Possible reasons:"),console.error("   1. App is not running inside Telegram WebApp"),console.error("   2. Invalid or expired Telegram init data"),console.error("   3. Server-side authorization issue"),console.error(" Solution: Open this app from Telegram bot/mini app"),{...t,message:"Authorization failed - app must be opened from Telegram",isAuthError:!0,response:{...t.response,data:{...(i=t.response)==null?void 0:i.data,error:"     Telegram"}}}):t.code==="ECONNABORTED"&&t.message.includes("timeout")?(console.error(" Request timeout"),console.error(" Possible reasons:"),console.error("   1. Server is starting up (cold start)"),console.error("   2. Server is overloaded"),console.error("   3. Network connectivity issues"),console.error(" Solution: Try again in a moment"),{...t,message:"Server is starting up, please try again in a moment",isTimeoutError:!0}):((c=t.response)==null?void 0:c.status)===503?(console.error(" Service Unavailable"),console.error(" Server is temporarily unavailable"),{...t,message:"Server is temporarily unavailable, please try again",isServiceError:!0}):t});const Kr=async()=>(await Yr(()=>ee.get("/api/v1/chats/"))).data,Gr=async t=>(await Yr(()=>ee.post("/api/v1/chats/",t,{timeout:6e4}))).data,Na=async t=>(await ee.get(`/api/v1/chats/${t}`)).data,Jr=async(t,e)=>{await ee.post(`/api/v1/chats/${t}/members/${e}`)},Zr=async(t,e)=>{await ee.delete(`/api/v1/chats/${t}/members/${e}`)},Qr=async(t,e=1,r=50)=>(await ee.get(`/api/v1/messages/chat/${t}?page=${e}&per_page=${r}`)).data,eo=async t=>(await ee.post("/api/v1/messages/",t)).data,to=async t=>{await ee.post(`/api/v1/messages/chat/${t}/read-all`)},ro=async()=>(await ee.get("/api/v1/me")).data,za=async()=>(await ee.get("/api/v1/debug/auth")).data,Fa=async t=>(await ee.post("/api/v1/debug/validate-telegram-data",t,{headers:{"Content-Type":"application/json"}})).data,$t=async(t,e)=>(await ee.post(`/api/v1/chats/${t}/invite-by-username`,{username:e})).data,oo=async()=>{await ee.post("/api/v1/users/check-invitations")},Ct=Object.freeze(Object.defineProperty({__proto__:null,addMemberToChat:Jr,checkAndAcceptInvitations:oo,createChat:Gr,debugAuthConfig:za,debugValidateTelegramData:Fa,getChat:Na,getChatMessages:Qr,getChats:Kr,getCurrentUser:ro,inviteMemberByUsername:$t,markAllMessagesAsRead:to,removeMemberFromChat:Zr,sendMessage:eo},Symbol.toStringTag,{value:"Module"})),Ha=()=>{const[t,e]=u.useState([]),[r,o]=u.useState(null),[a,s]=u.useState([]),[l,i]=u.useState(null),[c,d]=u.useState(!0),[p,x]=u.useState(!1),[C,f]=u.useState(null),[j,m]=u.useState(!1),y=u.useCallback(()=>Yt(),[]),v=u.useCallback(async()=>{var O;try{const R=await ro();i(R),f(null),m(!1);try{await oo()}catch(b){console.log("No pending invitations or error checking invitations:",b)}}catch(R){if(console.error("Error loading current user:",R),((O=R.response)==null?void 0:O.status)===401||R.isAuthError?(m(!0),f("     Telegram   ")):f("   "),!Vr()){const b=Hr();i(b?{id:b.id,telegram_id:b.id,username:b.username,first_name:b.first_name,last_name:b.last_name,profile_photo_url:b.photo_url}:{id:123456789,telegram_id:123456789,username:"testuser",first_name:"Test",last_name:"User",profile_photo_url:void 0}),m(!1)}}},[y]),T=u.useCallback(async()=>{var O,R;try{d(!0);const b=await Kr();e(b),f(null),m(!1)}catch(b){console.error("Error loading chats:",b),((O=b.response)==null?void 0:O.status)===401||b.isAuthError?(m(!0),f("     Telegram   ")):b.isTimeoutError||b.code==="ECONNABORTED"?f("  ,     "):b.isServiceError||((R=b.response)==null?void 0:R.status)===503?f("   ,    "):f("  ")}finally{d(!1)}},[y]),A=u.useCallback(async O=>{var R,b;try{x(!0);const h=await Qr(O);s(h.messages),f(null),m(!1)}catch(h){console.error("Error loading messages:",h),((R=h.response)==null?void 0:R.status)===401||h.isAuthError?(m(!0),f("     Telegram   ")):h.isTimeoutError||h.code==="ECONNABORTED"?f("  ,   "):h.isServiceError||((b=h.response)==null?void 0:b.status)===503?f("   ,   "):f("  ")}finally{x(!1)}},[y]),g=u.useCallback(async(O,R)=>{if(R.trim())try{const b={text:R.trim(),message_type:"text",chat_id:O},h=await eo(b);s($=>[...$,h]),e($=>$.map(W=>W.id===O?{...W,last_message:R.trim(),last_message_time:new Date().toISOString()}:W))}catch(b){if(console.error("Error sending message:",b),f("  "),l){const h={id:Date.now(),text:R.trim(),message_type:"text",chat_id:O,sender_id:l.id,sender:{id:l.id,telegram_id:l.telegram_id,username:l.username,first_name:l.first_name,last_name:l.last_name,profile_photo_url:l.profile_photo_url},is_edited:!1,is_deleted:!1,read_by:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()};s($=>[...$,h])}}},[l]),P=u.useCallback(async(O,R=[],b=[])=>{try{const h={title:O,chat_type:R.length+b.length>0?"group":"private",member_ids:R},$=await Gr(h);if(b.length>0){const{inviteMemberByUsername:L}=await nt(async()=>{const{inviteMemberByUsername:z}=await Promise.resolve().then(()=>Ct);return{inviteMemberByUsername:z}},void 0);for(const z of b)try{await L($.id,z)}catch(Y){console.error(`Error inviting ${z}:`,Y)}}await T();const W={id:$.id,title:$.title,chat_type:$.chat_type,photo_url:$.photo_url,last_message:void 0,last_message_time:void 0,unread_count:0};return o(W),await A($.id),$}catch(h){throw console.error("Error creating chat:",h),f("  "),h}},[T,A]),w=u.useCallback(O=>{o(O),A(O.id),O.unread_count>0&&to(O.id).catch(R=>console.error("Error marking messages as read:",R))},[A]),D=u.useCallback(()=>{o(null),s([])},[]),E=u.useCallback(async O=>{try{const{getChat:R}=await nt(async()=>{const{getChat:h}=await Promise.resolve().then(()=>Ct);return{getChat:h}},void 0);return await R(O)}catch(R){throw console.error("Error loading chat info:",R),f("    "),R}},[]),k=u.useCallback(async(O,R)=>{try{await Jr(O,R),f(null)}catch(b){throw console.error("Error adding member to chat:",b),f("  "),b}},[]),M=u.useCallback(async(O,R)=>{try{await Zr(O,R),f(null)}catch(b){throw console.error("Error removing member from chat:",b),f("  "),b}},[]);return u.useEffect(()=>{y(),v(),T()},[y,v,T]),{chats:t,currentChat:r,messages:a,currentUser:l,loading:c,messagesLoading:p,error:C,isAuthError:j,sendNewMessage:g,createNewChat:P,selectChat:w,refreshChats:T,refreshMessages:()=>r&&A(r.id),loadChatInfo:E,addMemberToChat:k,removeMemberFromChat:M,clearCurrentChat:D}},Va=({open:t,onClose:e})=>{const[r,o]=u.useState(!1),[a,s]=u.useState(null),l=async()=>{o(!0),s(null);try{const d=await Jt(),{debugAuthConfig:p,debugValidateTelegramData:x}=await nt(async()=>{const{debugAuthConfig:v,debugValidateTelegramData:T}=await Promise.resolve().then(()=>Ct);return{debugAuthConfig:v,debugValidateTelegramData:T}},void 0),{getTelegramInitData:C}=await nt(async()=>{const{getTelegramInitData:v}=await Promise.resolve().then(()=>La);return{getTelegramInitData:v}},void 0);let f,j,m=[];try{f=await p()}catch{f={error:"    "}}const y=C();if(y)try{j=await x(y)}catch{j={error:"   "}}switch(d){case"server_no_token":m=["    TELEGRAM_BOT_TOKEN  ","   @BotFather      Heroku","    "];break;case"validation_failed":m=["     @BotFather",",     Telegram","   ,    "];break;case"validation_success":m=["  ,    ","  "," -"];break;default:m=[",     Telegram"," -","     "]}s({status:d,serverConfig:f,validationResult:j,recommendations:m})}catch{s({status:"error",recommendations:["   ","    "]})}finally{o(!1)}},i=d=>{switch(d){case"validation_success":return"success";case"server_no_token":case"validation_failed":return"error";default:return"warning"}},c=d=>{switch(d){case"server_no_token":return"   ";case"validation_failed":return"  ";case"validation_success":return" ";case"server_config_error":return"  ";case"validation_error":return" ";case"no_data":return"  ";case"general_error":return" ";default:return" "}};return n.jsxs(Ht,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[n.jsx(Xt,{children:"   "}),n.jsxs(qt,{children:[!r&&!a&&n.jsx(U,{sx:{textAlign:"center",py:3},children:n.jsx(I,{variant:"body1",sx:{mb:2},children:' " "    '})}),r&&n.jsxs(U,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:4},children:[n.jsx(Ee,{sx:{mr:2}}),n.jsx(I,{children:" ..."})]}),a&&n.jsxs(U,{sx:{py:2},children:[n.jsxs(U,{sx:{mb:3},children:[n.jsx(I,{variant:"h6",sx:{mb:1},children:" :"}),n.jsx(Dr,{label:c(a.status),color:i(a.status),sx:{mb:2}})]}),a.serverConfig&&n.jsxs(U,{sx:{mb:3},children:[n.jsx(I,{variant:"h6",sx:{mb:1},children:" :"}),n.jsxs(ke,{severity:a.serverConfig.telegram_bot_token_set?"success":"error",children:[n.jsxs(I,{variant:"body2",children:[" : ",a.serverConfig.telegram_bot_token_set?" ":"  "]}),n.jsxs(I,{variant:"body2",children:[" : ",a.serverConfig.debug_mode?"":""]})]})]}),a.validationResult&&n.jsxs(U,{sx:{mb:3},children:[n.jsx(I,{variant:"h6",sx:{mb:1},children:" :"}),n.jsx(ke,{severity:a.validationResult.success?"success":"error",children:n.jsxs(I,{variant:"body2",children:[": ",a.validationResult.success?" ":"  "]})})]}),n.jsxs(U,{sx:{mb:2},children:[n.jsx(I,{variant:"h6",sx:{mb:1},children:":"}),a.recommendations.map((d,p)=>n.jsxs(I,{variant:"body2",sx:{mb:1,pl:2},children:[" ",d]},p))]})]})]}),n.jsxs(Vt,{children:[!a&&n.jsx(ae,{onClick:l,disabled:r,variant:"contained",color:"primary",children:" "}),a&&n.jsx(ae,{onClick:l,variant:"outlined",children:" "}),n.jsx(ae,{onClick:e,children:""})]})]})},qa=({open:t,onClose:e,currentChat:r,loadChatInfo:o,addMemberToChat:a,removeMemberFromChat:s,currentUserId:l})=>{var b;const[i,c]=u.useState(null),[d,p]=u.useState(!1),[x,C]=u.useState(null),[f,j]=u.useState(""),[m,y]=u.useState(""),[v,T]=u.useState("username"),[A,g]=u.useState(!1),[P,w]=u.useState(null);u.useEffect(()=>{t&&r&&D()},[t,r]);const D=async()=>{if(r)try{p(!0),C(null);const h=await o(r.id);c(h)}catch(h){C("     "),console.error("Error loading chat details:",h)}finally{p(!1)}},E=async h=>{r&&await a(r.id,h)},k=async h=>{if(!r)return;const $=await $t(r.id,h);$.status==="added"?w({type:"success",message:` @${h}     !`}):$.status==="invited"&&w({type:"info",message:` @${h}    .   -       .`}),setTimeout(()=>w(null),5e3)},M=async()=>{if(!f.trim())return;const h=f.trim(),$=parseInt(h);try{g(!0),C(null),isNaN($)?await k(h.replace(/^@/,"")):await E($),j(""),await D()}catch(W){console.error("Error adding member (ID path):",W),C("   ")}finally{g(!1)}},O=async()=>{if(!(!m.trim()||!r))try{g(!0),C(null),w(null);const h=await $t(r.id,m.trim());h.status==="added"?(w({type:"success",message:` @${m.trim()}   !`}),y(""),await D()):h.status==="invited"&&(w({type:"info",message:`   @${m.trim()}.        .`}),y("")),setTimeout(()=>w(null),5e3)}catch(h){console.error("Error adding member by username:",h),w({type:"warning",message:"   .  username   ."})}finally{g(!1)}},R=async h=>{if(r)try{C(null),await s(r.id,h),await D()}catch($){C("   "),console.error("Error removing member:",$)}};return r?n.jsxs(Ht,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[n.jsxs(Xt,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsx(yt,{src:r.photo_url||void 0,sx:{bgcolor:"#4a9eff"},children:r.title?r.title[0].toUpperCase():n.jsx(xr,{})}),n.jsxs(U,{children:[n.jsx(I,{variant:"h6",children:r.title||" "}),n.jsx(I,{variant:"caption",sx:{color:"#8b95a1"},children:r.chat_type==="private"?" ":" "})]})]}),n.jsxs(qt,{children:[x&&n.jsx(ke,{severity:"error",sx:{mb:2},children:x}),d?n.jsx(U,{sx:{display:"flex",justifyContent:"center",py:3},children:n.jsx(Ee,{sx:{color:"#4a9eff"}})}):i?n.jsxs(n.Fragment,{children:[n.jsxs(U,{sx:{mb:3},children:[n.jsx(I,{variant:"subtitle1",sx:{mb:1,fontWeight:600},children:""}),n.jsxs(I,{variant:"body2",sx:{color:"#8b95a1",mb:1},children:["ID : ",i.id]}),n.jsxs(I,{variant:"body2",sx:{color:"#8b95a1",mb:1},children:[": ",new Date(i.created_at).toLocaleDateString("ru-RU")]}),i.description&&n.jsxs(I,{variant:"body2",sx:{color:"#8b95a1"},children:[": ",i.description]})]}),n.jsxs(U,{sx:{mb:3},children:[n.jsxs(I,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:[" (",((b=i.members)==null?void 0:b.length)||0,")"]}),i.members&&i.members.length>0?n.jsx(Ar,{sx:{maxHeight:200,overflow:"auto"},children:i.members.map(h=>n.jsxs(Or,{sx:{bgcolor:"rgba(43, 52, 65, 0.5)",borderRadius:1,mb:1},children:[n.jsx(zr,{children:n.jsx(yt,{src:h.profile_photo_url||void 0,sx:{bgcolor:"#4a9eff"},children:h.first_name?h.first_name[0].toUpperCase():n.jsx(xr,{})})}),n.jsx(Fr,{primary:n.jsxs(U,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsxs(I,{children:[h.first_name," ",h.last_name]}),h.is_admin&&n.jsx(Dr,{icon:n.jsx($a,{}),label:"",size:"small",sx:{bgcolor:"#4a9eff",color:"white",fontSize:"0.7rem"}})]}),secondary:n.jsx(I,{variant:"caption",sx:{color:"#8b95a1"},children:h.username?`@${h.username}`:`ID: ${h.telegram_id}`})}),l!==h.telegram_id&&n.jsx(It,{title:" ",children:n.jsx(et,{onClick:()=>R(h.telegram_id),sx:{color:"#f44336","&:hover":{bgcolor:"rgba(244, 67, 54, 0.1)"}},children:n.jsx(Ba,{})})})]},h.id))}):n.jsx(I,{variant:"body2",sx:{color:"#8b95a1",textAlign:"center",py:2},children:" "})]}),n.jsxs(U,{children:[n.jsx(I,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:" "}),P&&n.jsx(ke,{severity:P.type==="success"?"success":P.type==="info"?"info":"warning",sx:{mb:2,"& .MuiAlert-message":{color:"white"},bgcolor:P.type==="success"?"rgba(76, 175, 80, 0.2)":P.type==="info"?"rgba(33, 150, 243, 0.2)":"rgba(255, 152, 0, 0.2)",border:`1px solid ${P.type==="success"?"#4CAF50":P.type==="info"?"#2196F3":"#FF9800"}`},children:P.message}),n.jsxs(U,{sx:{display:"flex",gap:1,mb:2},children:[n.jsx(ae,{variant:v==="username"?"contained":"outlined",onClick:()=>T("username"),size:"small",sx:{bgcolor:v==="username"?"#4a9eff":"transparent",color:v==="username"?"white":"#4a9eff",borderColor:"#4a9eff","&:hover":{bgcolor:v==="username"?"#3d8bdb":"rgba(74, 158, 255, 0.1)"}},children:" @username"}),n.jsx(ae,{variant:v==="id"?"contained":"outlined",onClick:()=>T("id"),size:"small",sx:{bgcolor:v==="id"?"#4a9eff":"transparent",color:v==="id"?"white":"#4a9eff",borderColor:"#4a9eff","&:hover":{bgcolor:v==="id"?"#3d8bdb":"rgba(74, 158, 255, 0.1)"}},children:" ID ()"})]}),v==="username"?n.jsxs(U,{sx:{display:"flex",gap:1},children:[n.jsx(tt,{size:"small",placeholder:"@username ",value:m,onChange:h=>y(h.target.value),helperText:"      -  .   -  .",sx:{flex:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}}),n.jsx(ae,{variant:"contained",onClick:O,disabled:!m.trim()||A,startIcon:A?n.jsx(Ee,{size:16}):n.jsx(yr,{}),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"},minWidth:"120px"},children:A?"...":""})]}):n.jsxs(U,{sx:{display:"flex",gap:1},children:[n.jsx(tt,{size:"small",placeholder:"ID  @username",value:f,onChange:h=>j(h.target.value),helperText:"    Telegram ID (),   @username -   ",sx:{flex:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}}),n.jsx(ae,{variant:"contained",onClick:M,disabled:!f.trim()||A,startIcon:A?n.jsx(Ee,{size:16}):n.jsx(yr,{}),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"},minWidth:"120px"},children:A?"...":""})]})]})]}):n.jsx(I,{variant:"body2",sx:{textAlign:"center",py:3,color:"#8b95a1"},children:"     "})]}),n.jsx(Vt,{children:n.jsx(ae,{onClick:e,sx:{color:"#8b95a1"},children:""})})]}):null},ts=()=>{const t=_t(),e=jo(t.breakpoints.down("md")),[r,o]=u.useState(""),[a,s]=u.useState(!1),[l,i]=u.useState(""),[c,d]=u.useState(""),[p,x]=u.useState(null),[C,f]=u.useState(!1),[j,m]=u.useState(!1),[y,v]=u.useState(!1),T=u.useRef(null),{chats:A,currentChat:g,messages:P,currentUser:w,loading:D,messagesLoading:E,error:k,isAuthError:M,sendNewMessage:O,createNewChat:R,selectChat:b,loadChatInfo:h,addMemberToChat:$,removeMemberFromChat:W,clearCurrentChat:L}=Ha(),z=()=>{var S;(S=T.current)==null||S.scrollIntoView({behavior:"smooth"})},Y=()=>{L()};u.useEffect(z,[P]);const K=async()=>{r.trim()===""||!g||(await O(g.id,r),o(""))},ie=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),K())},V=async()=>{var S,N;try{f(!0),x(null);const B=[],F=[];c.trim()&&c.split(",").map(q=>q.trim()).filter(q=>q.length>0).forEach(q=>{const fe=parseInt(q);!isNaN(fe)&&fe>0?B.push(fe):F.push(q.replace(/^@/,""))}),await R(l.trim(),B,F);let ce=`  "${l.trim()}"  !`;B.length>0&&(ce+=`  ${B.length} .`),F.length>0&&(ce+=`  ${F.length}   username.`),x({type:"success",message:ce}),setTimeout(()=>{x(null),s(!1)},2e3),i(""),d("")}catch(B){console.error("Error creating chat:",B);let F="   .   .";B!=null&&B.isTimeoutError?F="  ,     .   .":B!=null&&B.isServiceError?F="   .    .":B!=null&&B.isAuthError?F="  .    Telegram.":(B==null?void 0:B.code)==="ECONNABORTED"?F="   .    -   .":((S=B==null?void 0:B.response)==null?void 0:S.status)===503?F="   .    .":((N=B==null?void 0:B.response)==null?void 0:N.status)===500&&(F="   .       ."),x({type:"warning",message:F})}finally{f(!1)}},le=S=>new Date(S).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),Z=S=>{const N=new Date(S),B=new Date,F=new Date(B);return F.setDate(F.getDate()-1),N.toDateString()===B.toDateString()?"":N.toDateString()===F.toDateString()?"":N.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})},G=S=>{const N=S.sender;return N.username?`@${N.username}`:`${N.first_name}${N.last_name?` ${N.last_name}`:""}`},J=S=>w&&S.sender_id===w.id;return D?n.jsx(U,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(35, 43, 59, 0.95)"},children:n.jsx(Ee,{sx:{color:"#4a9eff"}})}):M?n.jsxs(U,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",p:3},children:[n.jsxs(ke,{severity:"error",sx:{mb:3,maxWidth:"600px"},children:[n.jsx(I,{variant:"h6",sx:{mb:2},children:"  "}),n.jsx(I,{variant:"body1",sx:{mb:2,fontWeight:"bold"},children:"    "}),n.jsx(I,{variant:"body2",sx:{mb:2},children:"  .  :"}),n.jsxs(I,{variant:"body2",component:"ul",sx:{pl:2,mb:2},children:[n.jsx("li",{children:"     Telegram "}),n.jsx("li",{children:"    "}),n.jsx("li",{children:"    "}),n.jsx("li",{children:"    Telegram"})]}),n.jsx(I,{variant:"body2",sx:{mb:2},children:n.jsx("strong",{children:" :"})}),n.jsxs(I,{variant:"body2",component:"ul",sx:{pl:2,mb:2},children:[n.jsx("li",{children:' ""   '}),n.jsx("li",{children:",     Telegram"}),n.jsx("li",{children:"   -   "}),n.jsx("li",{children:"   -   "})]})]}),n.jsxs(U,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"center"},children:[n.jsx(ae,{variant:"contained",onClick:()=>m(!0),sx:{bgcolor:"#f44336","&:hover":{bgcolor:"#d32f2f"}},children:"  "}),n.jsx(ae,{variant:"contained",onClick:()=>window.location.reload(),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"}},children:"  "}),n.jsx(ae,{variant:"outlined",onClick:()=>{var S;(S=window.Telegram)!=null&&S.WebApp?window.Telegram.WebApp.close():window.history.back()},sx:{borderColor:"#4a9eff",color:"#4a9eff","&:hover":{borderColor:"#3d8bdb",color:"#3d8bdb"}},children:" "})]})]}):n.jsxs(U,{sx:{height:"100vh",display:"flex",bgcolor:"rgba(35, 43, 59, 0.95)",color:"white",overflow:"hidden"},children:[n.jsxs(U,{sx:{width:e?"100%":"350px",display:e&&g?"none":"flex",flexDirection:"column",borderRight:"1px solid rgba(43, 52, 65, 1)",bgcolor:"rgba(35, 43, 59, 0.95)"},children:[n.jsxs(U,{sx:{p:2,borderBottom:"1px solid rgba(43, 52, 65, 1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(I,{variant:"h6",sx:{fontWeight:600},children:""}),n.jsx(It,{title:"  ",children:n.jsx(et,{onClick:()=>s(!0),sx:{bgcolor:"#4a9eff",color:"white","&:hover":{bgcolor:"#3d8bdb"}},children:n.jsx(Ia,{})})})]}),n.jsx(Ar,{sx:{flex:1,overflow:"auto",p:0},children:A.map(S=>n.jsx(or.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:n.jsx(Or,{disablePadding:!0,sx:{borderBottom:"1px solid rgba(43, 52, 65, 0.5)"},children:n.jsxs(To,{selected:(g==null?void 0:g.id)===S.id,onClick:()=>b(S),sx:{py:e?2:1.5,px:e?1.5:2,bgcolor:(g==null?void 0:g.id)===S.id?"rgba(74, 158, 255, 0.1)":"transparent","&:hover":{bgcolor:(g==null?void 0:g.id)===S.id?"rgba(74, 158, 255, 0.15)":"rgba(255, 255, 255, 0.05)"},minHeight:e?72:"auto"},children:[n.jsx(zr,{children:n.jsx(ea,{badgeContent:S.unread_count,color:"error",invisible:S.unread_count===0,children:n.jsx(yt,{src:S.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:e?50:45,height:e?50:45},children:S.title?S.title[0].toUpperCase():n.jsx(Dt,{})})})}),n.jsx(Fr,{primary:n.jsx(I,{variant:"body1",sx:{fontWeight:S.unread_count>0?600:400,color:"white"},children:S.title||" "}),secondary:n.jsxs(U,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx(I,{variant:"caption",sx:{color:"#8b95a1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"150px"},children:S.last_message||" "}),S.last_message_time&&n.jsx(I,{variant:"caption",sx:{color:"#8b95a1",fontSize:"0.7rem",ml:1},children:Z(S.last_message_time)})]})})]})})},S.id))})]}),n.jsx(U,{sx:{flex:1,display:"flex",flexDirection:"column",position:"relative"},children:g?n.jsxs(n.Fragment,{children:[n.jsxs(U,{sx:{p:e?1.5:2,borderBottom:"1px solid rgba(43, 52, 65, 1)",bgcolor:"rgba(35, 43, 59, 0.95)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs(U,{sx:{display:"flex",alignItems:"center",flex:1},children:[e&&n.jsx(et,{onClick:Y,sx:{color:"#4a9eff",mr:1,p:1,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:n.jsx(_a,{})}),n.jsx(yt,{src:g.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:e?36:40,height:e?36:40,mr:e?1.5:2},children:g.title?g.title[0].toUpperCase():n.jsx(Dt,{})}),n.jsxs(U,{sx:{flex:1,minWidth:0},children:[n.jsx(I,{variant:e?"body1":"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:g.title||" "}),n.jsx(I,{variant:"caption",sx:{color:"#8b95a1",fontSize:e?"0.7rem":"0.75rem"},children:g.chat_type==="private"?" ":" "})]})]}),n.jsx(It,{title:"  ",children:n.jsx(et,{onClick:()=>v(!0),sx:{color:"#4a9eff",p:e?1:1.5,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:n.jsx(Wa,{fontSize:e?"small":"medium"})})})]}),n.jsxs(U,{sx:{flex:1,overflow:"auto",p:e?1:1.5,bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${nr})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"local","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(35, 43, 59, 0.8)",pointerEvents:"none",zIndex:0},position:"relative","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:"rgba(255, 255, 255, 0.3)"}},children:[k&&n.jsx(ke,{severity:"error",sx:{mb:2,zIndex:1,position:"relative"},children:k}),E?n.jsx(U,{sx:{display:"flex",justifyContent:"center",py:4,zIndex:1,position:"relative"},children:n.jsx(Ee,{sx:{color:"#4a9eff"}})}):n.jsx(ka,{children:P.map(S=>n.jsx(or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{display:"flex",justifyContent:J(S)?"flex-end":"flex-start",marginBottom:"12px",position:"relative",zIndex:1},children:n.jsxs(U,{sx:{maxWidth:e?"85%":"70%",px:e?1.5:2,py:e?1:1.2,borderRadius:J(S)?"18px 18px 4px 18px":"18px 18px 18px 4px",bgcolor:J(S)?"#4a9eff":"rgba(43, 52, 65, 0.9)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",wordBreak:"break-word"},children:[!J(S)&&n.jsx(I,{variant:"caption",sx:{color:"#40C4FF",fontWeight:600,display:"block",mb:.5},children:G(S)}),n.jsx(I,{variant:"body1",sx:{mb:.5,fontSize:e?"0.9rem":"0.95rem",lineHeight:1.4},children:S.text}),n.jsx(I,{variant:"caption",sx:{opacity:.7,fontSize:e?"0.65rem":"0.7rem",display:"block",textAlign:"right",mt:.25,color:J(S)?"rgba(255,255,255,0.8)":"#8b95a1"},children:le(S.created_at)})]})},S.id))}),n.jsx("div",{ref:T,style:{position:"relative",zIndex:1}})]}),n.jsxs(U,{sx:{p:e?1.5:2,bgcolor:"rgba(35, 43, 59, 0.95)",display:"flex",gap:e?1:1.5,alignItems:"flex-end",borderTop:"1px solid rgba(43, 52, 65, 1)",pb:e?"max(1.5rem, env(safe-area-inset-bottom))":2},children:[n.jsx(tt,{fullWidth:!0,multiline:!0,maxRows:e?3:4,value:r,onChange:S=>o(S.target.value),onKeyPress:ie,placeholder:" ...",variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px",bgcolor:"rgba(35, 46, 60, 1)",border:"none",fontSize:e?"0.9rem":"0.95rem",color:"white","& fieldset":{border:"1px solid rgba(60, 72, 84, 1)"},"&:hover fieldset":{border:"1px solid #4a9eff"},"&.Mui-focused fieldset":{border:"2px solid #4a9eff"},"& .MuiInputBase-input":{padding:e?"10px 14px":"12px 16px",color:"white","&::placeholder":{color:"rgba(255, 255, 255, 0.5)",opacity:1}}}}}),n.jsx(et,{onClick:K,disabled:!r.trim(),size:"medium",sx:{bgcolor:"#4a9eff",color:"white",width:e?40:44,height:e?40:44,minWidth:e?40:44,minHeight:e?40:44,"&:hover":{bgcolor:"#3d8bdb",transform:"scale(1.05)"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"},transition:"all 0.2s ease"},children:n.jsx(Ao,{sx:{fontSize:e?"1.1rem":"1.2rem"}})})]})]}):n.jsx(U,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${nr})`,backgroundSize:"cover",backgroundPosition:"center","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(35, 43, 59, 0.8)",pointerEvents:"none"}},children:n.jsxs(U,{sx:{position:"relative",zIndex:1,textAlign:"center"},children:[n.jsx(Dt,{sx:{fontSize:80,color:"#4a9eff",mb:2}}),n.jsx(I,{variant:"h5",sx:{mb:1,color:"white"},children:" "}),n.jsx(I,{variant:"body1",sx:{color:"#8b95a1"},children:"      "})]})})}),n.jsxs(Ht,{open:a,onClose:()=>{s(!1),x(null)},maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[n.jsx(Xt,{children:"  "}),n.jsxs(qt,{children:[p&&n.jsx(ke,{severity:p.type==="success"?"success":"warning",sx:{mb:2,"& .MuiAlert-message":{color:"white"},bgcolor:p.type==="success"?"rgba(76, 175, 80, 0.2)":"rgba(255, 152, 0, 0.2)",border:`1px solid ${p.type==="success"?"#4CAF50":"#FF9800"}`},children:p.message}),n.jsx(tt,{autoFocus:!0,margin:"dense",label:" ",fullWidth:!0,variant:"outlined",value:l,onChange:S=>i(S.target.value),sx:{mb:2,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#4a9eff"}}}}),n.jsx(tt,{margin:"dense",label:" (ID  @username,  )",fullWidth:!0,variant:"outlined",placeholder:": 123456789, @username, 987654321, @user2",value:c,onChange:S=>d(S.target.value),helperText:"   Telegram ID (),   @username.      username -  .",sx:{mb:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}})]}),n.jsxs(Vt,{children:[n.jsx(ae,{onClick:()=>{s(!1),x(null)},sx:{color:"#8b95a1"},children:""}),n.jsx(ae,{onClick:V,disabled:!l.trim()||C,startIcon:C?n.jsx(Ee,{size:16}):void 0,sx:{bgcolor:"#4a9eff",color:"white","&:hover":{bgcolor:"#3d8bdb"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"}},children:C?"...":""})]})]}),n.jsx(Va,{open:j,onClose:()=>m(!1)}),n.jsx(qa,{open:y,onClose:()=>v(!1),currentChat:g,loadChatInfo:h,addMemberToChat:$,removeMemberFromChat:W,currentUserId:w==null?void 0:w.telegram_id})]})};export{ts as default};
