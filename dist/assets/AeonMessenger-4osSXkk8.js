import{r as d,d as Ae,g as Pe,j as o,t as Mt,Q as rr,i as Se,a2 as Ar,e as Oe,s as re,v as ae,f as ye,h as J,l as Xe,o as ho,a as Lt,y as Pr,T as _,a4 as Sr,a5 as or,a0 as gt,U as nr,a6 as vo,n as Or,a7 as ar,a8 as bo,a9 as xo,aa as Rr,ab as yo,ac as wo,ad as Co,ae as jo,q as Re,af as at,B as L,ag as wt,a1 as Dr,ah as Mr,b as To,m as sr,ai as Ao,c as ir}from"./index-BqfAoRVY.js";import{a as Po,S as So}from"./index-DrKagjSe.js";import{o as lr,P as Oo,u as Ro,F as cr,M as Do,B as Mo,a as ko,g as Eo,G as Io,T as rt}from"./TextField-KAPhJFKP.js";import{u as kr,C as ke}from"./CircularProgress-8gV1P4Po.js";import{C as Er}from"./Chip-Ddg9FA4Y.js";import{A as Be}from"./Alert-CdDK_tmp.js";import{B as ce}from"./Button-BrA3g0Bc.js";import{I as We}from"./IconButton-D6pSSpfr.js";const Ir=t=>{const e=d.useRef({});return d.useEffect(()=>{e.current=t}),e.current};var se="top",ue="bottom",fe="right",ie="left",Nt="auto",lt=[se,ue,fe,ie],Fe="start",st="end",$o="clippingParents",$r="viewport",et="popper",_o="reference",pr=lt.reduce(function(t,e){return t.concat([e+"-"+Fe,e+"-"+st])},[]),_r=[].concat(lt,[Nt]).reduce(function(t,e){return t.concat([e,e+"-"+Fe,e+"-"+st])},[]),Wo="beforeRead",Bo="read",Lo="afterRead",No="beforeMain",Uo="main",zo="afterMain",Fo="beforeWrite",Ho="write",Vo="afterWrite",qo=[Wo,Bo,Lo,No,Uo,zo,Fo,Ho,Vo];function we(t){return t?(t.nodeName||"").toLowerCase():null}function pe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ne(t){var e=pe(t).Element;return t instanceof e||t instanceof Element}function de(t){var e=pe(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ut(t){if(typeof ShadowRoot>"u")return!1;var e=pe(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Xo(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},a=e.attributes[r]||{},s=e.elements[r];!de(s)||!we(s)||(Object.assign(s.style,n),Object.keys(a).forEach(function(l){var i=a[l];i===!1?s.removeAttribute(l):s.setAttribute(l,i===!0?"":i)}))})}function Yo(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var a=e.elements[n],s=e.attributes[n]||{},l=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),i=l.reduce(function(c,u){return c[u]="",c},{});!de(a)||!we(a)||(Object.assign(a.style,i),Object.keys(s).forEach(function(c){a.removeAttribute(c)}))})}}const Ko={name:"applyStyles",enabled:!0,phase:"write",fn:Xo,effect:Yo,requires:["computeStyles"]};function xe(t){return t.split("-")[0]}var Le=Math.max,Ct=Math.min,He=Math.round;function kt(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Wr(){return!/^((?!chrome|android).)*safari/i.test(kt())}function Ve(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),a=1,s=1;e&&de(t)&&(a=t.offsetWidth>0&&He(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&He(n.height)/t.offsetHeight||1);var l=Ne(t)?pe(t):window,i=l.visualViewport,c=!Wr()&&r,u=(n.left+(c&&i?i.offsetLeft:0))/a,p=(n.top+(c&&i?i.offsetTop:0))/s,v=n.width/a,j=n.height/s;return{width:v,height:j,top:p,right:u+v,bottom:p+j,left:u,x:u,y:p}}function zt(t){var e=Ve(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function Br(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Ut(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Te(t){return pe(t).getComputedStyle(t)}function Go(t){return["table","td","th"].indexOf(we(t))>=0}function Ee(t){return((Ne(t)?t.ownerDocument:t.document)||window.document).documentElement}function Tt(t){return we(t)==="html"?t:t.assignedSlot||t.parentNode||(Ut(t)?t.host:null)||Ee(t)}function dr(t){return!de(t)||Te(t).position==="fixed"?null:t.offsetParent}function Jo(t){var e=/firefox/i.test(kt()),r=/Trident/i.test(kt());if(r&&de(t)){var n=Te(t);if(n.position==="fixed")return null}var a=Tt(t);for(Ut(a)&&(a=a.host);de(a)&&["html","body"].indexOf(we(a))<0;){var s=Te(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function ct(t){for(var e=pe(t),r=dr(t);r&&Go(r)&&Te(r).position==="static";)r=dr(r);return r&&(we(r)==="html"||we(r)==="body"&&Te(r).position==="static")?e:r||Jo(t)||e}function Ft(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ot(t,e,r){return Le(t,Ct(e,r))}function Zo(t,e,r){var n=ot(t,e,r);return n>r?r:n}function Lr(){return{top:0,right:0,bottom:0,left:0}}function Nr(t){return Object.assign({},Lr(),t)}function Ur(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Qo=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,Nr(typeof e!="number"?e:Ur(e,lt))};function en(t){var e,r=t.state,n=t.name,a=t.options,s=r.elements.arrow,l=r.modifiersData.popperOffsets,i=xe(r.placement),c=Ft(i),u=[ie,fe].indexOf(i)>=0,p=u?"height":"width";if(!(!s||!l)){var v=Qo(a.padding,r),j=zt(s),f=c==="y"?se:ie,y=c==="y"?ue:fe,g=r.rects.reference[p]+r.rects.reference[c]-l[c]-r.rects.popper[p],x=l[c]-r.rects.reference[c],b=ct(s),A=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,T=g/2-x/2,m=v[f],w=A-j[p]-v[y],h=A/2-j[p]/2+T,P=ot(m,h,w),E=c;r.modifiersData[n]=(e={},e[E]=P,e.centerOffset=P-h,e)}}function tn(t){var e=t.state,r=t.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||Br(e.elements.popper,a)&&(e.elements.arrow=a))}const rn={name:"arrow",enabled:!0,phase:"main",fn:en,effect:tn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qe(t){return t.split("-")[1]}var on={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nn(t,e){var r=t.x,n=t.y,a=e.devicePixelRatio||1;return{x:He(r*a)/a||0,y:He(n*a)/a||0}}function ur(t){var e,r=t.popper,n=t.popperRect,a=t.placement,s=t.variation,l=t.offsets,i=t.position,c=t.gpuAcceleration,u=t.adaptive,p=t.roundOffsets,v=t.isFixed,j=l.x,f=j===void 0?0:j,y=l.y,g=y===void 0?0:y,x=typeof p=="function"?p({x:f,y:g}):{x:f,y:g};f=x.x,g=x.y;var b=l.hasOwnProperty("x"),A=l.hasOwnProperty("y"),T=ie,m=se,w=window;if(u){var h=ct(r),P="clientHeight",E="clientWidth";if(h===pe(r)&&(h=Ee(r),Te(h).position!=="static"&&i==="absolute"&&(P="scrollHeight",E="scrollWidth")),h=h,a===se||(a===ie||a===fe)&&s===st){m=ue;var D=v&&h===w&&w.visualViewport?w.visualViewport.height:h[P];g-=D-n.height,g*=c?1:-1}if(a===ie||(a===se||a===ue)&&s===st){T=fe;var R=v&&h===w&&w.visualViewport?w.visualViewport.width:h[E];f-=R-n.width,f*=c?1:-1}}var I=Object.assign({position:i},u&&on),q=p===!0?nn({x:f,y:g},pe(r)):{x:f,y:g};if(f=q.x,g=q.y,c){var $;return Object.assign({},I,($={},$[m]=A?"0":"",$[T]=b?"0":"",$.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",$))}return Object.assign({},I,(e={},e[m]=A?g+"px":"",e[T]=b?f+"px":"",e.transform="",e))}function an(t){var e=t.state,r=t.options,n=r.gpuAcceleration,a=n===void 0?!0:n,s=r.adaptive,l=s===void 0?!0:s,i=r.roundOffsets,c=i===void 0?!0:i,u={placement:xe(e.placement),variation:qe(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ur(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ur(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const sn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:an,data:{}};var mt={passive:!0};function ln(t){var e=t.state,r=t.instance,n=t.options,a=n.scroll,s=a===void 0?!0:a,l=n.resize,i=l===void 0?!0:l,c=pe(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(p){p.addEventListener("scroll",r.update,mt)}),i&&c.addEventListener("resize",r.update,mt),function(){s&&u.forEach(function(p){p.removeEventListener("scroll",r.update,mt)}),i&&c.removeEventListener("resize",r.update,mt)}}const cn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ln,data:{}};var pn={left:"right",right:"left",bottom:"top",top:"bottom"};function yt(t){return t.replace(/left|right|bottom|top/g,function(e){return pn[e]})}var dn={start:"end",end:"start"};function fr(t){return t.replace(/start|end/g,function(e){return dn[e]})}function Ht(t){var e=pe(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Vt(t){return Ve(Ee(t)).left+Ht(t).scrollLeft}function un(t,e){var r=pe(t),n=Ee(t),a=r.visualViewport,s=n.clientWidth,l=n.clientHeight,i=0,c=0;if(a){s=a.width,l=a.height;var u=Wr();(u||!u&&e==="fixed")&&(i=a.offsetLeft,c=a.offsetTop)}return{width:s,height:l,x:i+Vt(t),y:c}}function fn(t){var e,r=Ee(t),n=Ht(t),a=(e=t.ownerDocument)==null?void 0:e.body,s=Le(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=Le(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-n.scrollLeft+Vt(t),c=-n.scrollTop;return Te(a||r).direction==="rtl"&&(i+=Le(r.clientWidth,a?a.clientWidth:0)-s),{width:s,height:l,x:i,y:c}}function qt(t){var e=Te(t),r=e.overflow,n=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function zr(t){return["html","body","#document"].indexOf(we(t))>=0?t.ownerDocument.body:de(t)&&qt(t)?t:zr(Tt(t))}function nt(t,e){var r;e===void 0&&(e=[]);var n=zr(t),a=n===((r=t.ownerDocument)==null?void 0:r.body),s=pe(n),l=a?[s].concat(s.visualViewport||[],qt(n)?n:[]):n,i=e.concat(l);return a?i:i.concat(nt(Tt(l)))}function Et(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function gn(t,e){var r=Ve(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function gr(t,e,r){return e===$r?Et(un(t,r)):Ne(e)?gn(e,r):Et(fn(Ee(t)))}function mn(t){var e=nt(Tt(t)),r=["absolute","fixed"].indexOf(Te(t).position)>=0,n=r&&de(t)?ct(t):t;return Ne(n)?e.filter(function(a){return Ne(a)&&Br(a,n)&&we(a)!=="body"}):[]}function hn(t,e,r,n){var a=e==="clippingParents"?mn(t):[].concat(e),s=[].concat(a,[r]),l=s[0],i=s.reduce(function(c,u){var p=gr(t,u,n);return c.top=Le(p.top,c.top),c.right=Ct(p.right,c.right),c.bottom=Ct(p.bottom,c.bottom),c.left=Le(p.left,c.left),c},gr(t,l,n));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Fr(t){var e=t.reference,r=t.element,n=t.placement,a=n?xe(n):null,s=n?qe(n):null,l=e.x+e.width/2-r.width/2,i=e.y+e.height/2-r.height/2,c;switch(a){case se:c={x:l,y:e.y-r.height};break;case ue:c={x:l,y:e.y+e.height};break;case fe:c={x:e.x+e.width,y:i};break;case ie:c={x:e.x-r.width,y:i};break;default:c={x:e.x,y:e.y}}var u=a?Ft(a):null;if(u!=null){var p=u==="y"?"height":"width";switch(s){case Fe:c[u]=c[u]-(e[p]/2-r[p]/2);break;case st:c[u]=c[u]+(e[p]/2-r[p]/2);break}}return c}function it(t,e){e===void 0&&(e={});var r=e,n=r.placement,a=n===void 0?t.placement:n,s=r.strategy,l=s===void 0?t.strategy:s,i=r.boundary,c=i===void 0?$o:i,u=r.rootBoundary,p=u===void 0?$r:u,v=r.elementContext,j=v===void 0?et:v,f=r.altBoundary,y=f===void 0?!1:f,g=r.padding,x=g===void 0?0:g,b=Nr(typeof x!="number"?x:Ur(x,lt)),A=j===et?_o:et,T=t.rects.popper,m=t.elements[y?A:j],w=hn(Ne(m)?m:m.contextElement||Ee(t.elements.popper),c,p,l),h=Ve(t.elements.reference),P=Fr({reference:h,element:T,placement:a}),E=Et(Object.assign({},T,P)),D=j===et?E:h,R={top:w.top-D.top+b.top,bottom:D.bottom-w.bottom+b.bottom,left:w.left-D.left+b.left,right:D.right-w.right+b.right},I=t.modifiersData.offset;if(j===et&&I){var q=I[a];Object.keys(R).forEach(function($){var S=[fe,ue].indexOf($)>=0?1:-1,H=[se,ue].indexOf($)>=0?"y":"x";R[$]+=q[H]*S})}return R}function vn(t,e){e===void 0&&(e={});var r=e,n=r.placement,a=r.boundary,s=r.rootBoundary,l=r.padding,i=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?_r:c,p=qe(n),v=p?i?pr:pr.filter(function(y){return qe(y)===p}):lt,j=v.filter(function(y){return u.indexOf(y)>=0});j.length===0&&(j=v);var f=j.reduce(function(y,g){return y[g]=it(t,{placement:g,boundary:a,rootBoundary:s,padding:l})[xe(g)],y},{});return Object.keys(f).sort(function(y,g){return f[y]-f[g]})}function bn(t){if(xe(t)===Nt)return[];var e=yt(t);return[fr(t),e,fr(e)]}function xn(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var a=r.mainAxis,s=a===void 0?!0:a,l=r.altAxis,i=l===void 0?!0:l,c=r.fallbackPlacements,u=r.padding,p=r.boundary,v=r.rootBoundary,j=r.altBoundary,f=r.flipVariations,y=f===void 0?!0:f,g=r.allowedAutoPlacements,x=e.options.placement,b=xe(x),A=b===x,T=c||(A||!y?[yt(x)]:bn(x)),m=[x].concat(T).reduce(function(N,V){return N.concat(xe(V)===Nt?vn(e,{placement:V,boundary:p,rootBoundary:v,padding:u,flipVariations:y,allowedAutoPlacements:g}):V)},[]),w=e.rects.reference,h=e.rects.popper,P=new Map,E=!0,D=m[0],R=0;R<m.length;R++){var I=m[R],q=xe(I),$=qe(I)===Fe,S=[se,ue].indexOf(q)>=0,H=S?"width":"height",z=it(e,{placement:I,boundary:p,rootBoundary:v,altBoundary:j,padding:u}),F=S?$?fe:ie:$?ue:se;w[H]>h[H]&&(F=yt(F));var K=yt(F),Z=[];if(s&&Z.push(z[q]<=0),i&&Z.push(z[F]<=0,z[K]<=0),Z.every(function(N){return N})){D=I,E=!1;break}P.set(I,Z)}if(E)for(var M=y?3:1,k=function(V){var te=m.find(function(ee){var Q=P.get(ee);if(Q)return Q.slice(0,V).every(function(ve){return ve})});if(te)return D=te,"break"},O=M;O>0;O--){var W=k(O);if(W==="break")break}e.placement!==D&&(e.modifiersData[n]._skip=!0,e.placement=D,e.reset=!0)}}const yn={name:"flip",enabled:!0,phase:"main",fn:xn,requiresIfExists:["offset"],data:{_skip:!1}};function mr(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function hr(t){return[se,fe,ue,ie].some(function(e){return t[e]>=0})}function wn(t){var e=t.state,r=t.name,n=e.rects.reference,a=e.rects.popper,s=e.modifiersData.preventOverflow,l=it(e,{elementContext:"reference"}),i=it(e,{altBoundary:!0}),c=mr(l,n),u=mr(i,a,s),p=hr(c),v=hr(u);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:p,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":v})}const Cn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:wn};function jn(t,e,r){var n=xe(t),a=[ie,se].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,l=s[0],i=s[1];return l=l||0,i=(i||0)*a,[ie,fe].indexOf(n)>=0?{x:i,y:l}:{x:l,y:i}}function Tn(t){var e=t.state,r=t.options,n=t.name,a=r.offset,s=a===void 0?[0,0]:a,l=_r.reduce(function(p,v){return p[v]=jn(v,e.rects,s),p},{}),i=l[e.placement],c=i.x,u=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=l}const An={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Tn};function Pn(t){var e=t.state,r=t.name;e.modifiersData[r]=Fr({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Sn={name:"popperOffsets",enabled:!0,phase:"read",fn:Pn,data:{}};function On(t){return t==="x"?"y":"x"}function Rn(t){var e=t.state,r=t.options,n=t.name,a=r.mainAxis,s=a===void 0?!0:a,l=r.altAxis,i=l===void 0?!1:l,c=r.boundary,u=r.rootBoundary,p=r.altBoundary,v=r.padding,j=r.tether,f=j===void 0?!0:j,y=r.tetherOffset,g=y===void 0?0:y,x=it(e,{boundary:c,rootBoundary:u,padding:v,altBoundary:p}),b=xe(e.placement),A=qe(e.placement),T=!A,m=Ft(b),w=On(m),h=e.modifiersData.popperOffsets,P=e.rects.reference,E=e.rects.popper,D=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,R=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,q={x:0,y:0};if(h){if(s){var $,S=m==="y"?se:ie,H=m==="y"?ue:fe,z=m==="y"?"height":"width",F=h[m],K=F+x[S],Z=F-x[H],M=f?-E[z]/2:0,k=A===Fe?P[z]:E[z],O=A===Fe?-E[z]:-P[z],W=e.elements.arrow,N=f&&W?zt(W):{width:0,height:0},V=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Lr(),te=V[S],ee=V[H],Q=ot(0,P[z],N[z]),ve=T?P[z]/2-M-Q-te-R.mainAxis:k-Q-te-R.mainAxis,Ie=T?-P[z]/2+M+Q+ee+R.mainAxis:O+Q+ee+R.mainAxis,ne=e.elements.arrow&&ct(e.elements.arrow),C=ne?m==="y"?ne.clientTop||0:ne.clientLeft||0:0,X=($=I==null?void 0:I[m])!=null?$:0,U=F+ve-X-C,Y=F+Ie-X,Ce=ot(f?Ct(K,U):K,F,f?Le(Z,Y):Z);h[m]=Ce,q[m]=Ce-F}if(i){var De,le=m==="x"?se:ie,je=m==="x"?ue:fe,be=h[w],$e=w==="y"?"height":"width",Ke=be+x[le],Ge=be-x[je],Je=[se,ie].indexOf(b)!==-1,pt=(De=I==null?void 0:I[w])!=null?De:0,dt=Je?Ke:be-P[$e]-E[$e]-pt+R.altAxis,Ue=Je?be+P[$e]+E[$e]-pt-R.altAxis:Ge,ut=f&&Je?Zo(dt,be,Ue):ot(f?dt:Ke,be,f?Ue:Ge);h[w]=ut,q[w]=ut-be}e.modifiersData[n]=q}}const Dn={name:"preventOverflow",enabled:!0,phase:"main",fn:Rn,requiresIfExists:["offset"]};function Mn(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function kn(t){return t===pe(t)||!de(t)?Ht(t):Mn(t)}function En(t){var e=t.getBoundingClientRect(),r=He(e.width)/t.offsetWidth||1,n=He(e.height)/t.offsetHeight||1;return r!==1||n!==1}function In(t,e,r){r===void 0&&(r=!1);var n=de(e),a=de(e)&&En(e),s=Ee(e),l=Ve(t,a,r),i={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((we(e)!=="body"||qt(s))&&(i=kn(e)),de(e)?(c=Ve(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=Vt(s))),{x:l.left+i.scrollLeft-c.x,y:l.top+i.scrollTop-c.y,width:l.width,height:l.height}}function $n(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function a(s){r.add(s.name);var l=[].concat(s.requires||[],s.requiresIfExists||[]);l.forEach(function(i){if(!r.has(i)){var c=e.get(i);c&&a(c)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||a(s)}),n}function _n(t){var e=$n(t);return qo.reduce(function(r,n){return r.concat(e.filter(function(a){return a.phase===n}))},[])}function Wn(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Bn(t){var e=t.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var vr={placement:"bottom",modifiers:[],strategy:"absolute"};function br(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Ln(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,a=e.defaultOptions,s=a===void 0?vr:a;return function(i,c,u){u===void 0&&(u=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},vr,s),modifiersData:{},elements:{reference:i,popper:c},attributes:{},styles:{}},v=[],j=!1,f={state:p,setOptions:function(b){var A=typeof b=="function"?b(p.options):b;g(),p.options=Object.assign({},s,p.options,A),p.scrollParents={reference:Ne(i)?nt(i):i.contextElement?nt(i.contextElement):[],popper:nt(c)};var T=_n(Bn([].concat(n,p.options.modifiers)));return p.orderedModifiers=T.filter(function(m){return m.enabled}),y(),f.update()},forceUpdate:function(){if(!j){var b=p.elements,A=b.reference,T=b.popper;if(br(A,T)){p.rects={reference:In(A,ct(T),p.options.strategy==="fixed"),popper:zt(T)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(R){return p.modifiersData[R.name]=Object.assign({},R.data)});for(var m=0;m<p.orderedModifiers.length;m++){if(p.reset===!0){p.reset=!1,m=-1;continue}var w=p.orderedModifiers[m],h=w.fn,P=w.options,E=P===void 0?{}:P,D=w.name;typeof h=="function"&&(p=h({state:p,options:E,name:D,instance:f})||p)}}}},update:Wn(function(){return new Promise(function(x){f.forceUpdate(),x(p)})}),destroy:function(){g(),j=!0}};if(!br(i,c))return f;f.setOptions(u).then(function(x){!j&&u.onFirstUpdate&&u.onFirstUpdate(x)});function y(){p.orderedModifiers.forEach(function(x){var b=x.name,A=x.options,T=A===void 0?{}:A,m=x.effect;if(typeof m=="function"){var w=m({state:p,name:b,instance:f,options:T}),h=function(){};v.push(w||h)}})}function g(){v.forEach(function(x){return x()}),v=[]}return f}}var Nn=[cn,Sn,sn,Ko,An,yn,Dn,rn,Cn],Un=Ln({defaultModifiers:Nn});function zn(t){return Ae("MuiPopper",t)}Pe("MuiPopper",["root"]);function Fn(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function It(t){return typeof t=="function"?t():t}function Hn(t){return t.nodeType!==void 0}const Vn=t=>{const{classes:e}=t;return Se({root:["root"]},zn,e)},qn={},Xn=d.forwardRef(function(e,r){const{anchorEl:n,children:a,direction:s,disablePortal:l,modifiers:i,open:c,placement:u,popperOptions:p,popperRef:v,slotProps:j={},slots:f={},TransitionProps:y,ownerState:g,...x}=e,b=d.useRef(null),A=Mt(b,r),T=d.useRef(null),m=Mt(T,v),w=d.useRef(m);rr(()=>{w.current=m},[m]),d.useImperativeHandle(v,()=>T.current,[]);const h=Fn(u,s),[P,E]=d.useState(h),[D,R]=d.useState(It(n));d.useEffect(()=>{T.current&&T.current.forceUpdate()}),d.useEffect(()=>{n&&R(It(n))},[n]),rr(()=>{if(!D||!c)return;const H=K=>{E(K.placement)};let z=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:K})=>{H(K)}}];i!=null&&(z=z.concat(i)),p&&p.modifiers!=null&&(z=z.concat(p.modifiers));const F=Un(D,b.current,{placement:h,...p,modifiers:z});return w.current(F),()=>{F.destroy(),w.current(null)}},[D,l,i,c,p,h]);const I={placement:P};y!==null&&(I.TransitionProps=y);const q=Vn(e),$=f.root??"div",S=Ro({elementType:$,externalSlotProps:j.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:A},ownerState:e,className:q.root});return o.jsx($,{...S,children:typeof a=="function"?a(I):a})}),Yn=d.forwardRef(function(e,r){const{anchorEl:n,children:a,container:s,direction:l="ltr",disablePortal:i=!1,keepMounted:c=!1,modifiers:u,open:p,placement:v="bottom",popperOptions:j=qn,popperRef:f,style:y,transition:g=!1,slotProps:x={},slots:b={},...A}=e,[T,m]=d.useState(!0),w=()=>{m(!1)},h=()=>{m(!0)};if(!c&&!p&&(!g||T))return null;let P;if(s)P=s;else if(n){const R=It(n);P=R&&Hn(R)?lr(R).body:lr(null).body}const E=!p&&c&&(!g||T)?"none":void 0,D=g?{in:p,onEnter:w,onExited:h}:void 0;return o.jsx(Oo,{disablePortal:i,container:P,children:o.jsx(Xn,{anchorEl:n,direction:l,disablePortal:i,modifiers:u,ref:r,open:g?!T:p,placement:v,popperOptions:j,popperRef:f,slotProps:x,slots:b,...A,style:{position:"fixed",top:0,left:0,display:E,...y},TransitionProps:D,children:a})})}),Kn=re(Yn,{name:"MuiPopper",slot:"Root"})({}),Hr=d.forwardRef(function(e,r){const n=Ar(),a=Oe({props:e,name:"MuiPopper"}),{anchorEl:s,component:l,components:i,componentsProps:c,container:u,disablePortal:p,keepMounted:v,modifiers:j,open:f,placement:y,popperOptions:g,popperRef:x,transition:b,slots:A,slotProps:T,...m}=a,w=(A==null?void 0:A.root)??(i==null?void 0:i.Root),h={anchorEl:s,container:u,disablePortal:p,keepMounted:v,modifiers:j,open:f,placement:y,popperOptions:g,popperRef:x,transition:b,...m};return o.jsx(Kn,{as:l,direction:n?"rtl":"ltr",slots:{root:w},slotProps:T??c,...h,ref:r})});function Gn(t){const{badgeContent:e,invisible:r=!1,max:n=99,showZero:a=!1}=t,s=Ir({badgeContent:e,max:n});let l=r;r===!1&&e===0&&!a&&(l=!0);const{badgeContent:i,max:c=n}=l?s:t,u=i&&Number(i)>c?`${c}+`:i;return{badgeContent:i,invisible:l,max:c,displayValue:u}}function Jn(t){return Ae("MuiBadge",t)}const Me=Pe("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),St=10,Ot=4,Zn=t=>{const{color:e,anchorOrigin:r,invisible:n,overlap:a,variant:s,classes:l={}}=t,i={root:["root"],badge:["badge",s,n&&"invisible",`anchorOrigin${J(r.vertical)}${J(r.horizontal)}`,`anchorOrigin${J(r.vertical)}${J(r.horizontal)}${J(a)}`,`overlap${J(a)}`,e!=="default"&&`color${J(e)}`]};return Se(i,Jn,l)},Qn=re("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),ea=re("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.badge,e[r.variant],e[`anchorOrigin${J(r.anchorOrigin.vertical)}${J(r.anchorOrigin.horizontal)}${J(r.overlap)}`],r.color!=="default"&&e[`color${J(r.color)}`],r.invisible&&e.invisible]}})(Xe(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:St*2,lineHeight:1,padding:"0 6px",height:St*2,borderRadius:St,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(ho(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Ot,height:Ot*2,minWidth:Ot*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Me.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Me.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Me.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Me.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Me.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Me.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Me.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Me.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function xr(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const ta=d.forwardRef(function(e,r){const n=Oe({props:e,name:"MuiBadge"}),{anchorOrigin:a,className:s,classes:l,component:i,components:c={},componentsProps:u={},children:p,overlap:v="rectangular",color:j="default",invisible:f=!1,max:y=99,badgeContent:g,slots:x,slotProps:b,showZero:A=!1,variant:T="standard",...m}=n,{badgeContent:w,invisible:h,max:P,displayValue:E}=Gn({max:y,invisible:f,badgeContent:g,showZero:A}),D=Ir({anchorOrigin:xr(a),color:j,overlap:v,variant:T,badgeContent:g}),R=h||w==null&&T!=="dot",{color:I=j,overlap:q=v,anchorOrigin:$,variant:S=T}=R?D:n,H=xr($),z=S!=="dot"?E:void 0,F={...n,badgeContent:w,invisible:R,max:P,displayValue:z,showZero:A,anchorOrigin:H,color:I,overlap:q,variant:S},K=Zn(F),Z={slots:{root:(x==null?void 0:x.root)??c.Root,badge:(x==null?void 0:x.badge)??c.Badge},slotProps:{root:(b==null?void 0:b.root)??u.root,badge:(b==null?void 0:b.badge)??u.badge}},[M,k]=ae("root",{elementType:Qn,externalForwardedProps:{...Z,...m},ownerState:F,className:ye(K.root,s),ref:r,additionalProps:{as:i}}),[O,W]=ae("badge",{elementType:ea,externalForwardedProps:Z,ownerState:F,className:K.badge});return o.jsxs(M,{...k,children:[p,o.jsx(O,{...W,children:z})]})});function ra(t){return Ae("MuiDialog",t)}const Rt=Pe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Vr=d.createContext({}),oa=re(Mo,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),na=t=>{const{classes:e,scroll:r,maxWidth:n,fullWidth:a,fullScreen:s}=t,l={root:["root"],container:["container",`scroll${J(r)}`],paper:["paper",`paperScroll${J(r)}`,`paperWidth${J(String(n))}`,a&&"paperFullWidth",s&&"paperFullScreen"]};return Se(l,ra,e)},aa=re(Do,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),sa=re("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${J(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),ia=re(Pr,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${J(r.scroll)}`],e[`paperWidth${J(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(Xe(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Rt.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Rt.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Rt.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Xt=d.forwardRef(function(e,r){const n=Oe({props:e,name:"MuiDialog"}),a=Lt(),s={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":i,"aria-modal":c=!0,BackdropComponent:u,BackdropProps:p,children:v,className:j,disableEscapeKeyDown:f=!1,fullScreen:y=!1,fullWidth:g=!1,maxWidth:x="sm",onClick:b,onClose:A,open:T,PaperComponent:m=Pr,PaperProps:w={},scroll:h="paper",slots:P={},slotProps:E={},TransitionComponent:D=cr,transitionDuration:R=s,TransitionProps:I,...q}=n,$={...n,disableEscapeKeyDown:f,fullScreen:y,fullWidth:g,maxWidth:x,scroll:h},S=na($),H=d.useRef(),z=X=>{H.current=X.target===X.currentTarget},F=X=>{b&&b(X),H.current&&(H.current=null,A&&A(X,"backdropClick"))},K=kr(i),Z=d.useMemo(()=>({titleId:K}),[K]),M={transition:D,...P},k={transition:I,paper:w,backdrop:p,...E},O={slots:M,slotProps:k},[W,N]=ae("root",{elementType:aa,shouldForwardComponentProp:!0,externalForwardedProps:O,ownerState:$,className:ye(S.root,j),ref:r}),[V,te]=ae("backdrop",{elementType:oa,shouldForwardComponentProp:!0,externalForwardedProps:O,ownerState:$}),[ee,Q]=ae("paper",{elementType:ia,shouldForwardComponentProp:!0,externalForwardedProps:O,ownerState:$,className:ye(S.paper,w.className)}),[ve,Ie]=ae("container",{elementType:sa,externalForwardedProps:O,ownerState:$,className:S.container}),[ne,C]=ae("transition",{elementType:cr,externalForwardedProps:O,ownerState:$,additionalProps:{appear:!0,in:T,timeout:R,role:"presentation"}});return o.jsx(W,{closeAfterTransition:!0,slots:{backdrop:V},slotProps:{backdrop:{transitionDuration:R,as:u,...te}},disableEscapeKeyDown:f,onClose:A,open:T,onClick:F,...N,...q,children:o.jsx(ne,{...C,children:o.jsx(ve,{onMouseDown:z,...Ie,children:o.jsx(ee,{as:m,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":K,"aria-modal":c,...Q,children:o.jsx(Vr.Provider,{value:Z,children:v})})})})})});function la(t){return Ae("MuiDialogActions",t)}Pe("MuiDialogActions",["root","spacing"]);const ca=t=>{const{classes:e,disableSpacing:r}=t;return Se({root:["root",!r&&"spacing"]},la,e)},pa=re("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Yt=d.forwardRef(function(e,r){const n=Oe({props:e,name:"MuiDialogActions"}),{className:a,disableSpacing:s=!1,...l}=n,i={...n,disableSpacing:s},c=ca(i);return o.jsx(pa,{className:ye(c.root,a),ownerState:i,ref:r,...l})});function da(t){return Ae("MuiDialogContent",t)}Pe("MuiDialogContent",["root","dividers"]);function ua(t){return Ae("MuiDialogTitle",t)}const fa=Pe("MuiDialogTitle",["root"]),ga=t=>{const{classes:e,dividers:r}=t;return Se({root:["root",r&&"dividers"]},da,e)},ma=re("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(Xe(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${fa.root} + &`]:{paddingTop:0}}}]}))),Kt=d.forwardRef(function(e,r){const n=Oe({props:e,name:"MuiDialogContent"}),{className:a,dividers:s=!1,...l}=n,i={...n,dividers:s},c=ga(i);return o.jsx(ma,{className:ye(c.root,a),ownerState:i,ref:r,...l})}),ha=t=>{const{classes:e}=t;return Se({root:["root"]},ua,e)},va=re(_,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Gt=d.forwardRef(function(e,r){const n=Oe({props:e,name:"MuiDialogTitle"}),{className:a,id:s,...l}=n,i=n,c=ha(i),{titleId:u=s}=d.useContext(Vr);return o.jsx(va,{component:"h2",className:ye(c.root,a),ownerState:i,ref:r,variant:"h6",id:s??u,...l})});function ba(t){return Ae("MuiListItemAvatar",t)}Pe("MuiListItemAvatar",["root","alignItemsFlexStart"]);const xa=t=>{const{alignItems:e,classes:r}=t;return Se({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},ba,r)},ya=re("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),qr=d.forwardRef(function(e,r){const n=Oe({props:e,name:"MuiListItemAvatar"}),{className:a,...s}=n,l=d.useContext(Sr),i={...n,alignItems:l.alignItems},c=xa(i);return o.jsx(ya,{className:ye(c.root,a),ownerState:i,ref:r,...s})});function wa(t){return Ae("MuiListItemText",t)}const ht=Pe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Ca=t=>{const{classes:e,inset:r,primary:n,secondary:a,dense:s}=t;return Se({root:["root",r&&"inset",s&&"dense",n&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},wa,e)},ja=re("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${ht.primary}`]:e.primary},{[`& .${ht.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${or.root}:where(& .${ht.primary})`]:{display:"block"},[`.${or.root}:where(& .${ht.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Xr=d.forwardRef(function(e,r){const n=Oe({props:e,name:"MuiListItemText"}),{children:a,className:s,disableTypography:l=!1,inset:i=!1,primary:c,primaryTypographyProps:u,secondary:p,secondaryTypographyProps:v,slots:j={},slotProps:f={},...y}=n,{dense:g}=d.useContext(Sr);let x=c??a,b=p;const A={...n,disableTypography:l,inset:i,primary:!!x,secondary:!!b,dense:g},T=Ca(A),m={slots:j,slotProps:{primary:u,secondary:v,...f}},[w,h]=ae("root",{className:ye(T.root,s),elementType:ja,externalForwardedProps:{...m,...y},ownerState:A,ref:r}),[P,E]=ae("primary",{className:T.primary,elementType:_,externalForwardedProps:m,ownerState:A}),[D,R]=ae("secondary",{className:T.secondary,elementType:_,externalForwardedProps:m,ownerState:A});return x!=null&&x.type!==_&&!l&&(x=o.jsx(P,{variant:g?"body2":"body1",component:E!=null&&E.variant?void 0:"span",...E,children:x})),b!=null&&b.type!==_&&!l&&(b=o.jsx(D,{variant:"body2",color:"textSecondary",...R,children:b})),o.jsxs(w,{...h,children:[x,b]})});function Ta(t){return Ae("MuiTooltip",t)}const G=Pe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Aa(t){return Math.round(t*1e5)/1e5}const Pa=t=>{const{classes:e,disableInteractive:r,arrow:n,touch:a,placement:s}=t,l={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",a&&"touch",`tooltipPlacement${J(s.split("-")[0])}`],arrow:["arrow"]};return Se(l,Ta,e)},Sa=re(Hr,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(Xe(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${G.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${G.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${G.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${G.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${G.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${G.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${G.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${G.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Oa=re("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${J(r.placement.split("-")[0])}`]]}})(Xe(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Or(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${G.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${G.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${G.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${G.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Aa(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${G.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${G.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${G.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${G.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${G.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${G.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${G.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${G.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${G.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${G.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Ra=re("span",{name:"MuiTooltip",slot:"Arrow"})(Xe(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Or(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let vt=!1;const yr=new vo;let tt={x:0,y:0};function bt(t,e){return(r,...n)=>{e&&e(r,...n),t(r,...n)}}const ze=d.forwardRef(function(e,r){const n=Oe({props:e,name:"MuiTooltip"}),{arrow:a=!1,children:s,classes:l,components:i={},componentsProps:c={},describeChild:u=!1,disableFocusListener:p=!1,disableHoverListener:v=!1,disableInteractive:j=!1,disableTouchListener:f=!1,enterDelay:y=100,enterNextDelay:g=0,enterTouchDelay:x=700,followCursor:b=!1,id:A,leaveDelay:T=0,leaveTouchDelay:m=1500,onClose:w,onOpen:h,open:P,placement:E="bottom",PopperComponent:D,PopperProps:R={},slotProps:I={},slots:q={},title:$,TransitionComponent:S,TransitionProps:H,...z}=n,F=d.isValidElement(s)?s:o.jsx("span",{children:s}),K=Lt(),Z=Ar(),[M,k]=d.useState(),[O,W]=d.useState(null),N=d.useRef(!1),V=j||b,te=gt(),ee=gt(),Q=gt(),ve=gt(),[Ie,ne]=ko({controlled:P,default:!1,name:"Tooltip",state:"open"});let C=Ie;const X=kr(A),U=d.useRef(),Y=nr(()=>{U.current!==void 0&&(document.body.style.WebkitUserSelect=U.current,U.current=void 0),ve.clear()});d.useEffect(()=>Y,[Y]);const Ce=B=>{yr.clear(),vt=!0,ne(!0),h&&!C&&h(B)},De=nr(B=>{yr.start(800+T,()=>{vt=!1}),ne(!1),w&&C&&w(B),te.start(K.transitions.duration.shortest,()=>{N.current=!1})}),le=B=>{N.current&&B.type!=="touchstart"||(M&&M.removeAttribute("title"),ee.clear(),Q.clear(),y||vt&&g?ee.start(vt?g:y,()=>{Ce(B)}):Ce(B))},je=B=>{ee.clear(),Q.start(T,()=>{De(B)})},[,be]=d.useState(!1),$e=B=>{ar(B.target)||(be(!1),je(B))},Ke=B=>{M||k(B.currentTarget),ar(B.target)&&(be(!0),le(B))},Ge=B=>{N.current=!0;const he=F.props;he.onTouchStart&&he.onTouchStart(B)},Je=B=>{Ge(B),Q.clear(),te.clear(),Y(),U.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ve.start(x,()=>{document.body.style.WebkitUserSelect=U.current,le(B)})},pt=B=>{F.props.onTouchEnd&&F.props.onTouchEnd(B),Y(),Q.start(m,()=>{De(B)})};d.useEffect(()=>{if(!C)return;function B(he){he.key==="Escape"&&De(he)}return document.addEventListener("keydown",B),()=>{document.removeEventListener("keydown",B)}},[De,C]);const dt=Mt(Eo(F),k,r);!$&&$!==0&&(C=!1);const Ue=d.useRef(),ut=B=>{const he=F.props;he.onMouseMove&&he.onMouseMove(B),tt={x:B.clientX,y:B.clientY},Ue.current&&Ue.current.update()},Ze={},At=typeof $=="string";u?(Ze.title=!C&&At&&!v?$:null,Ze["aria-describedby"]=C?X:null):(Ze["aria-label"]=At?$:null,Ze["aria-labelledby"]=C&&!At?X:null);const ge={...Ze,...z,...F.props,className:ye(z.className,F.props.className),onTouchStart:Ge,ref:dt,...b?{onMouseMove:ut}:{}},Qe={};f||(ge.onTouchStart=Je,ge.onTouchEnd=pt),v||(ge.onMouseOver=bt(le,ge.onMouseOver),ge.onMouseLeave=bt(je,ge.onMouseLeave),V||(Qe.onMouseOver=le,Qe.onMouseLeave=je)),p||(ge.onFocus=bt(Ke,ge.onFocus),ge.onBlur=bt($e,ge.onBlur),V||(Qe.onFocus=Ke,Qe.onBlur=$e));const _e={...n,isRtl:Z,arrow:a,disableInteractive:V,placement:E,PopperComponentProp:D,touch:N.current},me=typeof I.popper=="function"?I.popper(_e):I.popper,ao=d.useMemo(()=>{var he,tr;let B=[{name:"arrow",enabled:!!O,options:{element:O,padding:4}}];return(he=R.popperOptions)!=null&&he.modifiers&&(B=B.concat(R.popperOptions.modifiers)),(tr=me==null?void 0:me.popperOptions)!=null&&tr.modifiers&&(B=B.concat(me.popperOptions.modifiers)),{...R.popperOptions,...me==null?void 0:me.popperOptions,modifiers:B}},[O,R.popperOptions,me==null?void 0:me.popperOptions]),Pt=Pa(_e),so=typeof I.transition=="function"?I.transition(_e):I.transition,ft={slots:{popper:i.Popper,transition:i.Transition??S,tooltip:i.Tooltip,arrow:i.Arrow,...q},slotProps:{arrow:I.arrow??c.arrow,popper:{...R,...me??c.popper},tooltip:I.tooltip??c.tooltip,transition:{...H,...so??c.transition}}},[io,lo]=ae("popper",{elementType:Sa,externalForwardedProps:ft,ownerState:_e,className:ye(Pt.popper,R==null?void 0:R.className)}),[co,po]=ae("transition",{elementType:Io,externalForwardedProps:ft,ownerState:_e}),[uo,fo]=ae("tooltip",{elementType:Oa,className:Pt.tooltip,externalForwardedProps:ft,ownerState:_e}),[go,mo]=ae("arrow",{elementType:Ra,className:Pt.arrow,externalForwardedProps:ft,ownerState:_e,ref:W});return o.jsxs(d.Fragment,{children:[d.cloneElement(F,ge),o.jsx(io,{as:D??Hr,placement:E,anchorEl:b?{getBoundingClientRect:()=>({top:tt.y,left:tt.x,right:tt.x,bottom:tt.y,width:0,height:0})}:M,popperRef:Ue,open:M?C:!1,id:X,transition:!0,...Qe,...lo,popperOptions:ao,children:({TransitionProps:B})=>o.jsx(co,{timeout:K.transitions.duration.shorter,...B,...po,children:o.jsxs(uo,{...fo,children:[$,a?o.jsx(go,{...mo}):null]})})})]})});class Da extends d.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=xo(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ma({children:t,isPresent:e,anchorX:r,root:n}){const a=d.useId(),s=d.useRef(null),l=d.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:i}=d.useContext(bo);return d.useInsertionEffect(()=>{const{width:c,height:u,top:p,left:v,right:j}=l.current;if(e||!s.current||!c||!u)return;const f=r==="left"?`left: ${v}`:`right: ${j}`;s.current.dataset.motionPopId=a;const y=document.createElement("style");i&&(y.nonce=i);const g=n??document.head;return g.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${f}px !important;
            top: ${p}px !important;
          }
        `),()=>{g.removeChild(y),g.contains(y)&&g.removeChild(y)}},[e]),o.jsx(Da,{isPresent:e,childRef:s,sizeRef:l,children:d.cloneElement(t,{ref:s})})}const ka=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:l,anchorX:i,root:c})=>{const u=Rr(Ea),p=d.useId();let v=!0,j=d.useMemo(()=>(v=!1,{id:p,initial:e,isPresent:r,custom:a,onExitComplete:f=>{u.set(f,!0);for(const y of u.values())if(!y)return;n&&n()},register:f=>(u.set(f,!1),()=>u.delete(f))}),[r,u,n]);return s&&v&&(j={...j}),d.useMemo(()=>{u.forEach((f,y)=>u.set(y,!1))},[r]),d.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),l==="popLayout"&&(t=o.jsx(Ma,{isPresent:r,anchorX:i,root:c,children:t})),o.jsx(yo.Provider,{value:j,children:t})};function Ea(){return new Map}const xt=t=>t.key||"";function wr(t){const e=[];return d.Children.forEach(t,r=>{d.isValidElement(r)&&e.push(r)}),e}const Ia=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:l=!1,anchorX:i="left",root:c})=>{const[u,p]=wo(l),v=d.useMemo(()=>wr(t),[t]),j=l&&!u?[]:v.map(xt),f=d.useRef(!0),y=d.useRef(v),g=Rr(()=>new Map),[x,b]=d.useState(v),[A,T]=d.useState(v);Co(()=>{f.current=!1,y.current=v;for(let h=0;h<A.length;h++){const P=xt(A[h]);j.includes(P)?g.delete(P):g.get(P)!==!0&&g.set(P,!1)}},[A,j.length,j.join("-")]);const m=[];if(v!==x){let h=[...v];for(let P=0;P<A.length;P++){const E=A[P],D=xt(E);j.includes(D)||(h.splice(P,0,E),m.push(E))}return s==="wait"&&m.length&&(h=m),T(wr(h)),b(v),null}const{forceRender:w}=d.useContext(jo);return o.jsx(o.Fragment,{children:A.map(h=>{const P=xt(h),E=l&&!u?!1:v===A||j.includes(P),D=()=>{if(g.has(P))g.set(P,!0);else return;let R=!0;g.forEach(I=>{I||(R=!1)}),R&&(w==null||w(),T(y.current),l&&(p==null||p()),n&&n())};return o.jsx(ka,{isPresent:E,initial:!f.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:E?void 0:D,anchorX:i,children:h},P)})})},$a=Re(o.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),_a=Re([o.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),o.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")]),Wa=Re(o.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),Dt=Re(o.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"})),Ba=Re(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),Cr=Re(o.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),jr=Re(o.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),La=Re(o.jsx("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"})),Tr=Re(o.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),Jt=()=>{var t;if(console.log(" Telegram WebApp..."),Qt(),typeof window<"u"&&((t=window.Telegram)!=null&&t.WebApp))try{const e=window.Telegram.WebApp;return e.ready(),e.expand(),e.setHeaderColor("#232b3b"),e.setBackgroundColor("#232b3b"),e.enableClosingConfirmation(),console.log("Telegram WebApp  "),console.log("WebApp version:",e.version),console.log("WebApp platform:",e.platform),console.log("WebApp theme:",e.colorScheme),!0}catch(e){return console.error("  Telegram WebApp:",e),!1}return console.log("Telegram WebApp  "),!1},Yr=()=>{var t,e,r;return typeof window<"u"&&((r=(e=(t=window.Telegram)==null?void 0:t.WebApp)==null?void 0:e.initDataUnsafe)!=null&&r.user)?window.Telegram.WebApp.initDataUnsafe.user:null},Zt=()=>{var t;if(console.log("=== Telegram WebApp Debug Info ==="),typeof window>"u"){console.log(" Window object not available");return}if(console.log(" Telegram object:",window.Telegram?" Available":" Not available"),(t=window.Telegram)!=null&&t.WebApp){const e=window.Telegram.WebApp;console.log(" WebApp object:"," Available"),console.log(" WebApp version:",e.version),console.log(" WebApp platform:",e.platform),console.log(" WebApp colorScheme:",e.colorScheme),console.log(" WebApp isExpanded:",e.isExpanded),console.log(" WebApp viewportHeight:",e.viewportHeight),console.log(" WebApp viewportStableHeight:",e.viewportStableHeight),console.log(" InitData:",e.initData?` Available (${e.initData.length} chars)`:" Not available"),console.log(" InitDataUnsafe:",e.initDataUnsafe?" Available":" Not available"),e.initDataUnsafe&&(console.log(" InitDataUnsafe.user:",e.initDataUnsafe.user?" Available":" Not available"),console.log(" InitDataUnsafe.query_id:",e.initDataUnsafe.query_id?" Available":" Not available"),console.log(" InitDataUnsafe.auth_date:",e.initDataUnsafe.auth_date?" Available":" Not available"),console.log(" InitDataUnsafe.hash:",e.initDataUnsafe.hash?" Available":" Not available"),e.initDataUnsafe.user&&console.log(" User data:",JSON.stringify(e.initDataUnsafe.user,null,2)))}else console.log(" WebApp object not available");console.log("==================================")},Ye=()=>{var t;if(console.log("   Telegram..."),Zt(),typeof window<"u"&&((t=window.Telegram)!=null&&t.WebApp)){console.log("Telegram WebApp ");const e=window.Telegram.WebApp.initData;if(console.log("Telegram initData:",e?"":""),e)return console.log("    initData"),e;const r=window.Telegram.WebApp.initDataUnsafe;if(console.log("Telegram initDataUnsafe:",r),r!=null&&r.user){const n=Math.floor(Date.now()/1e3),a=JSON.stringify(r.user),s=`user=${encodeURIComponent(a)}`,l=`auth_date=${n}`,i=`${s}&${l}`,c=btoa(i).replace(/[^a-zA-Z0-9]/g,"").substring(0,32),u=`${s}&${l}&hash=${c}`;return console.log("     initDataUnsafe"),console.log("Generated auth data length:",u.length),u}}return console.warn("     Telegram WebApp"),console.warn("   "),""},Kr=()=>{var t;return typeof window<"u"&&!!((t=window.Telegram)!=null&&t.WebApp)},Gr=()=>{if(console.log("     ..."),typeof window<"u"){localStorage.removeItem("telegram_init_data"),console.log("   ");const t=Ye();return console.log("   :",t?"":""),t}return""},Qt=()=>{typeof window<"u"&&(localStorage.removeItem("telegram_init_data"),console.log("    "))},Jr=()=>{console.log("   ...");const t=Ye();if(t){console.log("   "),console.log(" :",t.length),console.log(" :",t.substring(0,100)+"...");try{const e=new URLSearchParams(t),r=e.get("user"),n=e.get("auth_date"),a=e.get("hash");if(console.log("  :"),console.log("  - user:",r?"":""),console.log("  - auth_date:",n?"":""),console.log("  - hash:",a?"":""),r){const s=JSON.parse(decodeURIComponent(r));console.log("  :",s)}return!0}catch(e){return console.error("   :",e),!1}}else return console.error("    "),!1},er=async()=>{console.log("     ...");try{const{debugAuthConfig:t,debugValidateTelegramData:e}=await at(async()=>{const{debugAuthConfig:n,debugValidateTelegramData:a}=await Promise.resolve().then(()=>jt);return{debugAuthConfig:n,debugValidateTelegramData:a}},void 0);console.log("   ...");try{const n=await t();if(console.log("  :",n),!n.telegram_bot_token_set)return console.error("      Telegram !"),console.error(" :    TELEGRAM_BOT_TOKEN  "),"server_no_token";console.log("     ")}catch(n){return console.error("    :",n),"server_config_error"}const r=Ye();if(r){console.log("     ...");try{const n=await e(r);return console.log("  :",n),n.success?(console.log("     !"),console.log(" ,    "),"validation_success"):(console.error("     "),console.error(" :     "),"validation_failed")}catch(n){return console.error("   :",n),"validation_error"}}else return console.error("    "),"no_data"}catch(t){return console.error("   :",t),"general_error"}};typeof window<"u"&&(window.telegramUtils={debugTelegramWebApp:Zt,getTelegramInitData:Ye,clearAndRecreateAuthData:Gr,cleanupOldAuthData:Qt,testAuthData:Jr,initTelegramWebApp:Jt,diagnoseServerAuth:er},console.log("  Telegram   window.telegramUtils"));const Na=Object.freeze(Object.defineProperty({__proto__:null,cleanupOldAuthData:Qt,clearAndRecreateAuthData:Gr,debugTelegramWebApp:Zt,diagnoseServerAuth:er,getTelegramInitData:Ye,getTelegramUser:Yr,initTelegramWebApp:Jt,isTelegramWebApp:Kr,testAuthData:Jr},Symbol.toStringTag,{value:"Module"})),Ua=()=>{console.log("=== Aeon Messenger API Configuration ==="),console.log("VITE_CHAT_URL:","https://aeon-messenger-app-09faae856b73.herokuapp.com"),console.log("Base URL:","https://aeon-messenger-app-09faae856b73.herokuapp.com"),console.log("Environment:","production"),console.log(" NEW BACKEND URL: https://aeon-backend-2892-d50dfbe26b14.herokuapp.com"),console.log("=========================================")};Ua();const oe=Po.create({baseURL:"https://aeon-backend-2892-d50dfbe26b14.herokuapp.com",timeout:3e4,headers:{"Content-Type":"application/json"}}),Zr=async(t,e=3,r=1e3)=>{var n,a;for(let s=0;s<e;s++)try{return await t()}catch(l){if(console.log(`Attempt ${s+1} failed:`,l.message),((n=l.response)==null?void 0:n.status)===401||((a=l.response)==null?void 0:a.status)===403||s===e-1)throw l;await new Promise(i=>setTimeout(i,r*(s+1)))}throw new Error("Max retries reached")};oe.interceptors.request.use(t=>{const e=Ye();return console.log("=== Aeon API Request Debug ==="),console.log("URL:",t.url),console.log("Method:",t.method),console.log("Base URL:",t.baseURL),console.log("Init Data Length:",e?e.length:0),console.log("Init Data Preview:",e?e.substring(0,100)+"...":"No data"),e?(t.headers["x-telegram-init-data"]=e,console.log(" Auth header attached")):(console.warn(" No auth data available - running in development mode"),console.warn(" This request will likely fail with 401 error")),console.log("==============================="),t},t=>(console.error("Request interceptor error:",t),Promise.reject(t)));oe.interceptors.response.use(t=>(console.log(" API Response:",t.config.url,t.status),t),t=>{var e,r,n,a,s,l,i,c;throw console.error("=== Aeon API Error ==="),console.error("URL:",(e=t.config)==null?void 0:e.url),console.error("Status:",(r=t.response)==null?void 0:r.status),console.error("Status Text:",(n=t.response)==null?void 0:n.statusText),console.error("Response Data:",(a=t.response)==null?void 0:a.data),console.error("Request Headers:",(s=t.config)==null?void 0:s.headers),console.error("======================"),((l=t.response)==null?void 0:l.status)===401?(console.error(" Authorization failed"),console.error(" Possible reasons:"),console.error("   1. App is not running inside Telegram WebApp"),console.error("   2. Invalid or expired Telegram init data"),console.error("   3. Server-side authorization issue"),console.error(" Solution: Open this app from Telegram bot/mini app"),{...t,message:"Authorization failed - app must be opened from Telegram",isAuthError:!0,response:{...t.response,data:{...(i=t.response)==null?void 0:i.data,error:"     Telegram"}}}):t.code==="ECONNABORTED"&&t.message.includes("timeout")?(console.error(" Request timeout"),console.error(" Possible reasons:"),console.error("   1. Server is starting up (cold start)"),console.error("   2. Server is overloaded"),console.error("   3. Network connectivity issues"),console.error(" Solution: Try again in a moment"),{...t,message:"Server is starting up, please try again in a moment",isTimeoutError:!0}):((c=t.response)==null?void 0:c.status)===503?(console.error(" Service Unavailable"),console.error(" Server is temporarily unavailable"),{...t,message:"Server is temporarily unavailable, please try again",isServiceError:!0}):t});const $t=async()=>(await Zr(()=>oe.get("/api/v1/chats/"))).data,Qr=async t=>(await Zr(()=>oe.post("/api/v1/chats/",t,{timeout:6e4}))).data,za=async t=>(await oe.get(`/api/v1/chats/${t}`)).data,eo=async(t,e)=>{await oe.post(`/api/v1/chats/${t}/members/${e}`)},to=async(t,e)=>{await oe.delete(`/api/v1/chats/${t}/members/${e}`)},_t=async(t,e=1,r=50)=>(await oe.get(`/api/v1/messages/chat/${t}?page=${e}&per_page=${r}`)).data,ro=async t=>(await oe.post("/api/v1/messages/",t)).data,oo=async t=>{await oe.post(`/api/v1/messages/chat/${t}/read-all`)},no=async()=>(await oe.get("/api/v1/me")).data,Fa=async()=>(await oe.get("/api/v1/debug/auth")).data,Ha=async t=>(await oe.post("/api/v1/debug/validate-telegram-data",t,{headers:{"Content-Type":"application/json"}})).data,Wt=async(t,e)=>(await oe.post(`/api/v1/chats/${t}/invite-by-username`,{username:e})).data,Bt=async()=>{await oe.post("/api/v1/users/check-invitations")},jt=Object.freeze(Object.defineProperty({__proto__:null,addMemberToChat:eo,checkAndAcceptInvitations:Bt,createChat:Qr,debugAuthConfig:Fa,debugValidateTelegramData:Ha,getChat:za,getChatMessages:_t,getChats:$t,getCurrentUser:no,inviteMemberByUsername:Wt,markAllMessagesAsRead:oo,removeMemberFromChat:to,sendMessage:ro},Symbol.toStringTag,{value:"Module"})),Va=()=>{const[t,e]=d.useState([]),[r,n]=d.useState(null),[a,s]=d.useState([]),[l,i]=d.useState(null),[c,u]=d.useState(!0),[p,v]=d.useState(!1),[j,f]=d.useState(null),[y,g]=d.useState(!1),[x,b]=d.useState(!0),[A,T]=d.useState(null),[m,w]=d.useState(!1),h=d.useCallback(()=>Jt(),[]),P=d.useCallback(async()=>{var M;try{const k=await no();i(k),f(null),g(!1);try{await Bt()}catch(O){console.log("No pending invitations or error checking invitations:",O)}}catch(k){if(console.error("Error loading current user:",k),((M=k.response)==null?void 0:M.status)===401||k.isAuthError?(g(!0),f("     Telegram   ")):f("   "),!Kr()){const O=Yr();i(O?{id:O.id,telegram_id:O.id,username:O.username,first_name:O.first_name,last_name:O.last_name,profile_photo_url:O.photo_url}:{id:123456789,telegram_id:123456789,username:"testuser",first_name:"Test",last_name:"User",profile_photo_url:void 0}),g(!1)}}},[h]),E=d.useCallback(async()=>{var M,k;try{u(!0);const O=await $t();e(O),f(null),g(!1)}catch(O){console.error("Error loading chats:",O),((M=O.response)==null?void 0:M.status)===401||O.isAuthError?(g(!0),f("     Telegram   ")):O.isTimeoutError||O.code==="ECONNABORTED"?f("  ,     "):O.isServiceError||((k=O.response)==null?void 0:k.status)===503?f("   ,    "):f("  ")}finally{u(!1)}},[h]),D=d.useCallback(async()=>{var M;try{const k=await $t();e(k),f(null),g(!1)}catch(k){console.error("Error refreshing chats:",k),(((M=k.response)==null?void 0:M.status)===401||k.isAuthError)&&g(!0)}},[]),R=d.useCallback(async M=>{var k,O;try{v(!0);const W=await _t(M);if(s(W.messages),W.messages.length>0){const N=W.messages[W.messages.length-1];T(N.id)}f(null),g(!1)}catch(W){console.error("Error loading messages:",W),((k=W.response)==null?void 0:k.status)===401||W.isAuthError?(g(!0),f("     Telegram   ")):W.isTimeoutError||W.code==="ECONNABORTED"?f("  ,   "):W.isServiceError||((O=W.response)==null?void 0:O.status)===503?f("   ,   "):f("  ")}finally{v(!1)}},[h]),I=d.useCallback(async M=>{var k,O;try{const N=(await _t(M)).messages;if(N.length>0){const V=N[N.length-1].id;if(A&&V>A){s(N),T(V),w(!0),D();try{(O=(k=window.Telegram)==null?void 0:k.WebApp)!=null&&O.HapticFeedback&&window.Telegram.WebApp.HapticFeedback.notificationOccurred("success")}catch{console.log("Haptic feedback not available")}console.log("   ")}}}catch(W){console.error("Error checking new messages:",W)}},[A,D]),q=d.useCallback(async(M,k)=>{if(k.trim())try{const O={text:k.trim(),message_type:"text",chat_id:M},W=await ro(O);s(N=>[...N,W]),T(W.id),e(N=>N.map(V=>V.id===M?{...V,last_message:k.trim(),last_message_time:new Date().toISOString()}:V))}catch(O){if(console.error("Error sending message:",O),f("  "),l){const W={id:Date.now(),text:k.trim(),message_type:"text",chat_id:M,sender_id:l.id,sender:{id:l.id,telegram_id:l.telegram_id,username:l.username,first_name:l.first_name,last_name:l.last_name,profile_photo_url:l.profile_photo_url},is_edited:!1,is_deleted:!1,read_by:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()};s(N=>[...N,W]),T(W.id)}}},[l]),$=d.useCallback(async(M,k=[],O=[])=>{try{const W={title:M,chat_type:k.length+O.length>0?"group":"private",member_ids:k},N=await Qr(W);if(O.length>0){const{inviteMemberByUsername:te}=await at(async()=>{const{inviteMemberByUsername:ee}=await Promise.resolve().then(()=>jt);return{inviteMemberByUsername:ee}},void 0);for(const ee of O)try{await te(N.id,ee)}catch(Q){console.error(`Error inviting ${ee}:`,Q)}}await E();const V={id:N.id,title:N.title,chat_type:N.chat_type,photo_url:N.photo_url,last_message:void 0,last_message_time:void 0,unread_count:0};return n(V),await R(N.id),N}catch(W){throw console.error("Error creating chat:",W),f("  "),W}},[E,R]),S=d.useCallback(M=>{n(M),T(null),w(!1),R(M.id),M.unread_count>0&&oo(M.id).catch(k=>console.error("Error marking messages as read:",k))},[R]),H=d.useCallback(()=>{n(null),s([]),T(null),w(!1)},[]),z=d.useCallback(()=>{w(!1)},[]),F=d.useCallback(async M=>{try{const{getChat:k}=await at(async()=>{const{getChat:W}=await Promise.resolve().then(()=>jt);return{getChat:W}},void 0);return await k(M)}catch(k){throw console.error("Error loading chat info:",k),f("    "),k}},[]),K=d.useCallback(async(M,k)=>{try{await eo(M,k),f(null),r&&r.id===M&&setTimeout(()=>D(),1e3)}catch(O){throw console.error("Error adding member to chat:",O),f("  "),O}},[r,D]),Z=d.useCallback(async(M,k)=>{try{await to(M,k),f(null),r&&r.id===M&&setTimeout(()=>D(),1e3)}catch(O){throw console.error("Error removing member from chat:",O),f("  "),O}},[r,D]);return d.useEffect(()=>{h(),P(),E()},[h,P,E]),d.useEffect(()=>{if(!x||y)return;const M=setInterval(()=>{D()},3e4);return()=>clearInterval(M)},[x,y,D]),d.useEffect(()=>{if(!x||!r||y)return;const M=setInterval(()=>{I(r.id)},5e3);return()=>clearInterval(M)},[x,r,y,I]),d.useEffect(()=>{if(!x||y)return;const M=setInterval(async()=>{try{await Bt(),D()}catch(k){console.log("No new invitations or error:",k)}},12e4);return()=>clearInterval(M)},[x,y,D]),{chats:t,currentChat:r,messages:a,currentUser:l,loading:c,messagesLoading:p,error:j,isAuthError:y,autoRefresh:x,setAutoRefresh:b,hasNewMessages:m,markMessagesAsViewed:z,sendNewMessage:q,createNewChat:$,selectChat:S,refreshChats:D,refreshMessages:()=>r&&R(r.id),loadChatInfo:F,addMemberToChat:K,removeMemberFromChat:Z,clearCurrentChat:H,checkNewMessages:()=>r&&I(r.id)}},qa=({open:t,onClose:e})=>{const[r,n]=d.useState(!1),[a,s]=d.useState(null),l=async()=>{n(!0),s(null);try{const u=await er(),{debugAuthConfig:p,debugValidateTelegramData:v}=await at(async()=>{const{debugAuthConfig:b,debugValidateTelegramData:A}=await Promise.resolve().then(()=>jt);return{debugAuthConfig:b,debugValidateTelegramData:A}},void 0),{getTelegramInitData:j}=await at(async()=>{const{getTelegramInitData:b}=await Promise.resolve().then(()=>Na);return{getTelegramInitData:b}},void 0);let f,y,g=[];try{f=await p()}catch{f={error:"    "}}const x=j();if(x)try{y=await v(x)}catch{y={error:"   "}}switch(u){case"server_no_token":g=["    TELEGRAM_BOT_TOKEN  ","   @BotFather      Heroku","    "];break;case"validation_failed":g=["     @BotFather",",     Telegram","   ,    "];break;case"validation_success":g=["  ,    ","  "," -"];break;default:g=[",     Telegram"," -","     "]}s({status:u,serverConfig:f,validationResult:y,recommendations:g})}catch{s({status:"error",recommendations:["   ","    "]})}finally{n(!1)}},i=u=>{switch(u){case"validation_success":return"success";case"server_no_token":case"validation_failed":return"error";default:return"warning"}},c=u=>{switch(u){case"server_no_token":return"   ";case"validation_failed":return"  ";case"validation_success":return" ";case"server_config_error":return"  ";case"validation_error":return" ";case"no_data":return"  ";case"general_error":return" ";default:return" "}};return o.jsxs(Xt,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[o.jsx(Gt,{children:"   "}),o.jsxs(Kt,{children:[!r&&!a&&o.jsx(L,{sx:{textAlign:"center",py:3},children:o.jsx(_,{variant:"body1",sx:{mb:2},children:' " "    '})}),r&&o.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:4},children:[o.jsx(ke,{sx:{mr:2}}),o.jsx(_,{children:" ..."})]}),a&&o.jsxs(L,{sx:{py:2},children:[o.jsxs(L,{sx:{mb:3},children:[o.jsx(_,{variant:"h6",sx:{mb:1},children:" :"}),o.jsx(Er,{label:c(a.status),color:i(a.status),sx:{mb:2}})]}),a.serverConfig&&o.jsxs(L,{sx:{mb:3},children:[o.jsx(_,{variant:"h6",sx:{mb:1},children:" :"}),o.jsxs(Be,{severity:a.serverConfig.telegram_bot_token_set?"success":"error",children:[o.jsxs(_,{variant:"body2",children:[" : ",a.serverConfig.telegram_bot_token_set?" ":"  "]}),o.jsxs(_,{variant:"body2",children:[" : ",a.serverConfig.debug_mode?"":""]})]})]}),a.validationResult&&o.jsxs(L,{sx:{mb:3},children:[o.jsx(_,{variant:"h6",sx:{mb:1},children:" :"}),o.jsx(Be,{severity:a.validationResult.success?"success":"error",children:o.jsxs(_,{variant:"body2",children:[": ",a.validationResult.success?" ":"  "]})})]}),o.jsxs(L,{sx:{mb:2},children:[o.jsx(_,{variant:"h6",sx:{mb:1},children:":"}),a.recommendations.map((u,p)=>o.jsxs(_,{variant:"body2",sx:{mb:1,pl:2},children:[" ",u]},p))]})]})]}),o.jsxs(Yt,{children:[!a&&o.jsx(ce,{onClick:l,disabled:r,variant:"contained",color:"primary",children:" "}),a&&o.jsx(ce,{onClick:l,variant:"outlined",children:" "}),o.jsx(ce,{onClick:e,children:""})]})]})},Xa=({open:t,onClose:e,currentChat:r,loadChatInfo:n,addMemberToChat:a,removeMemberFromChat:s,currentUserId:l})=>{var $;const[i,c]=d.useState(null),[u,p]=d.useState(!1),[v,j]=d.useState(null),[f,y]=d.useState(""),[g,x]=d.useState(""),[b,A]=d.useState("username"),[T,m]=d.useState(!1),[w,h]=d.useState(null);d.useEffect(()=>{t&&r&&P()},[t,r]);const P=async()=>{if(r)try{p(!0),j(null);const S=await n(r.id);c(S)}catch(S){j("     "),console.error("Error loading chat details:",S)}finally{p(!1)}},E=async S=>{r&&await a(r.id,S)},D=async S=>{if(!r)return;const H=await Wt(r.id,S);H.status==="added"?h({type:"success",message:` @${S}     !`}):H.status==="invited"&&h({type:"info",message:` @${S}    .   -       .`}),setTimeout(()=>h(null),5e3)},R=async()=>{if(!f.trim())return;const S=f.trim(),H=parseInt(S);try{m(!0),j(null),isNaN(H)?await D(S.replace(/^@/,"")):await E(H),y(""),await P()}catch(z){console.error("Error adding member (ID path):",z),j("   ")}finally{m(!1)}},I=async()=>{if(!(!g.trim()||!r))try{m(!0),j(null),h(null);const S=await Wt(r.id,g.trim());S.status==="added"?(h({type:"success",message:` @${g.trim()}   !`}),x(""),await P()):S.status==="invited"&&(h({type:"info",message:`   @${g.trim()}.        .`}),x("")),setTimeout(()=>h(null),5e3)}catch(S){console.error("Error adding member by username:",S),h({type:"warning",message:"   .  username   ."})}finally{m(!1)}},q=async S=>{if(r)try{j(null),await s(r.id,S),await P()}catch(H){j("   "),console.error("Error removing member:",H)}};return r?o.jsxs(Xt,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[o.jsxs(Gt,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(wt,{src:r.photo_url||void 0,sx:{bgcolor:"#4a9eff"},children:r.title?r.title[0].toUpperCase():o.jsx(Cr,{})}),o.jsxs(L,{children:[o.jsx(_,{variant:"h6",children:r.title||" "}),o.jsx(_,{variant:"caption",sx:{color:"#8b95a1"},children:r.chat_type==="private"?" ":" "})]})]}),o.jsxs(Kt,{children:[v&&o.jsx(Be,{severity:"error",sx:{mb:2},children:v}),u?o.jsx(L,{sx:{display:"flex",justifyContent:"center",py:3},children:o.jsx(ke,{sx:{color:"#4a9eff"}})}):i?o.jsxs(o.Fragment,{children:[o.jsxs(L,{sx:{mb:3},children:[o.jsx(_,{variant:"subtitle1",sx:{mb:1,fontWeight:600},children:""}),o.jsxs(_,{variant:"body2",sx:{color:"#8b95a1",mb:1},children:["ID : ",i.id]}),o.jsxs(_,{variant:"body2",sx:{color:"#8b95a1",mb:1},children:[": ",new Date(i.created_at).toLocaleDateString("ru-RU")]}),i.description&&o.jsxs(_,{variant:"body2",sx:{color:"#8b95a1"},children:[": ",i.description]})]}),o.jsxs(L,{sx:{mb:3},children:[o.jsxs(_,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:[" (",(($=i.members)==null?void 0:$.length)||0,")"]}),i.members&&i.members.length>0?o.jsx(Dr,{sx:{maxHeight:200,overflow:"auto"},children:i.members.map(S=>o.jsxs(Mr,{sx:{bgcolor:"rgba(43, 52, 65, 0.5)",borderRadius:1,mb:1},children:[o.jsx(qr,{children:o.jsx(wt,{src:S.profile_photo_url||void 0,sx:{bgcolor:"#4a9eff"},children:S.first_name?S.first_name[0].toUpperCase():o.jsx(Cr,{})})}),o.jsx(Xr,{primary:o.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsxs(_,{children:[S.first_name," ",S.last_name]}),S.is_admin&&o.jsx(Er,{icon:o.jsx(_a,{}),label:"",size:"small",sx:{bgcolor:"#4a9eff",color:"white",fontSize:"0.7rem"}})]}),secondary:o.jsx(_,{variant:"caption",sx:{color:"#8b95a1"},children:S.username?`@${S.username}`:`ID: ${S.telegram_id}`})}),l!==S.telegram_id&&o.jsx(ze,{title:" ",children:o.jsx(We,{onClick:()=>q(S.telegram_id),sx:{color:"#f44336","&:hover":{bgcolor:"rgba(244, 67, 54, 0.1)"}},children:o.jsx(La,{})})})]},S.id))}):o.jsx(_,{variant:"body2",sx:{color:"#8b95a1",textAlign:"center",py:2},children:" "})]}),o.jsxs(L,{children:[o.jsx(_,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:" "}),w&&o.jsx(Be,{severity:w.type==="success"?"success":w.type==="info"?"info":"warning",sx:{mb:2,"& .MuiAlert-message":{color:"white"},bgcolor:w.type==="success"?"rgba(76, 175, 80, 0.2)":w.type==="info"?"rgba(33, 150, 243, 0.2)":"rgba(255, 152, 0, 0.2)",border:`1px solid ${w.type==="success"?"#4CAF50":w.type==="info"?"#2196F3":"#FF9800"}`},children:w.message}),o.jsxs(L,{sx:{display:"flex",gap:1,mb:2},children:[o.jsx(ce,{variant:b==="username"?"contained":"outlined",onClick:()=>A("username"),size:"small",sx:{bgcolor:b==="username"?"#4a9eff":"transparent",color:b==="username"?"white":"#4a9eff",borderColor:"#4a9eff","&:hover":{bgcolor:b==="username"?"#3d8bdb":"rgba(74, 158, 255, 0.1)"}},children:" @username"}),o.jsx(ce,{variant:b==="id"?"contained":"outlined",onClick:()=>A("id"),size:"small",sx:{bgcolor:b==="id"?"#4a9eff":"transparent",color:b==="id"?"white":"#4a9eff",borderColor:"#4a9eff","&:hover":{bgcolor:b==="id"?"#3d8bdb":"rgba(74, 158, 255, 0.1)"}},children:" ID ()"})]}),b==="username"?o.jsxs(L,{sx:{display:"flex",gap:1},children:[o.jsx(rt,{size:"small",placeholder:"@username ",value:g,onChange:S=>x(S.target.value),helperText:"      -  .   -  .",sx:{flex:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}}),o.jsx(ce,{variant:"contained",onClick:I,disabled:!g.trim()||T,startIcon:T?o.jsx(ke,{size:16}):o.jsx(jr,{}),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"},minWidth:"120px"},children:T?"...":""})]}):o.jsxs(L,{sx:{display:"flex",gap:1},children:[o.jsx(rt,{size:"small",placeholder:"ID  @username",value:f,onChange:S=>y(S.target.value),helperText:"    Telegram ID (),   @username -   ",sx:{flex:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}}),o.jsx(ce,{variant:"contained",onClick:R,disabled:!f.trim()||T,startIcon:T?o.jsx(ke,{size:16}):o.jsx(jr,{}),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"},minWidth:"120px"},children:T?"...":""})]})]})]}):o.jsx(_,{variant:"body2",sx:{textAlign:"center",py:3,color:"#8b95a1"},children:"     "})]}),o.jsx(Yt,{children:o.jsx(ce,{onClick:e,sx:{color:"#8b95a1"},children:""})})]}):null},rs=()=>{const t=Lt(),e=To(t.breakpoints.down("md")),[r,n]=d.useState(""),[a,s]=d.useState(!1),[l,i]=d.useState(""),[c,u]=d.useState(""),[p,v]=d.useState(null),[j,f]=d.useState(!1),[y,g]=d.useState(!1),[x,b]=d.useState(!1),A=d.useRef(null),{chats:T,currentChat:m,messages:w,currentUser:h,loading:P,messagesLoading:E,error:D,isAuthError:R,autoRefresh:I,setAutoRefresh:q,hasNewMessages:$,markMessagesAsViewed:S,sendNewMessage:H,createNewChat:z,selectChat:F,loadChatInfo:K,addMemberToChat:Z,removeMemberFromChat:M,clearCurrentChat:k,checkNewMessages:O}=Va(),W=()=>{var C;(C=A.current)==null||C.scrollIntoView({behavior:"smooth"})},N=()=>{k()};d.useEffect(W,[w]),d.useEffect(()=>{if($&&w.length>0){const C=setTimeout(()=>{S()},2e3);return()=>clearTimeout(C)}},[$,w.length,S]);const V=async()=>{if(!(!r.trim()||!m))try{S(),await H(m.id,r.trim()),n(""),W()}catch(C){console.error("Error sending message:",C)}},te=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),V())},ee=async()=>{var C,X;try{f(!0),v(null);const U=[],Y=[];c.trim()&&c.split(",").map(le=>le.trim()).filter(le=>le.length>0).forEach(le=>{const je=parseInt(le);!isNaN(je)&&je>0?U.push(je):Y.push(le.replace(/^@/,""))}),await z(l.trim(),U,Y);let Ce=`  "${l.trim()}"  !`;U.length>0&&(Ce+=`  ${U.length} .`),Y.length>0&&(Ce+=`  ${Y.length}   username.`),v({type:"success",message:Ce}),setTimeout(()=>{v(null),s(!1)},2e3),i(""),u("")}catch(U){console.error("Error creating chat:",U);let Y="   .   .";U!=null&&U.isTimeoutError?Y="  ,     .   .":U!=null&&U.isServiceError?Y="   .    .":U!=null&&U.isAuthError?Y="  .    Telegram.":(U==null?void 0:U.code)==="ECONNABORTED"?Y="   .    -   .":((C=U==null?void 0:U.response)==null?void 0:C.status)===503?Y="   .    .":((X=U==null?void 0:U.response)==null?void 0:X.status)===500&&(Y="   .       ."),v({type:"warning",message:Y})}finally{f(!1)}},Q=C=>new Date(C).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),ve=C=>{const X=new Date(C),U=new Date,Y=new Date(U);return Y.setDate(Y.getDate()-1),X.toDateString()===U.toDateString()?"":X.toDateString()===Y.toDateString()?"":X.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})},Ie=C=>{const X=C.sender;return X.username?`@${X.username}`:`${X.first_name}${X.last_name?` ${X.last_name}`:""}`},ne=C=>h&&C.sender_id===h.id;return P?o.jsx(L,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(35, 43, 59, 0.95)"},children:o.jsx(ke,{sx:{color:"#4a9eff"}})}):R?o.jsxs(L,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",p:3},children:[o.jsxs(Be,{severity:"error",sx:{mb:3,maxWidth:"600px"},children:[o.jsx(_,{variant:"h6",sx:{mb:2},children:"  "}),o.jsx(_,{variant:"body1",sx:{mb:2,fontWeight:"bold"},children:"    "}),o.jsx(_,{variant:"body2",sx:{mb:2},children:"  .  :"}),o.jsxs(_,{variant:"body2",component:"ul",sx:{pl:2,mb:2},children:[o.jsx("li",{children:"     Telegram "}),o.jsx("li",{children:"    "}),o.jsx("li",{children:"    "}),o.jsx("li",{children:"    Telegram"})]}),o.jsx(_,{variant:"body2",sx:{mb:2},children:o.jsx("strong",{children:" :"})}),o.jsxs(_,{variant:"body2",component:"ul",sx:{pl:2,mb:2},children:[o.jsx("li",{children:' ""   '}),o.jsx("li",{children:",     Telegram"}),o.jsx("li",{children:"   -   "}),o.jsx("li",{children:"   -   "})]})]}),o.jsxs(L,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"center"},children:[o.jsx(ce,{variant:"contained",onClick:()=>g(!0),sx:{bgcolor:"#f44336","&:hover":{bgcolor:"#d32f2f"}},children:"  "}),o.jsx(ce,{variant:"contained",onClick:()=>window.location.reload(),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"}},children:"  "}),o.jsx(ce,{variant:"outlined",onClick:()=>{var C;(C=window.Telegram)!=null&&C.WebApp?window.Telegram.WebApp.close():window.history.back()},sx:{borderColor:"#4a9eff",color:"#4a9eff","&:hover":{borderColor:"#3d8bdb",color:"#3d8bdb"}},children:" "})]})]}):o.jsxs(L,{sx:{height:"100vh",display:"flex",bgcolor:"rgba(35, 43, 59, 0.95)",color:"white",overflow:"hidden"},children:[o.jsxs(L,{sx:{width:e?"100%":"350px",display:e&&m?"none":"flex",flexDirection:"column",borderRight:"1px solid rgba(43, 52, 65, 1)",bgcolor:"rgba(35, 43, 59, 0.95)"},children:[o.jsxs(L,{sx:{p:2,borderBottom:"1px solid rgba(43, 52, 65, 1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(_,{variant:"h6",sx:{fontWeight:600},children:""}),I&&o.jsx(ze,{title:" ",children:o.jsx(ke,{size:16,sx:{color:"#4a9eff",animation:"spin 2s linear infinite","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})})]}),o.jsxs(L,{sx:{display:"flex",gap:1},children:[o.jsx(ze,{title:I?" ":" ",children:o.jsx(We,{onClick:()=>q(!I),sx:{color:I?"#4a9eff":"#8b95a1","&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:o.jsx(Tr,{})})}),o.jsx(ze,{title:"  ",children:o.jsx(We,{onClick:()=>s(!0),sx:{bgcolor:"#4a9eff",color:"white","&:hover":{bgcolor:"#3d8bdb"}},children:o.jsx($a,{})})})]})]}),o.jsx(Dr,{sx:{flex:1,overflow:"auto",p:0},children:T.map(C=>o.jsx(sr.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:o.jsx(Mr,{disablePadding:!0,sx:{borderBottom:"1px solid rgba(43, 52, 65, 0.5)"},children:o.jsxs(Ao,{selected:(m==null?void 0:m.id)===C.id,onClick:()=>F(C),sx:{py:e?2:1.5,px:e?1.5:2,bgcolor:(m==null?void 0:m.id)===C.id?"rgba(74, 158, 255, 0.1)":"transparent","&:hover":{bgcolor:(m==null?void 0:m.id)===C.id?"rgba(74, 158, 255, 0.15)":"rgba(255, 255, 255, 0.05)"},minHeight:e?72:"auto"},children:[o.jsx(qr,{children:o.jsx(ta,{badgeContent:C.unread_count,color:"error",invisible:C.unread_count===0,children:o.jsx(wt,{src:C.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:e?50:45,height:e?50:45},children:C.title?C.title[0].toUpperCase():o.jsx(Dt,{})})})}),o.jsx(Xr,{primary:o.jsx(_,{variant:"body1",sx:{fontWeight:C.unread_count>0?600:400,color:"white"},children:C.title||" "}),secondary:o.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(_,{variant:"caption",sx:{color:"#8b95a1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"150px"},children:C.last_message||" "}),C.last_message_time&&o.jsx(_,{variant:"caption",sx:{color:"#8b95a1",fontSize:"0.7rem",ml:1},children:ve(C.last_message_time)})]})})]})})},C.id))})]}),o.jsx(L,{sx:{flex:1,display:"flex",flexDirection:"column",position:"relative"},children:m?o.jsxs(o.Fragment,{children:[o.jsxs(L,{sx:{p:e?1.5:2,borderBottom:"1px solid rgba(43, 52, 65, 1)",bgcolor:"rgba(35, 43, 59, 0.95)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs(L,{sx:{display:"flex",alignItems:"center",flex:1},children:[e&&o.jsx(We,{onClick:N,sx:{color:"#4a9eff",mr:1,p:1,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:o.jsx(Wa,{})}),o.jsx(wt,{src:m.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:e?36:40,height:e?36:40,mr:e?1.5:2},children:m.title?m.title[0].toUpperCase():o.jsx(Dt,{})}),o.jsxs(L,{sx:{flex:1,minWidth:0},children:[o.jsxs(_,{variant:e?"body1":"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:1},children:[m.title||" ",$&&o.jsx(L,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:"#4CAF50",animation:"pulse 2s infinite","@keyframes pulse":{"0%":{transform:"scale(1)",opacity:1},"50%":{transform:"scale(1.2)",opacity:.7},"100%":{transform:"scale(1)",opacity:1}}}})]}),o.jsxs(_,{variant:"caption",sx:{color:"#8b95a1",fontSize:e?"0.7rem":"0.75rem"},children:[m.chat_type==="private"?" ":" ",$&&"   "]})]})]}),o.jsxs(L,{sx:{display:"flex",gap:e?.5:1},children:[o.jsx(ze,{title:" ",children:o.jsx(We,{onClick:()=>m&&O(),sx:{color:"#4a9eff",p:e?1:1.5,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:o.jsx(Tr,{fontSize:e?"small":"medium"})})}),o.jsx(ze,{title:"  ",children:o.jsx(We,{onClick:()=>b(!0),sx:{color:"#4a9eff",p:e?1:1.5,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:o.jsx(Ba,{fontSize:e?"small":"medium"})})})]})]}),o.jsxs(L,{sx:{flex:1,overflow:"auto",p:e?1:1.5,bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${ir})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"local","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(35, 43, 59, 0.8)",pointerEvents:"none",zIndex:0},position:"relative","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:"rgba(255, 255, 255, 0.3)"}},children:[D&&o.jsx(Be,{severity:"error",sx:{mb:2,zIndex:1,position:"relative"},children:D}),E?o.jsx(L,{sx:{display:"flex",justifyContent:"center",py:4,zIndex:1,position:"relative"},children:o.jsx(ke,{sx:{color:"#4a9eff"}})}):o.jsx(Ia,{children:w.map(C=>o.jsx(sr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{display:"flex",justifyContent:ne(C)?"flex-end":"flex-start",marginBottom:"12px",position:"relative",zIndex:1},children:o.jsxs(L,{sx:{maxWidth:e?"85%":"70%",px:e?1.5:2,py:e?1:1.2,borderRadius:ne(C)?"18px 18px 4px 18px":"18px 18px 18px 4px",bgcolor:ne(C)?"#4a9eff":"rgba(43, 52, 65, 0.9)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",wordBreak:"break-word"},children:[!ne(C)&&o.jsx(_,{variant:"caption",sx:{color:"#40C4FF",fontWeight:600,display:"block",mb:.5},children:Ie(C)}),o.jsx(_,{variant:"body1",sx:{mb:.5,fontSize:e?"0.9rem":"0.95rem",lineHeight:1.4},children:C.text}),o.jsx(_,{variant:"caption",sx:{opacity:.7,fontSize:e?"0.65rem":"0.7rem",display:"block",textAlign:"right",mt:.25,color:ne(C)?"rgba(255,255,255,0.8)":"#8b95a1"},children:Q(C.created_at)})]})},C.id))}),o.jsx("div",{ref:A,style:{position:"relative",zIndex:1}})]}),o.jsxs(L,{sx:{p:e?1.5:2,bgcolor:"rgba(35, 43, 59, 0.95)",display:"flex",gap:e?1:1.5,alignItems:"flex-end",borderTop:"1px solid rgba(43, 52, 65, 1)",pb:e?"max(1.5rem, env(safe-area-inset-bottom))":2},children:[o.jsx(rt,{fullWidth:!0,multiline:!0,maxRows:e?3:4,value:r,onChange:C=>n(C.target.value),onKeyPress:te,placeholder:" ...",variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px",bgcolor:"rgba(35, 46, 60, 1)",border:"none",fontSize:e?"0.9rem":"0.95rem",color:"white","& fieldset":{border:"1px solid rgba(60, 72, 84, 1)"},"&:hover fieldset":{border:"1px solid #4a9eff"},"&.Mui-focused fieldset":{border:"2px solid #4a9eff"},"& .MuiInputBase-input":{padding:e?"10px 14px":"12px 16px",color:"white","&::placeholder":{color:"rgba(255, 255, 255, 0.5)",opacity:1}}}}}),o.jsx(We,{onClick:V,disabled:!r.trim(),size:"medium",sx:{bgcolor:"#4a9eff",color:"white",width:e?40:44,height:e?40:44,minWidth:e?40:44,minHeight:e?40:44,"&:hover":{bgcolor:"#3d8bdb",transform:"scale(1.05)"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"},transition:"all 0.2s ease"},children:o.jsx(So,{sx:{fontSize:e?"1.1rem":"1.2rem"}})})]})]}):o.jsx(L,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${ir})`,backgroundSize:"cover",backgroundPosition:"center","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(35, 43, 59, 0.8)",pointerEvents:"none"}},children:o.jsxs(L,{sx:{position:"relative",zIndex:1,textAlign:"center"},children:[o.jsx(Dt,{sx:{fontSize:80,color:"#4a9eff",mb:2}}),o.jsx(_,{variant:"h5",sx:{mb:1,color:"white"},children:" "}),o.jsx(_,{variant:"body1",sx:{color:"#8b95a1"},children:"      "})]})})}),o.jsxs(Xt,{open:a,onClose:()=>{s(!1),v(null)},maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[o.jsx(Gt,{children:"  "}),o.jsxs(Kt,{children:[p&&o.jsx(Be,{severity:p.type==="success"?"success":"warning",sx:{mb:2,"& .MuiAlert-message":{color:"white"},bgcolor:p.type==="success"?"rgba(76, 175, 80, 0.2)":"rgba(255, 152, 0, 0.2)",border:`1px solid ${p.type==="success"?"#4CAF50":"#FF9800"}`},children:p.message}),o.jsx(rt,{autoFocus:!0,margin:"dense",label:" ",fullWidth:!0,variant:"outlined",value:l,onChange:C=>i(C.target.value),sx:{mb:2,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#4a9eff"}}}}),o.jsx(rt,{margin:"dense",label:" (ID  @username,  )",fullWidth:!0,variant:"outlined",placeholder:": 123456789, @username, 987654321, @user2",value:c,onChange:C=>u(C.target.value),helperText:"   Telegram ID (),   @username.      username -  .",sx:{mb:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}})]}),o.jsxs(Yt,{children:[o.jsx(ce,{onClick:()=>{s(!1),v(null)},sx:{color:"#8b95a1"},children:""}),o.jsx(ce,{onClick:ee,disabled:!l.trim()||j,startIcon:j?o.jsx(ke,{size:16}):void 0,sx:{bgcolor:"#4a9eff",color:"white","&:hover":{bgcolor:"#3d8bdb"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"}},children:j?"...":""})]})]}),o.jsx(qa,{open:y,onClose:()=>g(!1)}),o.jsx(Xa,{open:x,onClose:()=>b(!1),currentChat:m,loadChatInfo:K,addMemberToChat:Z,removeMemberFromChat:M,currentUserId:h==null?void 0:h.telegram_id})]})};export{rs as default};
