import{r as u,d as we,g as Ce,j as n,t as St,Q as Qt,i as je,a2 as wr,e as Te,s as Q,v as te,f as be,h as H,l as Fe,o as mo,a as _t,y as Cr,T as E,a4 as jr,a5 as er,a0 as ft,U as tr,a6 as go,n as Tr,a7 as rr,a8 as ho,a9 as vo,aa as Pr,ab as bo,ac as xo,ad as yo,ae as wo,q as Ae,af as nt,B as L,ag as yt,a1 as Ar,ah as Or,b as Co,m as or,ai as jo,c as nr}from"./index-BAU9U5-k.js";import{a as To,S as Po}from"./index-Cgo6ffi3.js";import{o as ar,P as Ao,u as Oo,F as sr,M as Do,B as Ro,a as So,g as Mo,G as ko,T as tt}from"./TextField-tuyG4itz.js";import{u as Dr,C as ke}from"./CircularProgress-qcvi3fJC.js";import{C as Rr}from"./Chip-CndYWLqn.js";import{A as Ie}from"./Alert-CBg7-YiD.js";import{B as ne}from"./Button-CBSZC2rs.js";import{I as et}from"./IconButton-C8FlryNJ.js";const Sr=t=>{const e=u.useRef({});return u.useEffect(()=>{e.current=t}),e.current};var re="top",pe="bottom",de="right",oe="left",Wt="auto",it=[re,pe,de,oe],Le="start",at="end",Io="clippingParents",Mr="viewport",Ze="popper",Eo="reference",ir=it.reduce(function(t,e){return t.concat([e+"-"+Le,e+"-"+at])},[]),kr=[].concat(it,[Wt]).reduce(function(t,e){return t.concat([e,e+"-"+Le,e+"-"+at])},[]),$o="beforeRead",_o="read",Wo="afterRead",Bo="beforeMain",Lo="main",Uo="afterMain",No="beforeWrite",zo="write",Fo="afterWrite",Ho=[$o,_o,Wo,Bo,Lo,Uo,No,zo,Fo];function xe(t){return t?(t.nodeName||"").toLowerCase():null}function ae(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $e(t){var e=ae(t).Element;return t instanceof e||t instanceof Element}function ce(t){var e=ae(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Bt(t){if(typeof ShadowRoot>"u")return!1;var e=ae(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Vo(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var o=e.styles[r]||{},a=e.attributes[r]||{},s=e.elements[r];!ce(s)||!xe(s)||(Object.assign(s.style,o),Object.keys(a).forEach(function(l){var i=a[l];i===!1?s.removeAttribute(l):s.setAttribute(l,i===!0?"":i)}))})}function qo(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(o){var a=e.elements[o],s=e.attributes[o]||{},l=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:r[o]),i=l.reduce(function(c,d){return c[d]="",c},{});!ce(a)||!xe(a)||(Object.assign(a.style,i),Object.keys(s).forEach(function(c){a.removeAttribute(c)}))})}}const Xo={name:"applyStyles",enabled:!0,phase:"write",fn:Vo,effect:qo,requires:["computeStyles"]};function ve(t){return t.split("-")[0]}var Ee=Math.max,wt=Math.min,Ue=Math.round;function Mt(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ir(){return!/^((?!chrome|android).)*safari/i.test(Mt())}function Ne(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var o=t.getBoundingClientRect(),a=1,s=1;e&&ce(t)&&(a=t.offsetWidth>0&&Ue(o.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ue(o.height)/t.offsetHeight||1);var l=$e(t)?ae(t):window,i=l.visualViewport,c=!Ir()&&r,d=(o.left+(c&&i?i.offsetLeft:0))/a,p=(o.top+(c&&i?i.offsetTop:0))/s,v=o.width/a,w=o.height/s;return{width:v,height:w,top:p,right:d+v,bottom:p+w,left:d,x:d,y:p}}function Lt(t){var e=Ne(t),r=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:o}}function Er(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Bt(r)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ye(t){return ae(t).getComputedStyle(t)}function Yo(t){return["table","td","th"].indexOf(xe(t))>=0}function Oe(t){return(($e(t)?t.ownerDocument:t.document)||window.document).documentElement}function jt(t){return xe(t)==="html"?t:t.assignedSlot||t.parentNode||(Bt(t)?t.host:null)||Oe(t)}function lr(t){return!ce(t)||ye(t).position==="fixed"?null:t.offsetParent}function Ko(t){var e=/firefox/i.test(Mt()),r=/Trident/i.test(Mt());if(r&&ce(t)){var o=ye(t);if(o.position==="fixed")return null}var a=jt(t);for(Bt(a)&&(a=a.host);ce(a)&&["html","body"].indexOf(xe(a))<0;){var s=ye(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function lt(t){for(var e=ae(t),r=lr(t);r&&Yo(r)&&ye(r).position==="static";)r=lr(r);return r&&(xe(r)==="html"||xe(r)==="body"&&ye(r).position==="static")?e:r||Ko(t)||e}function Ut(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function rt(t,e,r){return Ee(t,wt(e,r))}function Go(t,e,r){var o=rt(t,e,r);return o>r?r:o}function $r(){return{top:0,right:0,bottom:0,left:0}}function _r(t){return Object.assign({},$r(),t)}function Wr(t,e){return e.reduce(function(r,o){return r[o]=t,r},{})}var Jo=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,_r(typeof e!="number"?e:Wr(e,it))};function Zo(t){var e,r=t.state,o=t.name,a=t.options,s=r.elements.arrow,l=r.modifiersData.popperOffsets,i=ve(r.placement),c=Ut(i),d=[oe,de].indexOf(i)>=0,p=d?"height":"width";if(!(!s||!l)){var v=Jo(a.padding,r),w=Lt(s),f=c==="y"?re:oe,T=c==="y"?pe:de,m=r.rects.reference[p]+r.rects.reference[c]-l[c]-r.rects.popper[p],b=l[c]-r.rects.reference[c],h=lt(s),P=h?c==="y"?h.clientHeight||0:h.clientWidth||0:0,O=m/2-b/2,g=v[f],A=P-w[p]-v[T],x=P/2-w[p]/2+O,R=rt(g,x,A),k=c;r.modifiersData[o]=(e={},e[k]=R,e.centerOffset=R-x,e)}}function Qo(t){var e=t.state,r=t.options,o=r.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||Er(e.elements.popper,a)&&(e.elements.arrow=a))}const en={name:"arrow",enabled:!0,phase:"main",fn:Zo,effect:Qo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ze(t){return t.split("-")[1]}var tn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rn(t,e){var r=t.x,o=t.y,a=e.devicePixelRatio||1;return{x:Ue(r*a)/a||0,y:Ue(o*a)/a||0}}function cr(t){var e,r=t.popper,o=t.popperRect,a=t.placement,s=t.variation,l=t.offsets,i=t.position,c=t.gpuAcceleration,d=t.adaptive,p=t.roundOffsets,v=t.isFixed,w=l.x,f=w===void 0?0:w,T=l.y,m=T===void 0?0:T,b=typeof p=="function"?p({x:f,y:m}):{x:f,y:m};f=b.x,m=b.y;var h=l.hasOwnProperty("x"),P=l.hasOwnProperty("y"),O=oe,g=re,A=window;if(d){var x=lt(r),R="clientHeight",k="clientWidth";if(x===ae(r)&&(x=Oe(r),ye(x).position!=="static"&&i==="absolute"&&(R="scrollHeight",k="scrollWidth")),x=x,a===re||(a===oe||a===de)&&s===at){g=pe;var I=v&&x===A&&A.visualViewport?A.visualViewport.height:x[R];m-=I-o.height,m*=c?1:-1}if(a===oe||(a===re||a===pe)&&s===at){O=de;var M=v&&x===A&&A.visualViewport?A.visualViewport.width:x[k];f-=M-o.width,f*=c?1:-1}}var D=Object.assign({position:i},d&&tn),S=p===!0?rn({x:f,y:m},ae(r)):{x:f,y:m};if(f=S.x,m=S.y,c){var y;return Object.assign({},D,(y={},y[g]=P?"0":"",y[O]=h?"0":"",y.transform=(A.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",y))}return Object.assign({},D,(e={},e[g]=P?m+"px":"",e[O]=h?f+"px":"",e.transform="",e))}function on(t){var e=t.state,r=t.options,o=r.gpuAcceleration,a=o===void 0?!0:o,s=r.adaptive,l=s===void 0?!0:s,i=r.roundOffsets,c=i===void 0?!0:i,d={placement:ve(e.placement),variation:ze(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,cr(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,cr(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const nn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:on,data:{}};var mt={passive:!0};function an(t){var e=t.state,r=t.instance,o=t.options,a=o.scroll,s=a===void 0?!0:a,l=o.resize,i=l===void 0?!0:l,c=ae(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(p){p.addEventListener("scroll",r.update,mt)}),i&&c.addEventListener("resize",r.update,mt),function(){s&&d.forEach(function(p){p.removeEventListener("scroll",r.update,mt)}),i&&c.removeEventListener("resize",r.update,mt)}}const sn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:an,data:{}};var ln={left:"right",right:"left",bottom:"top",top:"bottom"};function xt(t){return t.replace(/left|right|bottom|top/g,function(e){return ln[e]})}var cn={start:"end",end:"start"};function pr(t){return t.replace(/start|end/g,function(e){return cn[e]})}function Nt(t){var e=ae(t),r=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:r,scrollTop:o}}function zt(t){return Ne(Oe(t)).left+Nt(t).scrollLeft}function pn(t,e){var r=ae(t),o=Oe(t),a=r.visualViewport,s=o.clientWidth,l=o.clientHeight,i=0,c=0;if(a){s=a.width,l=a.height;var d=Ir();(d||!d&&e==="fixed")&&(i=a.offsetLeft,c=a.offsetTop)}return{width:s,height:l,x:i+zt(t),y:c}}function dn(t){var e,r=Oe(t),o=Nt(t),a=(e=t.ownerDocument)==null?void 0:e.body,s=Ee(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=Ee(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-o.scrollLeft+zt(t),c=-o.scrollTop;return ye(a||r).direction==="rtl"&&(i+=Ee(r.clientWidth,a?a.clientWidth:0)-s),{width:s,height:l,x:i,y:c}}function Ft(t){var e=ye(t),r=e.overflow,o=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+o)}function Br(t){return["html","body","#document"].indexOf(xe(t))>=0?t.ownerDocument.body:ce(t)&&Ft(t)?t:Br(jt(t))}function ot(t,e){var r;e===void 0&&(e=[]);var o=Br(t),a=o===((r=t.ownerDocument)==null?void 0:r.body),s=ae(o),l=a?[s].concat(s.visualViewport||[],Ft(o)?o:[]):o,i=e.concat(l);return a?i:i.concat(ot(jt(l)))}function kt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function un(t,e){var r=Ne(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function dr(t,e,r){return e===Mr?kt(pn(t,r)):$e(e)?un(e,r):kt(dn(Oe(t)))}function fn(t){var e=ot(jt(t)),r=["absolute","fixed"].indexOf(ye(t).position)>=0,o=r&&ce(t)?lt(t):t;return $e(o)?e.filter(function(a){return $e(a)&&Er(a,o)&&xe(a)!=="body"}):[]}function mn(t,e,r,o){var a=e==="clippingParents"?fn(t):[].concat(e),s=[].concat(a,[r]),l=s[0],i=s.reduce(function(c,d){var p=dr(t,d,o);return c.top=Ee(p.top,c.top),c.right=wt(p.right,c.right),c.bottom=wt(p.bottom,c.bottom),c.left=Ee(p.left,c.left),c},dr(t,l,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Lr(t){var e=t.reference,r=t.element,o=t.placement,a=o?ve(o):null,s=o?ze(o):null,l=e.x+e.width/2-r.width/2,i=e.y+e.height/2-r.height/2,c;switch(a){case re:c={x:l,y:e.y-r.height};break;case pe:c={x:l,y:e.y+e.height};break;case de:c={x:e.x+e.width,y:i};break;case oe:c={x:e.x-r.width,y:i};break;default:c={x:e.x,y:e.y}}var d=a?Ut(a):null;if(d!=null){var p=d==="y"?"height":"width";switch(s){case Le:c[d]=c[d]-(e[p]/2-r[p]/2);break;case at:c[d]=c[d]+(e[p]/2-r[p]/2);break}}return c}function st(t,e){e===void 0&&(e={});var r=e,o=r.placement,a=o===void 0?t.placement:o,s=r.strategy,l=s===void 0?t.strategy:s,i=r.boundary,c=i===void 0?Io:i,d=r.rootBoundary,p=d===void 0?Mr:d,v=r.elementContext,w=v===void 0?Ze:v,f=r.altBoundary,T=f===void 0?!1:f,m=r.padding,b=m===void 0?0:m,h=_r(typeof b!="number"?b:Wr(b,it)),P=w===Ze?Eo:Ze,O=t.rects.popper,g=t.elements[T?P:w],A=mn($e(g)?g:g.contextElement||Oe(t.elements.popper),c,p,l),x=Ne(t.elements.reference),R=Lr({reference:x,element:O,placement:a}),k=kt(Object.assign({},O,R)),I=w===Ze?k:x,M={top:A.top-I.top+h.top,bottom:I.bottom-A.bottom+h.bottom,left:A.left-I.left+h.left,right:I.right-A.right+h.right},D=t.modifiersData.offset;if(w===Ze&&D){var S=D[a];Object.keys(M).forEach(function(y){var C=[de,pe].indexOf(y)>=0?1:-1,$=[re,pe].indexOf(y)>=0?"y":"x";M[y]+=S[$]*C})}return M}function gn(t,e){e===void 0&&(e={});var r=e,o=r.placement,a=r.boundary,s=r.rootBoundary,l=r.padding,i=r.flipVariations,c=r.allowedAutoPlacements,d=c===void 0?kr:c,p=ze(o),v=p?i?ir:ir.filter(function(T){return ze(T)===p}):it,w=v.filter(function(T){return d.indexOf(T)>=0});w.length===0&&(w=v);var f=w.reduce(function(T,m){return T[m]=st(t,{placement:m,boundary:a,rootBoundary:s,padding:l})[ve(m)],T},{});return Object.keys(f).sort(function(T,m){return f[T]-f[m]})}function hn(t){if(ve(t)===Wt)return[];var e=xt(t);return[pr(t),e,pr(e)]}function vn(t){var e=t.state,r=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var a=r.mainAxis,s=a===void 0?!0:a,l=r.altAxis,i=l===void 0?!0:l,c=r.fallbackPlacements,d=r.padding,p=r.boundary,v=r.rootBoundary,w=r.altBoundary,f=r.flipVariations,T=f===void 0?!0:f,m=r.allowedAutoPlacements,b=e.options.placement,h=ve(b),P=h===b,O=c||(P||!T?[xt(b)]:hn(b)),g=[b].concat(O).reduce(function(G,Y){return G.concat(ve(Y)===Wt?gn(e,{placement:Y,boundary:p,rootBoundary:v,padding:d,flipVariations:T,allowedAutoPlacements:m}):Y)},[]),A=e.rects.reference,x=e.rects.popper,R=new Map,k=!0,I=g[0],M=0;M<g.length;M++){var D=g[M],S=ve(D),y=ze(D)===Le,C=[re,pe].indexOf(S)>=0,$=C?"width":"height",W=st(e,{placement:D,boundary:p,rootBoundary:v,altBoundary:w,padding:d}),B=C?y?de:oe:y?pe:re;A[$]>x[$]&&(B=xt(B));var N=xt(B),V=[];if(s&&V.push(W[S]<=0),i&&V.push(W[B]<=0,W[N]<=0),V.every(function(G){return G})){I=D,k=!1;break}R.set(D,V)}if(k)for(var q=T?3:1,se=function(Y){var K=g.find(function(j){var U=R.get(j);if(U)return U.slice(0,Y).every(function(J){return J})});if(K)return I=K,"break"},F=q;F>0;F--){var ie=se(F);if(ie==="break")break}e.placement!==I&&(e.modifiersData[o]._skip=!0,e.placement=I,e.reset=!0)}}const bn={name:"flip",enabled:!0,phase:"main",fn:vn,requiresIfExists:["offset"],data:{_skip:!1}};function ur(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function fr(t){return[re,de,pe,oe].some(function(e){return t[e]>=0})}function xn(t){var e=t.state,r=t.name,o=e.rects.reference,a=e.rects.popper,s=e.modifiersData.preventOverflow,l=st(e,{elementContext:"reference"}),i=st(e,{altBoundary:!0}),c=ur(l,o),d=ur(i,a,s),p=fr(c),v=fr(d);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":v})}const yn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xn};function wn(t,e,r){var o=ve(t),a=[oe,re].indexOf(o)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,l=s[0],i=s[1];return l=l||0,i=(i||0)*a,[oe,de].indexOf(o)>=0?{x:i,y:l}:{x:l,y:i}}function Cn(t){var e=t.state,r=t.options,o=t.name,a=r.offset,s=a===void 0?[0,0]:a,l=kr.reduce(function(p,v){return p[v]=wn(v,e.rects,s),p},{}),i=l[e.placement],c=i.x,d=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=l}const jn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Cn};function Tn(t){var e=t.state,r=t.name;e.modifiersData[r]=Lr({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Pn={name:"popperOffsets",enabled:!0,phase:"read",fn:Tn,data:{}};function An(t){return t==="x"?"y":"x"}function On(t){var e=t.state,r=t.options,o=t.name,a=r.mainAxis,s=a===void 0?!0:a,l=r.altAxis,i=l===void 0?!1:l,c=r.boundary,d=r.rootBoundary,p=r.altBoundary,v=r.padding,w=r.tether,f=w===void 0?!0:w,T=r.tetherOffset,m=T===void 0?0:T,b=st(e,{boundary:c,rootBoundary:d,padding:v,altBoundary:p}),h=ve(e.placement),P=ze(e.placement),O=!P,g=Ut(h),A=An(g),x=e.modifiersData.popperOffsets,R=e.rects.reference,k=e.rects.popper,I=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,M=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,S={x:0,y:0};if(x){if(s){var y,C=g==="y"?re:oe,$=g==="y"?pe:de,W=g==="y"?"height":"width",B=x[g],N=B+b[C],V=B-b[$],q=f?-k[W]/2:0,se=P===Le?R[W]:k[W],F=P===Le?-k[W]:-R[W],ie=e.elements.arrow,G=f&&ie?Lt(ie):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$r(),K=Y[C],j=Y[$],U=rt(0,R[W],G[W]),J=O?R[W]/2-q-U-K-M.mainAxis:se-U-K-M.mainAxis,ge=O?-R[W]/2+q+U+j+M.mainAxis:F+U+j+M.mainAxis,Z=e.elements.arrow&&lt(e.elements.arrow),X=Z?g==="y"?Z.clientTop||0:Z.clientLeft||0:0,le=(y=D==null?void 0:D[g])!=null?y:0,De=B+J-le-X,_e=B+ge-le,Ve=rt(f?wt(N,De):N,B,f?Ee(V,_e):V);x[g]=Ve,S[g]=Ve-B}if(i){var Re,We=g==="x"?re:oe,qe=g==="x"?pe:de,he=x[A],Se=A==="y"?"height":"width",Xe=he+b[We],Ye=he-b[qe],Ke=[re,oe].indexOf(h)!==-1,ct=(Re=D==null?void 0:D[A])!=null?Re:0,pt=Ke?Xe:he-R[Se]-k[Se]-ct+M.altAxis,Be=Ke?he+R[Se]+k[Se]-ct-M.altAxis:Ye,dt=f&&Ke?Go(pt,he,Be):rt(f?pt:Xe,he,f?Be:Ye);x[A]=dt,S[A]=dt-he}e.modifiersData[o]=S}}const Dn={name:"preventOverflow",enabled:!0,phase:"main",fn:On,requiresIfExists:["offset"]};function Rn(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Sn(t){return t===ae(t)||!ce(t)?Nt(t):Rn(t)}function Mn(t){var e=t.getBoundingClientRect(),r=Ue(e.width)/t.offsetWidth||1,o=Ue(e.height)/t.offsetHeight||1;return r!==1||o!==1}function kn(t,e,r){r===void 0&&(r=!1);var o=ce(e),a=ce(e)&&Mn(e),s=Oe(e),l=Ne(t,a,r),i={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!r)&&((xe(e)!=="body"||Ft(s))&&(i=Sn(e)),ce(e)?(c=Ne(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=zt(s))),{x:l.left+i.scrollLeft-c.x,y:l.top+i.scrollTop-c.y,width:l.width,height:l.height}}function In(t){var e=new Map,r=new Set,o=[];t.forEach(function(s){e.set(s.name,s)});function a(s){r.add(s.name);var l=[].concat(s.requires||[],s.requiresIfExists||[]);l.forEach(function(i){if(!r.has(i)){var c=e.get(i);c&&a(c)}}),o.push(s)}return t.forEach(function(s){r.has(s.name)||a(s)}),o}function En(t){var e=In(t);return Ho.reduce(function(r,o){return r.concat(e.filter(function(a){return a.phase===o}))},[])}function $n(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function _n(t){var e=t.reduce(function(r,o){var a=r[o.name];return r[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,r},{});return Object.keys(e).map(function(r){return e[r]})}var mr={placement:"bottom",modifiers:[],strategy:"absolute"};function gr(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Wn(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,o=r===void 0?[]:r,a=e.defaultOptions,s=a===void 0?mr:a;return function(i,c,d){d===void 0&&(d=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},mr,s),modifiersData:{},elements:{reference:i,popper:c},attributes:{},styles:{}},v=[],w=!1,f={state:p,setOptions:function(h){var P=typeof h=="function"?h(p.options):h;m(),p.options=Object.assign({},s,p.options,P),p.scrollParents={reference:$e(i)?ot(i):i.contextElement?ot(i.contextElement):[],popper:ot(c)};var O=En(_n([].concat(o,p.options.modifiers)));return p.orderedModifiers=O.filter(function(g){return g.enabled}),T(),f.update()},forceUpdate:function(){if(!w){var h=p.elements,P=h.reference,O=h.popper;if(gr(P,O)){p.rects={reference:kn(P,lt(O),p.options.strategy==="fixed"),popper:Lt(O)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(M){return p.modifiersData[M.name]=Object.assign({},M.data)});for(var g=0;g<p.orderedModifiers.length;g++){if(p.reset===!0){p.reset=!1,g=-1;continue}var A=p.orderedModifiers[g],x=A.fn,R=A.options,k=R===void 0?{}:R,I=A.name;typeof x=="function"&&(p=x({state:p,options:k,name:I,instance:f})||p)}}}},update:$n(function(){return new Promise(function(b){f.forceUpdate(),b(p)})}),destroy:function(){m(),w=!0}};if(!gr(i,c))return f;f.setOptions(d).then(function(b){!w&&d.onFirstUpdate&&d.onFirstUpdate(b)});function T(){p.orderedModifiers.forEach(function(b){var h=b.name,P=b.options,O=P===void 0?{}:P,g=b.effect;if(typeof g=="function"){var A=g({state:p,name:h,instance:f,options:O}),x=function(){};v.push(A||x)}})}function m(){v.forEach(function(b){return b()}),v=[]}return f}}var Bn=[sn,Pn,nn,Xo,jn,bn,Dn,en,yn],Ln=Wn({defaultModifiers:Bn});function Un(t){return we("MuiPopper",t)}Ce("MuiPopper",["root"]);function Nn(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function It(t){return typeof t=="function"?t():t}function zn(t){return t.nodeType!==void 0}const Fn=t=>{const{classes:e}=t;return je({root:["root"]},Un,e)},Hn={},Vn=u.forwardRef(function(e,r){const{anchorEl:o,children:a,direction:s,disablePortal:l,modifiers:i,open:c,placement:d,popperOptions:p,popperRef:v,slotProps:w={},slots:f={},TransitionProps:T,ownerState:m,...b}=e,h=u.useRef(null),P=St(h,r),O=u.useRef(null),g=St(O,v),A=u.useRef(g);Qt(()=>{A.current=g},[g]),u.useImperativeHandle(v,()=>O.current,[]);const x=Nn(d,s),[R,k]=u.useState(x),[I,M]=u.useState(It(o));u.useEffect(()=>{O.current&&O.current.forceUpdate()}),u.useEffect(()=>{o&&M(It(o))},[o]),Qt(()=>{if(!I||!c)return;const $=N=>{k(N.placement)};let W=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:N})=>{$(N)}}];i!=null&&(W=W.concat(i)),p&&p.modifiers!=null&&(W=W.concat(p.modifiers));const B=Ln(I,h.current,{placement:x,...p,modifiers:W});return A.current(B),()=>{B.destroy(),A.current(null)}},[I,l,i,c,p,x]);const D={placement:R};T!==null&&(D.TransitionProps=T);const S=Fn(e),y=f.root??"div",C=Oo({elementType:y,externalSlotProps:w.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:P},ownerState:e,className:S.root});return n.jsx(y,{...C,children:typeof a=="function"?a(D):a})}),qn=u.forwardRef(function(e,r){const{anchorEl:o,children:a,container:s,direction:l="ltr",disablePortal:i=!1,keepMounted:c=!1,modifiers:d,open:p,placement:v="bottom",popperOptions:w=Hn,popperRef:f,style:T,transition:m=!1,slotProps:b={},slots:h={},...P}=e,[O,g]=u.useState(!0),A=()=>{g(!1)},x=()=>{g(!0)};if(!c&&!p&&(!m||O))return null;let R;if(s)R=s;else if(o){const M=It(o);R=M&&zn(M)?ar(M).body:ar(null).body}const k=!p&&c&&(!m||O)?"none":void 0,I=m?{in:p,onEnter:A,onExited:x}:void 0;return n.jsx(Ao,{disablePortal:i,container:R,children:n.jsx(Vn,{anchorEl:o,direction:l,disablePortal:i,modifiers:d,ref:r,open:m?!O:p,placement:v,popperOptions:w,popperRef:f,slotProps:b,slots:h,...P,style:{position:"fixed",top:0,left:0,display:k,...T},TransitionProps:I,children:a})})}),Xn=Q(qn,{name:"MuiPopper",slot:"Root"})({}),Ur=u.forwardRef(function(e,r){const o=wr(),a=Te({props:e,name:"MuiPopper"}),{anchorEl:s,component:l,components:i,componentsProps:c,container:d,disablePortal:p,keepMounted:v,modifiers:w,open:f,placement:T,popperOptions:m,popperRef:b,transition:h,slots:P,slotProps:O,...g}=a,A=(P==null?void 0:P.root)??(i==null?void 0:i.Root),x={anchorEl:s,container:d,disablePortal:p,keepMounted:v,modifiers:w,open:f,placement:T,popperOptions:m,popperRef:b,transition:h,...g};return n.jsx(Xn,{as:l,direction:o?"rtl":"ltr",slots:{root:A},slotProps:O??c,...x,ref:r})});function Yn(t){const{badgeContent:e,invisible:r=!1,max:o=99,showZero:a=!1}=t,s=Sr({badgeContent:e,max:o});let l=r;r===!1&&e===0&&!a&&(l=!0);const{badgeContent:i,max:c=o}=l?s:t,d=i&&Number(i)>c?`${c}+`:i;return{badgeContent:i,invisible:l,max:c,displayValue:d}}function Kn(t){return we("MuiBadge",t)}const Pe=Ce("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),At=10,Ot=4,Gn=t=>{const{color:e,anchorOrigin:r,invisible:o,overlap:a,variant:s,classes:l={}}=t,i={root:["root"],badge:["badge",s,o&&"invisible",`anchorOrigin${H(r.vertical)}${H(r.horizontal)}`,`anchorOrigin${H(r.vertical)}${H(r.horizontal)}${H(a)}`,`overlap${H(a)}`,e!=="default"&&`color${H(e)}`]};return je(i,Kn,l)},Jn=Q("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Zn=Q("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.badge,e[r.variant],e[`anchorOrigin${H(r.anchorOrigin.vertical)}${H(r.anchorOrigin.horizontal)}${H(r.overlap)}`],r.color!=="default"&&e[`color${H(r.color)}`],r.invisible&&e.invisible]}})(Fe(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:At*2,lineHeight:1,padding:"0 6px",height:At*2,borderRadius:At,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(mo(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Ot,height:Ot*2,minWidth:Ot*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Pe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function hr(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const Qn=u.forwardRef(function(e,r){const o=Te({props:e,name:"MuiBadge"}),{anchorOrigin:a,className:s,classes:l,component:i,components:c={},componentsProps:d={},children:p,overlap:v="rectangular",color:w="default",invisible:f=!1,max:T=99,badgeContent:m,slots:b,slotProps:h,showZero:P=!1,variant:O="standard",...g}=o,{badgeContent:A,invisible:x,max:R,displayValue:k}=Yn({max:T,invisible:f,badgeContent:m,showZero:P}),I=Sr({anchorOrigin:hr(a),color:w,overlap:v,variant:O,badgeContent:m}),M=x||A==null&&O!=="dot",{color:D=w,overlap:S=v,anchorOrigin:y,variant:C=O}=M?I:o,$=hr(y),W=C!=="dot"?k:void 0,B={...o,badgeContent:A,invisible:M,max:R,displayValue:W,showZero:P,anchorOrigin:$,color:D,overlap:S,variant:C},N=Gn(B),V={slots:{root:(b==null?void 0:b.root)??c.Root,badge:(b==null?void 0:b.badge)??c.Badge},slotProps:{root:(h==null?void 0:h.root)??d.root,badge:(h==null?void 0:h.badge)??d.badge}},[q,se]=te("root",{elementType:Jn,externalForwardedProps:{...V,...g},ownerState:B,className:be(N.root,s),ref:r,additionalProps:{as:i}}),[F,ie]=te("badge",{elementType:Zn,externalForwardedProps:V,ownerState:B,className:N.badge});return n.jsxs(q,{...se,children:[p,n.jsx(F,{...ie,children:W})]})});function ea(t){return we("MuiDialog",t)}const Dt=Ce("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Nr=u.createContext({}),ta=Q(Ro,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),ra=t=>{const{classes:e,scroll:r,maxWidth:o,fullWidth:a,fullScreen:s}=t,l={root:["root"],container:["container",`scroll${H(r)}`],paper:["paper",`paperScroll${H(r)}`,`paperWidth${H(String(o))}`,a&&"paperFullWidth",s&&"paperFullScreen"]};return je(l,ea,e)},oa=Q(Do,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),na=Q("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${H(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),aa=Q(Cr,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${H(r.scroll)}`],e[`paperWidth${H(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(Fe(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Dt.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Dt.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Dt.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Ht=u.forwardRef(function(e,r){const o=Te({props:e,name:"MuiDialog"}),a=_t(),s={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":i,"aria-modal":c=!0,BackdropComponent:d,BackdropProps:p,children:v,className:w,disableEscapeKeyDown:f=!1,fullScreen:T=!1,fullWidth:m=!1,maxWidth:b="sm",onClick:h,onClose:P,open:O,PaperComponent:g=Cr,PaperProps:A={},scroll:x="paper",slots:R={},slotProps:k={},TransitionComponent:I=sr,transitionDuration:M=s,TransitionProps:D,...S}=o,y={...o,disableEscapeKeyDown:f,fullScreen:T,fullWidth:m,maxWidth:b,scroll:x},C=ra(y),$=u.useRef(),W=le=>{$.current=le.target===le.currentTarget},B=le=>{h&&h(le),$.current&&($.current=null,P&&P(le,"backdropClick"))},N=Dr(i),V=u.useMemo(()=>({titleId:N}),[N]),q={transition:I,...R},se={transition:D,paper:A,backdrop:p,...k},F={slots:q,slotProps:se},[ie,G]=te("root",{elementType:oa,shouldForwardComponentProp:!0,externalForwardedProps:F,ownerState:y,className:be(C.root,w),ref:r}),[Y,K]=te("backdrop",{elementType:ta,shouldForwardComponentProp:!0,externalForwardedProps:F,ownerState:y}),[j,U]=te("paper",{elementType:aa,shouldForwardComponentProp:!0,externalForwardedProps:F,ownerState:y,className:be(C.paper,A.className)}),[J,ge]=te("container",{elementType:na,externalForwardedProps:F,ownerState:y,className:C.container}),[Z,X]=te("transition",{elementType:sr,externalForwardedProps:F,ownerState:y,additionalProps:{appear:!0,in:O,timeout:M,role:"presentation"}});return n.jsx(ie,{closeAfterTransition:!0,slots:{backdrop:Y},slotProps:{backdrop:{transitionDuration:M,as:d,...K}},disableEscapeKeyDown:f,onClose:P,open:O,onClick:B,...G,...S,children:n.jsx(Z,{...X,children:n.jsx(J,{onMouseDown:W,...ge,children:n.jsx(j,{as:g,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":N,"aria-modal":c,...U,children:n.jsx(Nr.Provider,{value:V,children:v})})})})})});function sa(t){return we("MuiDialogActions",t)}Ce("MuiDialogActions",["root","spacing"]);const ia=t=>{const{classes:e,disableSpacing:r}=t;return je({root:["root",!r&&"spacing"]},sa,e)},la=Q("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Vt=u.forwardRef(function(e,r){const o=Te({props:e,name:"MuiDialogActions"}),{className:a,disableSpacing:s=!1,...l}=o,i={...o,disableSpacing:s},c=ia(i);return n.jsx(la,{className:be(c.root,a),ownerState:i,ref:r,...l})});function ca(t){return we("MuiDialogContent",t)}Ce("MuiDialogContent",["root","dividers"]);function pa(t){return we("MuiDialogTitle",t)}const da=Ce("MuiDialogTitle",["root"]),ua=t=>{const{classes:e,dividers:r}=t;return je({root:["root",r&&"dividers"]},ca,e)},fa=Q("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(Fe(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${da.root} + &`]:{paddingTop:0}}}]}))),qt=u.forwardRef(function(e,r){const o=Te({props:e,name:"MuiDialogContent"}),{className:a,dividers:s=!1,...l}=o,i={...o,dividers:s},c=ua(i);return n.jsx(fa,{className:be(c.root,a),ownerState:i,ref:r,...l})}),ma=t=>{const{classes:e}=t;return je({root:["root"]},pa,e)},ga=Q(E,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Xt=u.forwardRef(function(e,r){const o=Te({props:e,name:"MuiDialogTitle"}),{className:a,id:s,...l}=o,i=o,c=ma(i),{titleId:d=s}=u.useContext(Nr);return n.jsx(ga,{component:"h2",className:be(c.root,a),ownerState:i,ref:r,variant:"h6",id:s??d,...l})});function ha(t){return we("MuiListItemAvatar",t)}Ce("MuiListItemAvatar",["root","alignItemsFlexStart"]);const va=t=>{const{alignItems:e,classes:r}=t;return je({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},ha,r)},ba=Q("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),zr=u.forwardRef(function(e,r){const o=Te({props:e,name:"MuiListItemAvatar"}),{className:a,...s}=o,l=u.useContext(jr),i={...o,alignItems:l.alignItems},c=va(i);return n.jsx(ba,{className:be(c.root,a),ownerState:i,ref:r,...s})});function xa(t){return we("MuiListItemText",t)}const gt=Ce("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),ya=t=>{const{classes:e,inset:r,primary:o,secondary:a,dense:s}=t;return je({root:["root",r&&"inset",s&&"dense",o&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},xa,e)},wa=Q("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${gt.primary}`]:e.primary},{[`& .${gt.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${er.root}:where(& .${gt.primary})`]:{display:"block"},[`.${er.root}:where(& .${gt.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Fr=u.forwardRef(function(e,r){const o=Te({props:e,name:"MuiListItemText"}),{children:a,className:s,disableTypography:l=!1,inset:i=!1,primary:c,primaryTypographyProps:d,secondary:p,secondaryTypographyProps:v,slots:w={},slotProps:f={},...T}=o,{dense:m}=u.useContext(jr);let b=c??a,h=p;const P={...o,disableTypography:l,inset:i,primary:!!b,secondary:!!h,dense:m},O=ya(P),g={slots:w,slotProps:{primary:d,secondary:v,...f}},[A,x]=te("root",{className:be(O.root,s),elementType:wa,externalForwardedProps:{...g,...T},ownerState:P,ref:r}),[R,k]=te("primary",{className:O.primary,elementType:E,externalForwardedProps:g,ownerState:P}),[I,M]=te("secondary",{className:O.secondary,elementType:E,externalForwardedProps:g,ownerState:P});return b!=null&&b.type!==E&&!l&&(b=n.jsx(R,{variant:m?"body2":"body1",component:k!=null&&k.variant?void 0:"span",...k,children:b})),h!=null&&h.type!==E&&!l&&(h=n.jsx(I,{variant:"body2",color:"textSecondary",...M,children:h})),n.jsxs(A,{...x,children:[b,h]})});function Ca(t){return we("MuiTooltip",t)}const z=Ce("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function ja(t){return Math.round(t*1e5)/1e5}const Ta=t=>{const{classes:e,disableInteractive:r,arrow:o,touch:a,placement:s}=t,l={popper:["popper",!r&&"popperInteractive",o&&"popperArrow"],tooltip:["tooltip",o&&"tooltipArrow",a&&"touch",`tooltipPlacement${H(s.split("-")[0])}`],arrow:["arrow"]};return je(l,Ca,e)},Pa=Q(Ur,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(Fe(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${z.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${z.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${z.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${z.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${z.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${z.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${z.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${z.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Aa=Q("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${H(r.placement.split("-")[0])}`]]}})(Fe(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Tr(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${z.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${z.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${z.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${z.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${ja(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${z.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${z.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${z.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${z.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${z.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${z.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${z.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${z.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${z.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${z.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Oa=Q("span",{name:"MuiTooltip",slot:"Arrow"})(Fe(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Tr(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let ht=!1;const vr=new go;let Qe={x:0,y:0};function vt(t,e){return(r,...o)=>{e&&e(r,...o),t(r,...o)}}const Et=u.forwardRef(function(e,r){const o=Te({props:e,name:"MuiTooltip"}),{arrow:a=!1,children:s,classes:l,components:i={},componentsProps:c={},describeChild:d=!1,disableFocusListener:p=!1,disableHoverListener:v=!1,disableInteractive:w=!1,disableTouchListener:f=!1,enterDelay:T=100,enterNextDelay:m=0,enterTouchDelay:b=700,followCursor:h=!1,id:P,leaveDelay:O=0,leaveTouchDelay:g=1500,onClose:A,onOpen:x,open:R,placement:k="bottom",PopperComponent:I,PopperProps:M={},slotProps:D={},slots:S={},title:y,TransitionComponent:C,TransitionProps:$,...W}=o,B=u.isValidElement(s)?s:n.jsx("span",{children:s}),N=_t(),V=wr(),[q,se]=u.useState(),[F,ie]=u.useState(null),G=u.useRef(!1),Y=w||h,K=ft(),j=ft(),U=ft(),J=ft(),[ge,Z]=So({controlled:R,default:!1,name:"Tooltip",state:"open"});let X=ge;const le=Dr(P),De=u.useRef(),_e=tr(()=>{De.current!==void 0&&(document.body.style.WebkitUserSelect=De.current,De.current=void 0),J.clear()});u.useEffect(()=>_e,[_e]);const Ve=_=>{vr.clear(),ht=!0,Z(!0),x&&!X&&x(_)},Re=tr(_=>{vr.start(800+O,()=>{ht=!1}),Z(!1),A&&X&&A(_),K.start(N.transitions.duration.shortest,()=>{G.current=!1})}),We=_=>{G.current&&_.type!=="touchstart"||(q&&q.removeAttribute("title"),j.clear(),U.clear(),T||ht&&m?j.start(ht?m:T,()=>{Ve(_)}):Ve(_))},qe=_=>{j.clear(),U.start(O,()=>{Re(_)})},[,he]=u.useState(!1),Se=_=>{rr(_.target)||(he(!1),qe(_))},Xe=_=>{q||se(_.currentTarget),rr(_.target)&&(he(!0),We(_))},Ye=_=>{G.current=!0;const me=B.props;me.onTouchStart&&me.onTouchStart(_)},Ke=_=>{Ye(_),U.clear(),K.clear(),_e(),De.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",J.start(b,()=>{document.body.style.WebkitUserSelect=De.current,We(_)})},ct=_=>{B.props.onTouchEnd&&B.props.onTouchEnd(_),_e(),U.start(g,()=>{Re(_)})};u.useEffect(()=>{if(!X)return;function _(me){me.key==="Escape"&&Re(me)}return document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[Re,X]);const pt=St(Mo(B),se,r);!y&&y!==0&&(X=!1);const Be=u.useRef(),dt=_=>{const me=B.props;me.onMouseMove&&me.onMouseMove(_),Qe={x:_.clientX,y:_.clientY},Be.current&&Be.current.update()},Ge={},Tt=typeof y=="string";d?(Ge.title=!X&&Tt&&!v?y:null,Ge["aria-describedby"]=X?le:null):(Ge["aria-label"]=Tt?y:null,Ge["aria-labelledby"]=X&&!Tt?le:null);const ue={...Ge,...W,...B.props,className:be(W.className,B.props.className),onTouchStart:Ye,ref:pt,...h?{onMouseMove:dt}:{}},Je={};f||(ue.onTouchStart=Ke,ue.onTouchEnd=ct),v||(ue.onMouseOver=vt(We,ue.onMouseOver),ue.onMouseLeave=vt(qe,ue.onMouseLeave),Y||(Je.onMouseOver=We,Je.onMouseLeave=qe)),p||(ue.onFocus=vt(Xe,ue.onFocus),ue.onBlur=vt(Se,ue.onBlur),Y||(Je.onFocus=Xe,Je.onBlur=Se));const Me={...o,isRtl:V,arrow:a,disableInteractive:Y,placement:k,PopperComponentProp:I,touch:G.current},fe=typeof D.popper=="function"?D.popper(Me):D.popper,oo=u.useMemo(()=>{var me,Zt;let _=[{name:"arrow",enabled:!!F,options:{element:F,padding:4}}];return(me=M.popperOptions)!=null&&me.modifiers&&(_=_.concat(M.popperOptions.modifiers)),(Zt=fe==null?void 0:fe.popperOptions)!=null&&Zt.modifiers&&(_=_.concat(fe.popperOptions.modifiers)),{...M.popperOptions,...fe==null?void 0:fe.popperOptions,modifiers:_}},[F,M.popperOptions,fe==null?void 0:fe.popperOptions]),Pt=Ta(Me),no=typeof D.transition=="function"?D.transition(Me):D.transition,ut={slots:{popper:i.Popper,transition:i.Transition??C,tooltip:i.Tooltip,arrow:i.Arrow,...S},slotProps:{arrow:D.arrow??c.arrow,popper:{...M,...fe??c.popper},tooltip:D.tooltip??c.tooltip,transition:{...$,...no??c.transition}}},[ao,so]=te("popper",{elementType:Pa,externalForwardedProps:ut,ownerState:Me,className:be(Pt.popper,M==null?void 0:M.className)}),[io,lo]=te("transition",{elementType:ko,externalForwardedProps:ut,ownerState:Me}),[co,po]=te("tooltip",{elementType:Aa,className:Pt.tooltip,externalForwardedProps:ut,ownerState:Me}),[uo,fo]=te("arrow",{elementType:Oa,className:Pt.arrow,externalForwardedProps:ut,ownerState:Me,ref:ie});return n.jsxs(u.Fragment,{children:[u.cloneElement(B,ue),n.jsx(ao,{as:I??Ur,placement:k,anchorEl:h?{getBoundingClientRect:()=>({top:Qe.y,left:Qe.x,right:Qe.x,bottom:Qe.y,width:0,height:0})}:q,popperRef:Be,open:q?X:!1,id:le,transition:!0,...Je,...so,popperOptions:oo,children:({TransitionProps:_})=>n.jsx(io,{timeout:N.transitions.duration.shorter,..._,...lo,children:n.jsxs(co,{...po,children:[y,a?n.jsx(uo,{...fo}):null]})})})]})});class Da extends u.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const o=r.offsetParent,a=vo(o)&&o.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ra({children:t,isPresent:e,anchorX:r,root:o}){const a=u.useId(),s=u.useRef(null),l=u.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:i}=u.useContext(ho);return u.useInsertionEffect(()=>{const{width:c,height:d,top:p,left:v,right:w}=l.current;if(e||!s.current||!c||!d)return;const f=r==="left"?`left: ${v}`:`right: ${w}`;s.current.dataset.motionPopId=a;const T=document.createElement("style");i&&(T.nonce=i);const m=o??document.head;return m.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${f}px !important;
            top: ${p}px !important;
          }
        `),()=>{m.removeChild(T),m.contains(T)&&m.removeChild(T)}},[e]),n.jsx(Da,{isPresent:e,childRef:s,sizeRef:l,children:u.cloneElement(t,{ref:s})})}const Sa=({children:t,initial:e,isPresent:r,onExitComplete:o,custom:a,presenceAffectsLayout:s,mode:l,anchorX:i,root:c})=>{const d=Pr(Ma),p=u.useId();let v=!0,w=u.useMemo(()=>(v=!1,{id:p,initial:e,isPresent:r,custom:a,onExitComplete:f=>{d.set(f,!0);for(const T of d.values())if(!T)return;o&&o()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[r,d,o]);return s&&v&&(w={...w}),u.useMemo(()=>{d.forEach((f,T)=>d.set(T,!1))},[r]),u.useEffect(()=>{!r&&!d.size&&o&&o()},[r]),l==="popLayout"&&(t=n.jsx(Ra,{isPresent:r,anchorX:i,root:c,children:t})),n.jsx(bo.Provider,{value:w,children:t})};function Ma(){return new Map}const bt=t=>t.key||"";function br(t){const e=[];return u.Children.forEach(t,r=>{u.isValidElement(r)&&e.push(r)}),e}const ka=({children:t,custom:e,initial:r=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:s="sync",propagate:l=!1,anchorX:i="left",root:c})=>{const[d,p]=xo(l),v=u.useMemo(()=>br(t),[t]),w=l&&!d?[]:v.map(bt),f=u.useRef(!0),T=u.useRef(v),m=Pr(()=>new Map),[b,h]=u.useState(v),[P,O]=u.useState(v);yo(()=>{f.current=!1,T.current=v;for(let x=0;x<P.length;x++){const R=bt(P[x]);w.includes(R)?m.delete(R):m.get(R)!==!0&&m.set(R,!1)}},[P,w.length,w.join("-")]);const g=[];if(v!==b){let x=[...v];for(let R=0;R<P.length;R++){const k=P[R],I=bt(k);w.includes(I)||(x.splice(R,0,k),g.push(k))}return s==="wait"&&g.length&&(x=g),O(br(x)),h(v),null}const{forceRender:A}=u.useContext(wo);return n.jsx(n.Fragment,{children:P.map(x=>{const R=bt(x),k=l&&!d?!1:v===P||w.includes(R),I=()=>{if(m.has(R))m.set(R,!0);else return;let M=!0;m.forEach(D=>{D||(M=!1)}),M&&(A==null||A(),O(T.current),l&&(p==null||p()),o&&o())};return n.jsx(Sa,{isPresent:k,initial:!f.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:k?void 0:I,anchorX:i,children:x},R)})})},Ia=Ae(n.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Ea=Ae([n.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),n.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")]),$a=Ae(n.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),Rt=Ae(n.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"})),_a=Ae(n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),xr=Ae(n.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),yr=Ae(n.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Wa=Ae(n.jsx("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"})),Yt=()=>{var t;if(console.log("Инициализация Telegram WebApp..."),Gt(),typeof window<"u"&&((t=window.Telegram)!=null&&t.WebApp))try{const e=window.Telegram.WebApp;return e.ready(),e.expand(),e.setHeaderColor("#232b3b"),e.setBackgroundColor("#232b3b"),e.enableClosingConfirmation(),console.log("Telegram WebApp успешно инициализирован"),console.log("WebApp version:",e.version),console.log("WebApp platform:",e.platform),console.log("WebApp theme:",e.colorScheme),!0}catch(e){return console.error("Ошибка инициализации Telegram WebApp:",e),!1}return console.log("Telegram WebApp не найден"),!1},Hr=()=>{var t,e,r;return typeof window<"u"&&((r=(e=(t=window.Telegram)==null?void 0:t.WebApp)==null?void 0:e.initDataUnsafe)!=null&&r.user)?window.Telegram.WebApp.initDataUnsafe.user:null},Kt=()=>{var t;if(console.log("=== Telegram WebApp Debug Info ==="),typeof window>"u"){console.log("❌ Window object not available");return}if(console.log("🔍 Telegram object:",window.Telegram?"✅ Available":"❌ Not available"),(t=window.Telegram)!=null&&t.WebApp){const e=window.Telegram.WebApp;console.log("🔍 WebApp object:","✅ Available"),console.log("🔍 WebApp version:",e.version),console.log("🔍 WebApp platform:",e.platform),console.log("🔍 WebApp colorScheme:",e.colorScheme),console.log("🔍 WebApp isExpanded:",e.isExpanded),console.log("🔍 WebApp viewportHeight:",e.viewportHeight),console.log("🔍 WebApp viewportStableHeight:",e.viewportStableHeight),console.log("🔍 InitData:",e.initData?`✅ Available (${e.initData.length} chars)`:"❌ Not available"),console.log("🔍 InitDataUnsafe:",e.initDataUnsafe?"✅ Available":"❌ Not available"),e.initDataUnsafe&&(console.log("🔍 InitDataUnsafe.user:",e.initDataUnsafe.user?"✅ Available":"❌ Not available"),console.log("🔍 InitDataUnsafe.query_id:",e.initDataUnsafe.query_id?"✅ Available":"❌ Not available"),console.log("🔍 InitDataUnsafe.auth_date:",e.initDataUnsafe.auth_date?"✅ Available":"❌ Not available"),console.log("🔍 InitDataUnsafe.hash:",e.initDataUnsafe.hash?"✅ Available":"❌ Not available"),e.initDataUnsafe.user&&console.log("🔍 User data:",JSON.stringify(e.initDataUnsafe.user,null,2)))}else console.log("❌ WebApp object not available");console.log("==================================")},He=()=>{var t;if(console.log("Получение данных авторизации Telegram..."),Kt(),typeof window<"u"&&((t=window.Telegram)!=null&&t.WebApp)){console.log("Telegram WebApp найден");const e=window.Telegram.WebApp.initData;if(console.log("Telegram initData:",e?"найден":"отсутствует"),e)return console.log("✅ Используем реальные данные initData"),e;const r=window.Telegram.WebApp.initDataUnsafe;if(console.log("Telegram initDataUnsafe:",r),r!=null&&r.user){const o=Math.floor(Date.now()/1e3),a=JSON.stringify(r.user),s=`user=${encodeURIComponent(a)}`,l=`auth_date=${o}`,i=`${s}&${l}`,c=btoa(i).replace(/[^a-zA-Z0-9]/g,"").substring(0,32),d=`${s}&${l}&hash=${c}`;return console.log("✅ Создаем данные авторизации из initDataUnsafe"),console.log("Generated auth data length:",d.length),d}}return console.warn("❌ Приложение запущено не из Telegram WebApp"),console.warn("❌ Данные авторизации недоступны"),""},Vr=()=>{var t;return typeof window<"u"&&!!((t=window.Telegram)!=null&&t.WebApp)},qr=()=>{if(console.log("🔄 Очищаем и пересоздаем данные авторизации..."),typeof window<"u"){localStorage.removeItem("telegram_init_data"),console.log("✅ Старые данные очищены");const t=He();return console.log("✅ Новые данные созданы:",t?"успешно":"ошибка"),t}return""},Gt=()=>{typeof window<"u"&&(localStorage.removeItem("telegram_init_data"),console.log("🧹 Очищены старые данные авторизации"))},Xr=()=>{console.log("🧪 Тестируем данные авторизации...");const t=He();if(t){console.log("✅ Данные авторизации найдены"),console.log("📊 Длина:",t.length),console.log("📋 Превью:",t.substring(0,100)+"...");try{const e=new URLSearchParams(t),r=e.get("user"),o=e.get("auth_date"),a=e.get("hash");if(console.log("🔍 Структура данных:"),console.log("  - user:",r?"есть":"отсутствует"),console.log("  - auth_date:",o?"есть":"отсутствует"),console.log("  - hash:",a?"есть":"отсутствует"),r){const s=JSON.parse(decodeURIComponent(r));console.log("👤 Данные пользователя:",s)}return!0}catch(e){return console.error("❌ Ошибка парсинга данных:",e),!1}}else return console.error("❌ Данные авторизации не найдены"),!1},Jt=async()=>{console.log("🔬 Диагностика проблемы авторизации на сервере...");try{const{debugAuthConfig:t,debugValidateTelegramData:e}=await nt(async()=>{const{debugAuthConfig:o,debugValidateTelegramData:a}=await Promise.resolve().then(()=>Ct);return{debugAuthConfig:o,debugValidateTelegramData:a}},void 0);console.log("🔍 Проверяем конфигурацию сервера...");try{const o=await t();if(console.log("🏃 Конфигурация сервера:",o),!o.telegram_bot_token_set)return console.error("❌ На сервере не установлен токен Telegram бота!"),console.error("💡 Решение: Администратор должен установить TELEGRAM_BOT_TOKEN на сервере"),"server_no_token";console.log("✅ Токен бота на сервере установлен")}catch(o){return console.error("❌ Ошибка получения конфигурации сервера:",o),"server_config_error"}const r=He();if(r){console.log("🧪 Тестируем валидацию данных на сервере...");try{const o=await e(r);return console.log("📊 Результат валидации:",o),o.success?(console.log("✅ Валидация на сервере прошла успешно!"),console.log("❓ Возможно, проблема в другом месте"),"validation_success"):(console.error("❌ Валидация на сервере не прошла"),console.error("💡 Причина: Неправильная подпись или истекшие данные"),"validation_failed")}catch(o){return console.error("❌ Ошибка тестирования валидации:",o),"validation_error"}}else return console.error("❌ Нет данных для тестирования"),"no_data"}catch(t){return console.error("❌ Общая ошибка диагностики:",t),"general_error"}};typeof window<"u"&&(window.telegramUtils={debugTelegramWebApp:Kt,getTelegramInitData:He,clearAndRecreateAuthData:qr,cleanupOldAuthData:Gt,testAuthData:Xr,initTelegramWebApp:Yt,diagnoseServerAuth:Jt},console.log("🔧 Утилиты Telegram доступны через window.telegramUtils"));const Ba=Object.freeze(Object.defineProperty({__proto__:null,cleanupOldAuthData:Gt,clearAndRecreateAuthData:qr,debugTelegramWebApp:Kt,diagnoseServerAuth:Jt,getTelegramInitData:He,getTelegramUser:Hr,initTelegramWebApp:Yt,isTelegramWebApp:Vr,testAuthData:Xr},Symbol.toStringTag,{value:"Module"})),La=()=>{console.log("=== Aeon Messenger API Configuration ==="),console.log("VITE_CHAT_URL:","https://aeon-messenger-app-09faae856b73.herokuapp.com"),console.log("Base URL:","https://aeon-messenger-app-09faae856b73.herokuapp.com"),console.log("Environment:","production"),console.log("🆕 NEW BACKEND URL: https://aeon-backend-2892-d50dfbe26b14.herokuapp.com"),console.log("=========================================")};La();const ee=To.create({baseURL:"https://aeon-backend-2892-d50dfbe26b14.herokuapp.com",timeout:1e4,headers:{"Content-Type":"application/json"}});ee.interceptors.request.use(t=>{const e=He();return console.log("=== Aeon API Request Debug ==="),console.log("URL:",t.url),console.log("Method:",t.method),console.log("Base URL:",t.baseURL),console.log("Init Data Length:",e?e.length:0),console.log("Init Data Preview:",e?e.substring(0,100)+"...":"No data"),e?(t.headers["x-telegram-init-data"]=e,console.log("✅ Auth header attached")):(console.warn("❌ No auth data available - running in development mode"),console.warn("❌ This request will likely fail with 401 error")),console.log("==============================="),t},t=>(console.error("Request interceptor error:",t),Promise.reject(t)));ee.interceptors.response.use(t=>(console.log("✅ API Response:",t.config.url,t.status),t),t=>{var e,r,o,a,s,l,i;throw console.error("=== Aeon API Error ==="),console.error("URL:",(e=t.config)==null?void 0:e.url),console.error("Status:",(r=t.response)==null?void 0:r.status),console.error("Status Text:",(o=t.response)==null?void 0:o.statusText),console.error("Response Data:",(a=t.response)==null?void 0:a.data),console.error("Request Headers:",(s=t.config)==null?void 0:s.headers),console.error("======================"),((l=t.response)==null?void 0:l.status)===401?(console.error("❌ Authorization failed"),console.error("❌ Possible reasons:"),console.error("   1. App is not running inside Telegram WebApp"),console.error("   2. Invalid or expired Telegram init data"),console.error("   3. Server-side authorization issue"),console.error("❌ Solution: Open this app from Telegram bot/mini app"),{...t,message:"Authorization failed - app must be opened from Telegram",isAuthError:!0,response:{...t.response,data:{...(i=t.response)==null?void 0:i.data,error:"Приложение должно быть открыто из Telegram"}}}):t});const Yr=async()=>(await ee.get("/api/v1/chats/")).data,Kr=async t=>(await ee.post("/api/v1/chats/",t)).data,Ua=async t=>(await ee.get(`/api/v1/chats/${t}`)).data,Gr=async(t,e)=>{await ee.post(`/api/v1/chats/${t}/members/${e}`)},Jr=async(t,e)=>{await ee.delete(`/api/v1/chats/${t}/members/${e}`)},Zr=async(t,e=1,r=50)=>(await ee.get(`/api/v1/messages/chat/${t}?page=${e}&per_page=${r}`)).data,Qr=async t=>(await ee.post("/api/v1/messages/",t)).data,eo=async t=>{await ee.post(`/api/v1/messages/chat/${t}/read-all`)},to=async()=>(await ee.get("/api/v1/me")).data,Na=async()=>(await ee.get("/api/v1/debug/auth")).data,za=async t=>(await ee.post("/api/v1/debug/validate-telegram-data",t,{headers:{"Content-Type":"application/json"}})).data,$t=async(t,e)=>(await ee.post(`/api/v1/chats/${t}/invite-by-username`,{username:e})).data,ro=async()=>{await ee.post("/api/v1/users/check-invitations")},Ct=Object.freeze(Object.defineProperty({__proto__:null,addMemberToChat:Gr,checkAndAcceptInvitations:ro,createChat:Kr,debugAuthConfig:Na,debugValidateTelegramData:za,getChat:Ua,getChatMessages:Zr,getChats:Yr,getCurrentUser:to,inviteMemberByUsername:$t,markAllMessagesAsRead:eo,removeMemberFromChat:Jr,sendMessage:Qr},Symbol.toStringTag,{value:"Module"})),Fa=()=>{const[t,e]=u.useState([]),[r,o]=u.useState(null),[a,s]=u.useState([]),[l,i]=u.useState(null),[c,d]=u.useState(!0),[p,v]=u.useState(!1),[w,f]=u.useState(null),[T,m]=u.useState(!1),b=u.useCallback(()=>Yt(),[]),h=u.useCallback(async()=>{var D;try{const S=await to();i(S),f(null),m(!1);try{await ro()}catch(y){console.log("No pending invitations or error checking invitations:",y)}}catch(S){if(console.error("Error loading current user:",S),((D=S.response)==null?void 0:D.status)===401||S.isAuthError?(m(!0),f("Приложение должно быть открыто из Telegram для корректной работы")):f("Ошибка загрузки данных пользователя"),!Vr()){const y=Hr();i(y?{id:y.id,telegram_id:y.id,username:y.username,first_name:y.first_name,last_name:y.last_name,profile_photo_url:y.photo_url}:{id:123456789,telegram_id:123456789,username:"testuser",first_name:"Test",last_name:"User",profile_photo_url:void 0}),m(!1)}}},[b]),P=u.useCallback(async()=>{var D;try{d(!0);const S=await Yr();e(S),f(null),m(!1)}catch(S){console.error("Error loading chats:",S),((D=S.response)==null?void 0:D.status)===401||S.isAuthError?(m(!0),f("Приложение должно быть открыто из Telegram для корректной работы")):f("Ошибка загрузки чатов")}finally{d(!1)}},[b]),O=u.useCallback(async D=>{var S;try{v(!0);const y=await Zr(D);s(y.messages),f(null),m(!1)}catch(y){console.error("Error loading messages:",y),((S=y.response)==null?void 0:S.status)===401||y.isAuthError?(m(!0),f("Приложение должно быть открыто из Telegram для корректной работы")):f("Ошибка загрузки сообщений")}finally{v(!1)}},[b]),g=u.useCallback(async(D,S)=>{if(S.trim())try{const y={text:S.trim(),message_type:"text",chat_id:D},C=await Qr(y);s($=>[...$,C]),e($=>$.map(W=>W.id===D?{...W,last_message:S.trim(),last_message_time:new Date().toISOString()}:W))}catch(y){if(console.error("Error sending message:",y),f("Ошибка отправки сообщения"),l){const C={id:Date.now(),text:S.trim(),message_type:"text",chat_id:D,sender_id:l.id,sender:{id:l.id,telegram_id:l.telegram_id,username:l.username,first_name:l.first_name,last_name:l.last_name,profile_photo_url:l.profile_photo_url},is_edited:!1,is_deleted:!1,read_by:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()};s($=>[...$,C])}}},[l]),A=u.useCallback(async(D,S=[],y=[])=>{try{const C={title:D,chat_type:S.length+y.length>0?"group":"private",member_ids:S},$=await Kr(C);if(y.length>0){const{inviteMemberByUsername:B}=await nt(async()=>{const{inviteMemberByUsername:N}=await Promise.resolve().then(()=>Ct);return{inviteMemberByUsername:N}},void 0);for(const N of y)try{await B($.id,N)}catch(V){console.error(`Error inviting ${N}:`,V)}}await P();const W={id:$.id,title:$.title,chat_type:$.chat_type,photo_url:$.photo_url,last_message:void 0,last_message_time:void 0,unread_count:0};return o(W),await O($.id),$}catch(C){throw console.error("Error creating chat:",C),f("Ошибка создания чата"),C}},[P,O]),x=u.useCallback(D=>{o(D),O(D.id),D.unread_count>0&&eo(D.id).catch(S=>console.error("Error marking messages as read:",S))},[O]),R=u.useCallback(()=>{o(null),s([])},[]),k=u.useCallback(async D=>{try{const{getChat:S}=await nt(async()=>{const{getChat:C}=await Promise.resolve().then(()=>Ct);return{getChat:C}},void 0);return await S(D)}catch(S){throw console.error("Error loading chat info:",S),f("Ошибка загрузки информации о чате"),S}},[]),I=u.useCallback(async(D,S)=>{try{await Gr(D,S),f(null)}catch(y){throw console.error("Error adding member to chat:",y),f("Ошибка добавления участника"),y}},[]),M=u.useCallback(async(D,S)=>{try{await Jr(D,S),f(null)}catch(y){throw console.error("Error removing member from chat:",y),f("Ошибка удаления участника"),y}},[]);return u.useEffect(()=>{b(),h(),P()},[b,h,P]),{chats:t,currentChat:r,messages:a,currentUser:l,loading:c,messagesLoading:p,error:w,isAuthError:T,sendNewMessage:g,createNewChat:A,selectChat:x,refreshChats:P,refreshMessages:()=>r&&O(r.id),loadChatInfo:k,addMemberToChat:I,removeMemberFromChat:M,clearCurrentChat:R}},Ha=({open:t,onClose:e})=>{const[r,o]=u.useState(!1),[a,s]=u.useState(null),l=async()=>{o(!0),s(null);try{const d=await Jt(),{debugAuthConfig:p,debugValidateTelegramData:v}=await nt(async()=>{const{debugAuthConfig:h,debugValidateTelegramData:P}=await Promise.resolve().then(()=>Ct);return{debugAuthConfig:h,debugValidateTelegramData:P}},void 0),{getTelegramInitData:w}=await nt(async()=>{const{getTelegramInitData:h}=await Promise.resolve().then(()=>Ba);return{getTelegramInitData:h}},void 0);let f,T,m=[];try{f=await p()}catch{f={error:"Не удалось получить конфигурацию сервера"}}const b=w();if(b)try{T=await v(b)}catch{T={error:"Не удалось протестировать валидацию"}}switch(d){case"server_no_token":m=["Администратор должен установить переменную TELEGRAM_BOT_TOKEN на сервере","Получите токен в @BotFather и добавьте его в настройки Heroku","Перезапустите приложение после установки токена"];break;case"validation_failed":m=["Проверьте правильность токена бота в @BotFather","Убедитесь, что приложение открыто из Telegram","Токен должен соответствовать боту, через который открыто приложение"];break;case"validation_success":m=["Валидация прошла успешно, проблема может быть временной","Попробуйте перезагрузить приложение","Проверьте интернет-соединение"];break;default:m=["Убедитесь, что приложение открыто из Telegram","Проверьте интернет-соединение","Обратитесь к администратору с результатами диагностики"]}s({status:d,serverConfig:f,validationResult:T,recommendations:m})}catch{s({status:"error",recommendations:["Произошла ошибка при диагностике","Проверьте консоль браузера для подробностей"]})}finally{o(!1)}},i=d=>{switch(d){case"validation_success":return"success";case"server_no_token":case"validation_failed":return"error";default:return"warning"}},c=d=>{switch(d){case"server_no_token":return"Токен бота не установлен";case"validation_failed":return"Валидация не прошла";case"validation_success":return"Валидация успешна";case"server_config_error":return"Ошибка конфигурации сервера";case"validation_error":return"Ошибка валидации";case"no_data":return"Нет данных авторизации";case"general_error":return"Общая ошибка";default:return"Неизвестный статус"}};return n.jsxs(Ht,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[n.jsx(Xt,{children:"🔬 Диагностика проблемы авторизации"}),n.jsxs(qt,{children:[!r&&!a&&n.jsx(L,{sx:{textAlign:"center",py:3},children:n.jsx(E,{variant:"body1",sx:{mb:2},children:'Нажмите "Запустить диагностику" для проверки проблемы авторизации'})}),r&&n.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:4},children:[n.jsx(ke,{sx:{mr:2}}),n.jsx(E,{children:"Выполняется диагностика..."})]}),a&&n.jsxs(L,{sx:{py:2},children:[n.jsxs(L,{sx:{mb:3},children:[n.jsx(E,{variant:"h6",sx:{mb:1},children:"Результат диагностики:"}),n.jsx(Rr,{label:c(a.status),color:i(a.status),sx:{mb:2}})]}),a.serverConfig&&n.jsxs(L,{sx:{mb:3},children:[n.jsx(E,{variant:"h6",sx:{mb:1},children:"Конфигурация сервера:"}),n.jsxs(Ie,{severity:a.serverConfig.telegram_bot_token_set?"success":"error",children:[n.jsxs(E,{variant:"body2",children:["Токен бота: ",a.serverConfig.telegram_bot_token_set?"✅ Установлен":"❌ Не установлен"]}),n.jsxs(E,{variant:"body2",children:["Режим отладки: ",a.serverConfig.debug_mode?"Включен":"Выключен"]})]})]}),a.validationResult&&n.jsxs(L,{sx:{mb:3},children:[n.jsx(E,{variant:"h6",sx:{mb:1},children:"Результат валидации:"}),n.jsx(Ie,{severity:a.validationResult.success?"success":"error",children:n.jsxs(E,{variant:"body2",children:["Валидация: ",a.validationResult.success?"✅ Успешна":"❌ Не прошла"]})})]}),n.jsxs(L,{sx:{mb:2},children:[n.jsx(E,{variant:"h6",sx:{mb:1},children:"Рекомендации:"}),a.recommendations.map((d,p)=>n.jsxs(E,{variant:"body2",sx:{mb:1,pl:2},children:["• ",d]},p))]})]})]}),n.jsxs(Vt,{children:[!a&&n.jsx(ne,{onClick:l,disabled:r,variant:"contained",color:"primary",children:"Запустить диагностику"}),a&&n.jsx(ne,{onClick:l,variant:"outlined",children:"Повторить диагностику"}),n.jsx(ne,{onClick:e,children:"Закрыть"})]})]})},Va=({open:t,onClose:e,currentChat:r,loadChatInfo:o,addMemberToChat:a,removeMemberFromChat:s,currentUserId:l})=>{var y;const[i,c]=u.useState(null),[d,p]=u.useState(!1),[v,w]=u.useState(null),[f,T]=u.useState(""),[m,b]=u.useState(""),[h,P]=u.useState("username"),[O,g]=u.useState(!1),[A,x]=u.useState(null);u.useEffect(()=>{t&&r&&R()},[t,r]);const R=async()=>{if(r)try{p(!0),w(null);const C=await o(r.id);c(C)}catch(C){w("Не удалось загрузить информацию о чате"),console.error("Error loading chat details:",C)}finally{p(!1)}},k=async C=>{r&&await a(r.id,C)},I=async C=>{if(!r)return;const $=await $t(r.id,C);$.status==="added"?x({type:"success",message:`✅ @${C} найден и добавлен в чат!`}):$.status==="invited"&&x({type:"info",message:`📨 @${C} не найден в базе. Приглашение создано - пользователь будет добавлен при входе в приложение.`}),setTimeout(()=>x(null),5e3)},M=async()=>{if(!f.trim())return;const C=f.trim(),$=parseInt(C);try{g(!0),w(null),isNaN($)?await I(C.replace(/^@/,"")):await k($),T(""),await R()}catch(W){console.error("Error adding member (ID path):",W),w("Не удалось добавить участника")}finally{g(!1)}},D=async()=>{if(!(!m.trim()||!r))try{g(!0),w(null),x(null);const C=await $t(r.id,m.trim());C.status==="added"?(x({type:"success",message:`✅ @${m.trim()} добавлен в чат!`}),b(""),await R()):C.status==="invited"&&(x({type:"info",message:`📨 Приглашение отправлено @${m.trim()}. Пользователь будет добавлен автоматически при входе в приложение.`}),b("")),setTimeout(()=>x(null),5e3)}catch(C){console.error("Error adding member by username:",C),x({type:"warning",message:"Не удалось добавить участника. Проверьте username и попробуйте снова."})}finally{g(!1)}},S=async C=>{if(r)try{w(null),await s(r.id,C),await R()}catch($){w("Не удалось удалить участника"),console.error("Error removing member:",$)}};return r?n.jsxs(Ht,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[n.jsxs(Xt,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsx(yt,{src:r.photo_url||void 0,sx:{bgcolor:"#4a9eff"},children:r.title?r.title[0].toUpperCase():n.jsx(xr,{})}),n.jsxs(L,{children:[n.jsx(E,{variant:"h6",children:r.title||"Безымянный чат"}),n.jsx(E,{variant:"caption",sx:{color:"#8b95a1"},children:r.chat_type==="private"?"Личный чат":"Групповой чат"})]})]}),n.jsxs(qt,{children:[v&&n.jsx(Ie,{severity:"error",sx:{mb:2},children:v}),d?n.jsx(L,{sx:{display:"flex",justifyContent:"center",py:3},children:n.jsx(ke,{sx:{color:"#4a9eff"}})}):i?n.jsxs(n.Fragment,{children:[n.jsxs(L,{sx:{mb:3},children:[n.jsx(E,{variant:"subtitle1",sx:{mb:1,fontWeight:600},children:"Информация"}),n.jsxs(E,{variant:"body2",sx:{color:"#8b95a1",mb:1},children:["ID чата: ",i.id]}),n.jsxs(E,{variant:"body2",sx:{color:"#8b95a1",mb:1},children:["Создан: ",new Date(i.created_at).toLocaleDateString("ru-RU")]}),i.description&&n.jsxs(E,{variant:"body2",sx:{color:"#8b95a1"},children:["Описание: ",i.description]})]}),n.jsxs(L,{sx:{mb:3},children:[n.jsxs(E,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:["Участники (",((y=i.members)==null?void 0:y.length)||0,")"]}),i.members&&i.members.length>0?n.jsx(Ar,{sx:{maxHeight:200,overflow:"auto"},children:i.members.map(C=>n.jsxs(Or,{sx:{bgcolor:"rgba(43, 52, 65, 0.5)",borderRadius:1,mb:1},children:[n.jsx(zr,{children:n.jsx(yt,{src:C.profile_photo_url||void 0,sx:{bgcolor:"#4a9eff"},children:C.first_name?C.first_name[0].toUpperCase():n.jsx(xr,{})})}),n.jsx(Fr,{primary:n.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsxs(E,{children:[C.first_name," ",C.last_name]}),C.is_admin&&n.jsx(Rr,{icon:n.jsx(Ea,{}),label:"Админ",size:"small",sx:{bgcolor:"#4a9eff",color:"white",fontSize:"0.7rem"}})]}),secondary:n.jsx(E,{variant:"caption",sx:{color:"#8b95a1"},children:C.username?`@${C.username}`:`ID: ${C.telegram_id}`})}),l!==C.telegram_id&&n.jsx(Et,{title:"Удалить участника",children:n.jsx(et,{onClick:()=>S(C.telegram_id),sx:{color:"#f44336","&:hover":{bgcolor:"rgba(244, 67, 54, 0.1)"}},children:n.jsx(Wa,{})})})]},C.id))}):n.jsx(E,{variant:"body2",sx:{color:"#8b95a1",textAlign:"center",py:2},children:"Нет участников"})]}),n.jsxs(L,{children:[n.jsx(E,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:"Добавить участника"}),A&&n.jsx(Ie,{severity:A.type==="success"?"success":A.type==="info"?"info":"warning",sx:{mb:2,"& .MuiAlert-message":{color:"white"},bgcolor:A.type==="success"?"rgba(76, 175, 80, 0.2)":A.type==="info"?"rgba(33, 150, 243, 0.2)":"rgba(255, 152, 0, 0.2)",border:`1px solid ${A.type==="success"?"#4CAF50":A.type==="info"?"#2196F3":"#FF9800"}`},children:A.message}),n.jsxs(L,{sx:{display:"flex",gap:1,mb:2},children:[n.jsx(ne,{variant:h==="username"?"contained":"outlined",onClick:()=>P("username"),size:"small",sx:{bgcolor:h==="username"?"#4a9eff":"transparent",color:h==="username"?"white":"#4a9eff",borderColor:"#4a9eff","&:hover":{bgcolor:h==="username"?"#3d8bdb":"rgba(74, 158, 255, 0.1)"}},children:"По @username"}),n.jsx(ne,{variant:h==="id"?"contained":"outlined",onClick:()=>P("id"),size:"small",sx:{bgcolor:h==="id"?"#4a9eff":"transparent",color:h==="id"?"white":"#4a9eff",borderColor:"#4a9eff","&:hover":{bgcolor:h==="id"?"#3d8bdb":"rgba(74, 158, 255, 0.1)"}},children:"По ID (авто)"})]}),h==="username"?n.jsxs(L,{sx:{display:"flex",gap:1},children:[n.jsx(tt,{size:"small",placeholder:"@username пользователя",value:m,onChange:C=>b(C.target.value),helperText:"💡 Если пользователь уже использовал приложение - добавится сразу. Если нет - получит приглашение.",sx:{flex:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}}),n.jsx(ne,{variant:"contained",onClick:D,disabled:!m.trim()||O,startIcon:O?n.jsx(ke,{size:16}):n.jsx(yr,{}),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"},minWidth:"120px"},children:O?"Поиск...":"Добавить"})]}):n.jsxs(L,{sx:{display:"flex",gap:1},children:[n.jsx(tt,{size:"small",placeholder:"ID или @username",value:f,onChange:C=>T(C.target.value),helperText:"💡 Можете ввести как Telegram ID (числа), так и @username - система определит автоматически",sx:{flex:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}}),n.jsx(ne,{variant:"contained",onClick:M,disabled:!f.trim()||O,startIcon:O?n.jsx(ke,{size:16}):n.jsx(yr,{}),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"},minWidth:"120px"},children:O?"Поиск...":"Добавить"})]})]})]}):n.jsx(E,{variant:"body2",sx:{textAlign:"center",py:3,color:"#8b95a1"},children:"Не удалось загрузить информацию о чате"})]}),n.jsx(Vt,{children:n.jsx(ne,{onClick:e,sx:{color:"#8b95a1"},children:"Закрыть"})})]}):null},es=()=>{const t=_t(),e=Co(t.breakpoints.down("md")),[r,o]=u.useState(""),[a,s]=u.useState(!1),[l,i]=u.useState(""),[c,d]=u.useState(""),[p,v]=u.useState(null),[w,f]=u.useState(!1),[T,m]=u.useState(!1),[b,h]=u.useState(!1),P=u.useRef(null),{chats:O,currentChat:g,messages:A,currentUser:x,loading:R,messagesLoading:k,error:I,isAuthError:M,sendNewMessage:D,createNewChat:S,selectChat:y,loadChatInfo:C,addMemberToChat:$,removeMemberFromChat:W,clearCurrentChat:B}=Fa(),N=()=>{var j;(j=P.current)==null||j.scrollIntoView({behavior:"smooth"})},V=()=>{B()};u.useEffect(N,[A]);const q=async()=>{r.trim()===""||!g||(await D(g.id,r),o(""))},se=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),q())},F=async()=>{try{f(!0),v(null);const j=[],U=[];c.trim()&&c.split(",").map(Z=>Z.trim()).filter(Z=>Z.length>0).forEach(Z=>{const X=parseInt(Z);!isNaN(X)&&X>0?j.push(X):U.push(Z.replace(/^@/,""))}),await S(l.trim(),j,U);let J=`✅ Чат "${l.trim()}" создан успешно!`;j.length>0&&(J+=` Добавлено ${j.length} участников.`),U.length>0&&(J+=` Отправлено ${U.length} приглашений по username.`),v({type:"success",message:J}),setTimeout(()=>{v(null),s(!1)},2e3),i(""),d("")}catch(j){console.error("Error creating chat:",j),v({type:"warning",message:"Не удалось создать чат. Попробуйте еще раз."})}finally{f(!1)}},ie=j=>new Date(j).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),G=j=>{const U=new Date(j),J=new Date,ge=new Date(J);return ge.setDate(ge.getDate()-1),U.toDateString()===J.toDateString()?"Сегодня":U.toDateString()===ge.toDateString()?"Вчера":U.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})},Y=j=>{const U=j.sender;return U.username?`@${U.username}`:`${U.first_name}${U.last_name?` ${U.last_name}`:""}`},K=j=>x&&j.sender_id===x.id;return R?n.jsx(L,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(35, 43, 59, 0.95)"},children:n.jsx(ke,{sx:{color:"#4a9eff"}})}):M?n.jsxs(L,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",p:3},children:[n.jsxs(Ie,{severity:"error",sx:{mb:3,maxWidth:"600px"},children:[n.jsx(E,{variant:"h6",sx:{mb:2},children:"🚫 Ошибка авторизации"}),n.jsx(E,{variant:"body1",sx:{mb:2,fontWeight:"bold"},children:"Проблема с авторизацией на сервере"}),n.jsx(E,{variant:"body2",sx:{mb:2},children:"Сервер отклоняет авторизацию. Возможные причины:"}),n.jsxs(E,{variant:"body2",component:"ul",sx:{pl:2,mb:2},children:[n.jsx("li",{children:"На сервере не настроен токен Telegram бота"}),n.jsx("li",{children:"Неправильный или истёкший токен бота"}),n.jsx("li",{children:"Проблема с подписью данных авторизации"}),n.jsx("li",{children:"Приложение запущено не из Telegram"})]}),n.jsx(E,{variant:"body2",sx:{mb:2},children:n.jsx("strong",{children:"Что делать:"})}),n.jsxs(E,{variant:"body2",component:"ul",sx:{pl:2,mb:2},children:[n.jsx("li",{children:'Нажмите "Диагностика" для подробной проверки'}),n.jsx("li",{children:"Убедитесь, что приложение открыто из Telegram"}),n.jsx("li",{children:"Если вы администратор - проверьте настройки сервера"}),n.jsx("li",{children:"Если проблема повторяется - обратитесь в поддержку"})]})]}),n.jsxs(L,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"center"},children:[n.jsx(ne,{variant:"contained",onClick:()=>m(!0),sx:{bgcolor:"#f44336","&:hover":{bgcolor:"#d32f2f"}},children:"🔬 Диагностика проблемы"}),n.jsx(ne,{variant:"contained",onClick:()=>window.location.reload(),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"}},children:"🔄 Перезагрузить приложение"}),n.jsx(ne,{variant:"outlined",onClick:()=>{var j;(j=window.Telegram)!=null&&j.WebApp?window.Telegram.WebApp.close():window.history.back()},sx:{borderColor:"#4a9eff",color:"#4a9eff","&:hover":{borderColor:"#3d8bdb",color:"#3d8bdb"}},children:"⬅️ Назад"})]})]}):n.jsxs(L,{sx:{height:"100vh",display:"flex",bgcolor:"rgba(35, 43, 59, 0.95)",color:"white",overflow:"hidden"},children:[n.jsxs(L,{sx:{width:e?"100%":"350px",display:e&&g?"none":"flex",flexDirection:"column",borderRight:"1px solid rgba(43, 52, 65, 1)",bgcolor:"rgba(35, 43, 59, 0.95)"},children:[n.jsxs(L,{sx:{p:2,borderBottom:"1px solid rgba(43, 52, 65, 1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(E,{variant:"h6",sx:{fontWeight:600},children:"Чаты"}),n.jsx(Et,{title:"Создать новый чат",children:n.jsx(et,{onClick:()=>s(!0),sx:{bgcolor:"#4a9eff",color:"white","&:hover":{bgcolor:"#3d8bdb"}},children:n.jsx(Ia,{})})})]}),n.jsx(Ar,{sx:{flex:1,overflow:"auto",p:0},children:O.map(j=>n.jsx(or.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:n.jsx(Or,{disablePadding:!0,sx:{borderBottom:"1px solid rgba(43, 52, 65, 0.5)"},children:n.jsxs(jo,{selected:(g==null?void 0:g.id)===j.id,onClick:()=>y(j),sx:{py:e?2:1.5,px:e?1.5:2,bgcolor:(g==null?void 0:g.id)===j.id?"rgba(74, 158, 255, 0.1)":"transparent","&:hover":{bgcolor:(g==null?void 0:g.id)===j.id?"rgba(74, 158, 255, 0.15)":"rgba(255, 255, 255, 0.05)"},minHeight:e?72:"auto"},children:[n.jsx(zr,{children:n.jsx(Qn,{badgeContent:j.unread_count,color:"error",invisible:j.unread_count===0,children:n.jsx(yt,{src:j.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:e?50:45,height:e?50:45},children:j.title?j.title[0].toUpperCase():n.jsx(Rt,{})})})}),n.jsx(Fr,{primary:n.jsx(E,{variant:"body1",sx:{fontWeight:j.unread_count>0?600:400,color:"white"},children:j.title||"Безымянный чат"}),secondary:n.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx(E,{variant:"caption",sx:{color:"#8b95a1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"150px"},children:j.last_message||"Нет сообщений"}),j.last_message_time&&n.jsx(E,{variant:"caption",sx:{color:"#8b95a1",fontSize:"0.7rem",ml:1},children:G(j.last_message_time)})]})})]})})},j.id))})]}),n.jsx(L,{sx:{flex:1,display:"flex",flexDirection:"column",position:"relative"},children:g?n.jsxs(n.Fragment,{children:[n.jsxs(L,{sx:{p:e?1.5:2,borderBottom:"1px solid rgba(43, 52, 65, 1)",bgcolor:"rgba(35, 43, 59, 0.95)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs(L,{sx:{display:"flex",alignItems:"center",flex:1},children:[e&&n.jsx(et,{onClick:V,sx:{color:"#4a9eff",mr:1,p:1,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:n.jsx($a,{})}),n.jsx(yt,{src:g.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:e?36:40,height:e?36:40,mr:e?1.5:2},children:g.title?g.title[0].toUpperCase():n.jsx(Rt,{})}),n.jsxs(L,{sx:{flex:1,minWidth:0},children:[n.jsx(E,{variant:e?"body1":"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:g.title||"Безымянный чат"}),n.jsx(E,{variant:"caption",sx:{color:"#8b95a1",fontSize:e?"0.7rem":"0.75rem"},children:g.chat_type==="private"?"Личный чат":"Групповой чат"})]})]}),n.jsx(Et,{title:"Информация о чате",children:n.jsx(et,{onClick:()=>h(!0),sx:{color:"#4a9eff",p:e?1:1.5,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:n.jsx(_a,{fontSize:e?"small":"medium"})})})]}),n.jsxs(L,{sx:{flex:1,overflow:"auto",p:e?1:1.5,bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${nr})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"local","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(35, 43, 59, 0.8)",pointerEvents:"none",zIndex:0},position:"relative","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:"rgba(255, 255, 255, 0.3)"}},children:[I&&n.jsx(Ie,{severity:"error",sx:{mb:2,zIndex:1,position:"relative"},children:I}),k?n.jsx(L,{sx:{display:"flex",justifyContent:"center",py:4,zIndex:1,position:"relative"},children:n.jsx(ke,{sx:{color:"#4a9eff"}})}):n.jsx(ka,{children:A.map(j=>n.jsx(or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{display:"flex",justifyContent:K(j)?"flex-end":"flex-start",marginBottom:"12px",position:"relative",zIndex:1},children:n.jsxs(L,{sx:{maxWidth:e?"85%":"70%",px:e?1.5:2,py:e?1:1.2,borderRadius:K(j)?"18px 18px 4px 18px":"18px 18px 18px 4px",bgcolor:K(j)?"#4a9eff":"rgba(43, 52, 65, 0.9)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",wordBreak:"break-word"},children:[!K(j)&&n.jsx(E,{variant:"caption",sx:{color:"#40C4FF",fontWeight:600,display:"block",mb:.5},children:Y(j)}),n.jsx(E,{variant:"body1",sx:{mb:.5,fontSize:e?"0.9rem":"0.95rem",lineHeight:1.4},children:j.text}),n.jsx(E,{variant:"caption",sx:{opacity:.7,fontSize:e?"0.65rem":"0.7rem",display:"block",textAlign:"right",mt:.25,color:K(j)?"rgba(255,255,255,0.8)":"#8b95a1"},children:ie(j.created_at)})]})},j.id))}),n.jsx("div",{ref:P,style:{position:"relative",zIndex:1}})]}),n.jsxs(L,{sx:{p:e?1.5:2,bgcolor:"rgba(35, 43, 59, 0.95)",display:"flex",gap:e?1:1.5,alignItems:"flex-end",borderTop:"1px solid rgba(43, 52, 65, 1)",pb:e?"max(1.5rem, env(safe-area-inset-bottom))":2},children:[n.jsx(tt,{fullWidth:!0,multiline:!0,maxRows:e?3:4,value:r,onChange:j=>o(j.target.value),onKeyPress:se,placeholder:"Напишите сообщение...",variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px",bgcolor:"rgba(35, 46, 60, 1)",border:"none",fontSize:e?"0.9rem":"0.95rem",color:"white","& fieldset":{border:"1px solid rgba(60, 72, 84, 1)"},"&:hover fieldset":{border:"1px solid #4a9eff"},"&.Mui-focused fieldset":{border:"2px solid #4a9eff"},"& .MuiInputBase-input":{padding:e?"10px 14px":"12px 16px",color:"white","&::placeholder":{color:"rgba(255, 255, 255, 0.5)",opacity:1}}}}}),n.jsx(et,{onClick:q,disabled:!r.trim(),size:"medium",sx:{bgcolor:"#4a9eff",color:"white",width:e?40:44,height:e?40:44,minWidth:e?40:44,minHeight:e?40:44,"&:hover":{bgcolor:"#3d8bdb",transform:"scale(1.05)"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"},transition:"all 0.2s ease"},children:n.jsx(Po,{sx:{fontSize:e?"1.1rem":"1.2rem"}})})]})]}):n.jsx(L,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${nr})`,backgroundSize:"cover",backgroundPosition:"center","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(35, 43, 59, 0.8)",pointerEvents:"none"}},children:n.jsxs(L,{sx:{position:"relative",zIndex:1,textAlign:"center"},children:[n.jsx(Rt,{sx:{fontSize:80,color:"#4a9eff",mb:2}}),n.jsx(E,{variant:"h5",sx:{mb:1,color:"white"},children:"Выберите чат"}),n.jsx(E,{variant:"body1",sx:{color:"#8b95a1"},children:"Выберите чат из списка или создайте новый"})]})})}),n.jsxs(Ht,{open:a,onClose:()=>{s(!1),v(null)},maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[n.jsx(Xt,{children:"Создать новый чат"}),n.jsxs(qt,{children:[p&&n.jsx(Ie,{severity:p.type==="success"?"success":"warning",sx:{mb:2,"& .MuiAlert-message":{color:"white"},bgcolor:p.type==="success"?"rgba(76, 175, 80, 0.2)":"rgba(255, 152, 0, 0.2)",border:`1px solid ${p.type==="success"?"#4CAF50":"#FF9800"}`},children:p.message}),n.jsx(tt,{autoFocus:!0,margin:"dense",label:"Название чата",fullWidth:!0,variant:"outlined",value:l,onChange:j=>i(j.target.value),sx:{mb:2,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#4a9eff"}}}}),n.jsx(tt,{margin:"dense",label:"Участники (ID или @username, через запятую)",fullWidth:!0,variant:"outlined",placeholder:"Например: 123456789, @username, 987654321, @user2",value:c,onChange:j=>d(j.target.value),helperText:"💡 Поддерживаются как Telegram ID (числа), так и @username. Если пользователь не найден по username - получит приглашение.",sx:{mb:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}})]}),n.jsxs(Vt,{children:[n.jsx(ne,{onClick:()=>{s(!1),v(null)},sx:{color:"#8b95a1"},children:"Отмена"}),n.jsx(ne,{onClick:F,disabled:!l.trim()||w,startIcon:w?n.jsx(ke,{size:16}):void 0,sx:{bgcolor:"#4a9eff",color:"white","&:hover":{bgcolor:"#3d8bdb"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"}},children:w?"Создаём...":"Создать"})]})]}),n.jsx(Ha,{open:T,onClose:()=>m(!1)}),n.jsx(Va,{open:b,onClose:()=>h(!1),currentChat:g,loadChatInfo:C,addMemberToChat:$,removeMemberFromChat:W,currentUserId:x==null?void 0:x.telegram_id})]})};export{es as default};
