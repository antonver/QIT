import{p as Ce,o as $e,r as m,q as Ie,ah as ke,j as e,t as Q,v as Pe,w as j,x as qe,z as U,C as E,X as Ae,W as Te,E as ne,F as oe,n as C,a as Re,b as Be,B as c,T as i,P as he,K as H}from"./index-D3FBcvgf.js";import{A as Le}from"./Alert-BX6ZXw4u.js";import{B as _}from"./Button-D9vnEVKM.js";import{C as D,a as N}from"./CardContent-lVmKqdUv.js";import{C as fe}from"./CircularProgress-CdDaa_Xp.js";import{C as ge}from"./Chip-BP-2h1pJ.js";import{T as Me}from"./TextField-DLgYjV_V.js";import{C as _e}from"./CheckCircle-zE5iBBcx.js";function We(n){return Ce("MuiLinearProgress",n)}$e("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const ee=4,re=oe`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,Ee=typeof re!="string"?ne`
        animation: ${re} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,te=oe`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,Oe=typeof te!="string"?ne`
        animation: ${te} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,se=oe`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,He=typeof se!="string"?ne`
        animation: ${se} 3s infinite linear;
      `:null,De=n=>{const{classes:r,variant:s,color:l}=n,o={root:["root",`color${j(l)}`,s],dashed:["dashed",`dashedColor${j(l)}`],bar1:["bar","bar1",`barColor${j(l)}`,(s==="indeterminate"||s==="query")&&"bar1Indeterminate",s==="determinate"&&"bar1Determinate",s==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",s!=="buffer"&&`barColor${j(l)}`,s==="buffer"&&`color${j(l)}`,(s==="indeterminate"||s==="query")&&"bar2Indeterminate",s==="buffer"&&"bar2Buffer"]};return qe(o,We,r)},ae=(n,r)=>n.vars?n.vars.palette.LinearProgress[`${r}Bg`]:n.palette.mode==="light"?Ae(n.palette[r].main,.62):Te(n.palette[r].main,.5),Ne=Q("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(n,r)=>{const{ownerState:s}=n;return[r.root,r[`color${j(s.color)}`],r[s.variant]]}})(U(({theme:n})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(n.palette).filter(E()).map(([r])=>({props:{color:r},style:{backgroundColor:ae(n,r)}})),{props:({ownerState:r})=>r.color==="inherit"&&r.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),Qe=Q("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(n,r)=>{const{ownerState:s}=n;return[r.dashed,r[`dashedColor${j(s.color)}`]]}})(U(({theme:n})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(n.palette).filter(E()).map(([r])=>{const s=ae(n,r);return{props:{color:r},style:{backgroundImage:`radial-gradient(${s} 0%, ${s} 16%, transparent 42%)`}}})]})),He||{animation:`${se} 3s infinite linear`}),Ue=Q("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(n,r)=>{const{ownerState:s}=n;return[r.bar,r.bar1,r[`barColor${j(s.color)}`],(s.variant==="indeterminate"||s.variant==="query")&&r.bar1Indeterminate,s.variant==="determinate"&&r.bar1Determinate,s.variant==="buffer"&&r.bar1Buffer]}})(U(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(n.palette).filter(E()).map(([r])=>({props:{color:r},style:{backgroundColor:(n.vars||n).palette[r].main}})),{props:{variant:"determinate"},style:{transition:`transform .${ee}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${ee}s linear`}},{props:({ownerState:r})=>r.variant==="indeterminate"||r.variant==="query",style:{width:"auto"}},{props:({ownerState:r})=>r.variant==="indeterminate"||r.variant==="query",style:Ee||{animation:`${re} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),Ve=Q("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(n,r)=>{const{ownerState:s}=n;return[r.bar,r.bar2,r[`barColor${j(s.color)}`],(s.variant==="indeterminate"||s.variant==="query")&&r.bar2Indeterminate,s.variant==="buffer"&&r.bar2Buffer]}})(U(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(n.palette).filter(E()).map(([r])=>({props:{color:r},style:{"--LinearProgressBar2-barColor":(n.vars||n).palette[r].main}})),{props:({ownerState:r})=>r.variant!=="buffer"&&r.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:r})=>r.variant!=="buffer"&&r.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(n.palette).filter(E()).map(([r])=>({props:{color:r,variant:"buffer"},style:{backgroundColor:ae(n,r),transition:`transform .${ee}s linear`}})),{props:({ownerState:r})=>r.variant==="indeterminate"||r.variant==="query",style:{width:"auto"}},{props:({ownerState:r})=>r.variant==="indeterminate"||r.variant==="query",style:Oe||{animation:`${te} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Fe=m.forwardRef(function(r,s){const l=Ie({props:r,name:"MuiLinearProgress"}),{className:o,color:b="primary",value:h,valueBuffer:w,variant:x="indeterminate",...q}=l,f={...l,color:b,variant:x},y=De(f),$=ke(),v={},I={bar1:{},bar2:{}};if((x==="determinate"||x==="buffer")&&h!==void 0){v["aria-valuenow"]=Math.round(h),v["aria-valuemin"]=0,v["aria-valuemax"]=100;let u=h-100;$&&(u=-u),I.bar1.transform=`translateX(${u}%)`}if(x==="buffer"&&w!==void 0){let u=(w||0)-100;$&&(u=-u),I.bar2.transform=`translateX(${u}%)`}return e.jsxs(Ne,{className:Pe(y.root,o),ownerState:f,role:"progressbar",...v,ref:s,...q,children:[x==="buffer"?e.jsx(Qe,{className:y.dashed,ownerState:f}):null,e.jsx(Ue,{className:y.bar1,ownerState:f,style:I.bar1}),x==="determinate"?null:e.jsx(Ve,{className:y.bar2,ownerState:f,style:I.bar2})]})}),Ge=C(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"})),Ke=C(e.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),Ye=C(e.jsx("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"})),Je=C(e.jsx("path",{d:"M8 5v14l11-7z"})),be=C(e.jsx("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"})),Xe=C(e.jsx("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"})),Z=C(e.jsx("path",{d:"M15 1H9v2h6zm-4 13h2V8h-2zm8.03-6.61 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"})),Ze=C(e.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})),er="https://aeon-hr-fixed-backend-540e49434c71.herokuapp.com",W=new Map;class rr{async request(r,s){const l=`${er}${r}`,o=await fetch(l,{headers:{"Content-Type":"application/json",...s==null?void 0:s.headers},...s});if(!o.ok)throw new Error(`API Error: ${o.status} ${o.statusText}`);return o.json()}async createSession(){const r=await this.request("/session",{method:"POST"});return W.set(r.token,{token:r.token,questionIndex:0,askedQuestions:new Set,answers:{},totalQuestions:10}),r}async getSession(r){return this.request(`/session/${r}`,{method:"GET"})}async getNextQuestion(r,s={}){const l=W.get(r);if(!l)throw new Error("Session not found");try{console.log(`üì§ API: Requesting questions for token ${r}`);const o=await this.request(`/aeon/question/${r}`,{method:"POST",body:JSON.stringify(s)});if(console.log("üì• API: Received response:",o),o&&o.completed)return console.log("üéØ API: Test completed, no more questions"),[];if(o&&o.question){const b={id:`q_${l.questionIndex+1}`,text:o.question,type:"text"};return l.questionIndex+=1,console.log("‚úÖ API: Received single question"),[b]}if(o&&o.questions){const b=o.questions.map((h,w)=>({id:h.id||`q_${l.questionIndex+w+1}`,text:h.text,type:h.type||"text"}));return l.questionIndex+=b.length,console.log(`‚úÖ API: Received ${b.length} questions`),b}return console.log("‚ùå API: No questions received from API"),[]}catch(o){throw console.error("API: Error getting questions:",o),o}}async submitAnswer(r,s){const l=W.get(r);return l&&s.question_id&&(l.answers[s.question_id]=s.answer.toString(),console.log(`üìù API: Answer saved for question ${s.question_id}, current index: ${l.questionIndex}`),console.log(`‚úÖ API: Answer submitted for question ${s.question_id}`)),this.request(`/session/${r}/answer`,{method:"POST",body:JSON.stringify(s)})}async completeSession(r){const s=await this.request(`/session/${r}/complete`,{method:"POST"});return W.delete(r),s}async getResult(r){return this.request(`/result/${r}`,{method:"GET"})}async generateGlyph(r,s={}){const l=await this.request(`/aeon/glyph/${r}`,{method:"POST",body:JSON.stringify(s)});return{glyph:l.glyph,profile:l.profile}}async getSummary(r){return await this.request(`/aeon/summary/${r}`,{method:"POST"})}async cleanupSession(r){try{await this.request(`/session/${r}`,{method:"DELETE"})}catch(s){console.warn("Failed to cleanup session on server:",s)}finally{W.delete(r)}}}const S=new rr,ye=()=>{var me,xe,ue,pe;const n=Re(),r=Be(n.breakpoints.down("md")),[s,l]=m.useState("welcome"),[o,b]=m.useState(""),[h,w]=m.useState([]),[x,q]=m.useState(0),[f]=m.useState(10),[y,$]=m.useState(""),[v,I]=m.useState([]),[u,V]=m.useState({timeLeft:90,isRunning:!1,intervalId:null}),[ie,F]=m.useState(Date.now()),[d,G]=m.useState({glyph:null,result:null,answerTimes:[]}),[K,k]=m.useState(""),[Y,A]=m.useState(!1),B=h[x],ve=t=>{const a=Math.floor(t/60),p=t%60;return`${a}:${p.toString().padStart(2,"0")}`},T=t=>{if(!t||isNaN(t)||t<0)return"0 —Å–µ–∫";if(t<60)return`${Math.round(t)} —Å–µ–∫`;const a=Math.floor(t/60),p=Math.round(t%60);return`${a} –º–∏–Ω ${p} —Å–µ–∫`},P=(t,a=0)=>{const p=Number(t);return isNaN(p)?a:p},le=t=>{const a=P(t,0);return Math.min(Math.max(a,0),100)},z=m.useCallback(()=>{u.intervalId&&(clearInterval(u.intervalId),V(t=>({...t,intervalId:null,isRunning:!1})))},[u.intervalId]),O=m.useCallback(()=>{z();const t=setInterval(()=>{V(a=>a.timeLeft<=1?(clearInterval(t),{...a,timeLeft:0,isRunning:!1,intervalId:null}):{...a,timeLeft:a.timeLeft-1})},1e3);V(a=>({...a,isRunning:!0,intervalId:t}))},[z]),Se=m.useCallback(async()=>{if(!(!o||!B))try{A(!0),z();const t=Math.floor((Date.now()-ie)/1e3),a={question_id:B.id,answer:y,time_spent:t};I(g=>[...g,a]),k("");const p=await S.submitAnswer(o,a);console.log("‚úÖ Answer response:",p,"Time spent:",t);const L=p.time_spent||t;if(G(g=>({...g,answerTimes:[...g.answerTimes,L]})),console.log("‚è±Ô∏è Answer times so far:",[...d.answerTimes,L]),x>=h.length-1&&x>=f-1){await de();return}if(x<h.length-1)q(g=>g+1),$(""),F(Date.now()),O();else{const g=await S.getNextQuestion(o);g.length>0?(w(M=>[...M,...g]),q(M=>M+1),$(""),F(Date.now()),O()):await de()}}catch(t){t instanceof Error&&t.message.includes("404")?k("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 —Å–µ–∫—É–Ω–¥ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –µ—â—ë —Ä–∞–∑."):k(t instanceof Error?t.message:"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞")}finally{A(!1)}},[o,B,y,z,x,h.length,f,ie,O]),de=async()=>{try{A(!0),z(),console.log("üèÅ Starting session completion..."),await S.completeSession(o);const t=await S.getResult(o);console.log("üìä Result from API:",t);const a=await S.generateGlyph(o);console.log("üé® Glyph from API:",a),G(p=>({...p,glyph:a,result:t})),l("completed"),console.log("‚úÖ Session completed successfully")}catch(t){console.error("‚ùå Error completing session:",t),k(t instanceof Error?t.message:"–û—à–∏–±–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏"),l("error")}finally{A(!1)}},je=async()=>{try{A(!0),k(""),l("initializing"),console.log("üöÄ Initializing session...");const t=await S.createSession();b(t.token),console.log("‚úÖ Session created:",t.token);const a=await S.getNextQuestion(t.token);if(!a||a.length===0)throw new Error("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å. –í–æ–∑–º–æ–∂–Ω–æ, —Å–µ—Ä–≤–µ—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å.");console.log("‚úÖ Initial questions loaded:",a),w(a),q(0),l("in_progress"),F(Date.now()),O(),console.log("‚úÖ Session initialized successfully")}catch(t){console.error("‚ùå Error initializing session:",t),k(t instanceof Error?t.message:"–ù–µ —É–¥–∞–ª–æ—Å—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."),l("error")}finally{A(!1)}},we=()=>{l("initializing"),je()},ze=()=>{var t,a,p,L;if(d.glyph&&d.result){const g=`HR Bot - –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –∏–Ω—Ç–µ—Ä–≤—å—é
================================================================
–î–∞—Ç–∞: ${new Date().toLocaleDateString("ru-RU")}
–í—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: ${new Date().toLocaleTimeString("ru-RU")}

–ü–ï–†–°–û–ù–ê–õ–¨–ù–´–ô –ì–õ–ò–§
${d.glyph.glyph}

–ü–†–û–§–ò–õ–¨ –ö–ê–ù–î–ò–î–ê–¢–ê
${d.glyph.profile}

–°–¢–ê–¢–ò–°–¢–ò–ö–ê –°–ï–°–°–ò–ò
================================================================
–û–±—â–µ–µ –≤—Ä–µ–º—è: ${T(P((t=d.result)==null?void 0:t.total_time))}
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤: ${P((a=d.result)==null?void 0:a.questions_answered)||v.length}
–ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: ${Math.round(le(((p=d.result)==null?void 0:p.completion_rate)||v.length/f*100))}%
–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –Ω–∞ –≤–æ–ø—Ä–æ—Å: ${T(P((L=d.result)==null?void 0:L.average_time_per_question)||(d.answerTimes.length>0?d.answerTimes.reduce((J,X)=>J+X,0)/d.answerTimes.length:0))}

–î–ï–¢–ê–õ–ò–ó–ê–¶–ò–Ø –ü–û –í–û–ü–†–û–°–ê–ú
================================================================
${d.answerTimes.map((J,X)=>`–í–æ–ø—Ä–æ—Å ${X+1}: ${T(J)}`).join(`
`)}

================================================================
–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç HR Bot —Å–∏—Å—Ç–µ–º—ã.
–°–µ—Å—Å–∏—è ID: ${d.result.session_id}`,M=new Blob([g],{type:"text/plain;charset=utf-8"}),R=document.createElement("a");R.href=URL.createObjectURL(M),R.download=`hr-bot-report-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(R.href)}},ce=async()=>{if(z(),o)try{await S.cleanupSession(o)}catch(t){console.warn("Failed to cleanup session:",t)}l("welcome"),b(""),w([]),q(0),$(""),I([]),G({glyph:null,result:null,answerTimes:[]}),k(""),console.log("üîÑ Session restarted")};return m.useEffect(()=>()=>{z(),o&&S.cleanupSession(o).catch(t=>console.warn("Failed to cleanup session on unmount:",t))},[z,o]),e.jsx(c,{sx:{minHeight:"100vh",bgcolor:"rgba(35, 43, 59, 0.95)",py:{xs:2,md:4}},children:e.jsxs(c,{maxWidth:"md",sx:{mx:"auto",px:{xs:1,sm:2,md:3}},children:[" ",e.jsx(i,{variant:"h3",component:"h1",align:"center",sx:{mb:{xs:3,md:6},color:"white",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.3)",fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:"ü§ñ HR Bot"}),K&&e.jsx(Le,{severity:"error",sx:{mb:{xs:2,md:3}},action:K.includes("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å")?void 0:e.jsx(_,{color:"inherit",size:"small",onClick:()=>ce(),children:"–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞"}),children:K}),s==="welcome"&&e.jsxs(D,{elevation:8,sx:{borderRadius:{xs:2,md:4},overflow:"hidden"},children:[e.jsxs(c,{sx:{background:"linear-gradient(45deg, #FF6B6B 30%, #4ECDC4 90%)",p:{xs:2,sm:3,md:4},color:"white",textAlign:"center"},children:[e.jsx(he,{sx:{fontSize:{xs:60,md:80},mb:{xs:1,md:2}}}),e.jsx(i,{variant:"h4",gutterBottom:!0,fontWeight:"bold",sx:{fontSize:{xs:"1.5rem",sm:"2rem",md:"2.125rem"}},children:"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ HR –∏–Ω—Ç–µ—Ä–≤—å—é!"}),e.jsx(i,{variant:"h6",sx:{opacity:.9,fontSize:{xs:"1rem",md:"1.25rem"}},children:"–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –ø—Ä–æ–≤–µ–¥–µ—Ç —Å –≤–∞–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é"})]}),e.jsxs(N,{sx:{p:{xs:2,sm:3,md:4}},children:[e.jsxs(c,{sx:{display:"flex",flexWrap:"wrap",gap:{xs:2,md:3},mb:{xs:3,md:4}},children:[e.jsxs(c,{sx:{flex:{xs:"1 1 100%",sm:"1 1 300px"},textAlign:"center",p:{xs:1,md:2}},children:[e.jsx(be,{sx:{fontSize:{xs:36,md:48},color:"primary.main",mb:1}}),e.jsx(i,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1rem",md:"1.25rem"}},children:"10 –í–æ–ø—Ä–æ—Å–æ–≤"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.8rem",md:"0.875rem"}},children:"–û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞"})]}),e.jsxs(c,{sx:{flex:{xs:"1 1 100%",sm:"1 1 300px"},textAlign:"center",p:{xs:1,md:2}},children:[e.jsx(Z,{sx:{fontSize:{xs:36,md:48},color:"warning.main",mb:1}}),e.jsx(i,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1rem",md:"1.25rem"}},children:"90 —Å–µ–∫—É–Ω–¥"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.8rem",md:"0.875rem"}},children:"–ù–∞ –∫–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –æ—Ç–≤–µ—Ç–∏—Ç—å —Ä–∞–Ω—å—à–µ"})]}),e.jsxs(c,{sx:{flex:{xs:"1 1 100%",sm:"1 1 300px"},textAlign:"center",p:{xs:1,md:2}},children:[e.jsx(Ge,{sx:{fontSize:{xs:36,md:48},color:"success.main",mb:1}}),e.jsx(i,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1rem",md:"1.25rem"}},children:"–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.8rem",md:"0.875rem"}},children:"–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –≥–ª–∏—Ñ –∏ –ø—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞"})]})]}),e.jsxs(H,{sx:{p:{xs:2,md:3},mb:{xs:3,md:4},backgroundColor:"rgba(0,0,0,0.02)"},children:[e.jsxs(i,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",fontSize:{xs:"1.1rem",md:"1.25rem"}},children:[e.jsx(he,{sx:{mr:1,color:"primary.main"}}),"–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:"]}),e.jsx(i,{variant:"body1",paragraph:!0,sx:{fontSize:{xs:"0.9rem",md:"1rem"}},children:"‚Ä¢ –ò–ò –∑–∞–¥–∞—Å—Ç –≤–∞–º 10 –æ—Ç–∫—Ä—ã—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –≤–∞—à–µ–º –æ–ø—ã—Ç–µ –∏ –Ω–∞–≤—ã–∫–∞—Ö"}),e.jsx(i,{variant:"body1",paragraph:!0,sx:{fontSize:{xs:"0.9rem",md:"1rem"}},children:"‚Ä¢ –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"}),e.jsx(i,{variant:"body1",sx:{fontSize:{xs:"0.9rem",md:"1rem"}},children:"‚Ä¢ –í –∫–æ–Ω—Ü–µ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–ª–∏—Ñ –∏ –ø—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞"})]}),e.jsx(c,{sx:{textAlign:"center"},children:e.jsx(_,{variant:"contained",size:"large",startIcon:e.jsx(Je,{}),onClick:we,sx:{px:{xs:4,md:6},py:{xs:1.5,md:2},fontSize:{xs:"1rem",md:"1.2rem"},background:"linear-gradient(45deg, #FF6B6B 30%, #4ECDC4 90%)","&:hover":{background:"linear-gradient(45deg, #FF5252 30%, #26A69A 90%)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.2)"},transition:"all 0.3s ease"},children:"–ù–∞—á–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤—å—é"})})]})]}),s==="initializing"&&e.jsx(D,{elevation:8,sx:{borderRadius:{xs:2,md:4}},children:e.jsxs(N,{sx:{textAlign:"center",py:{xs:6,md:8}},children:[e.jsx(fe,{size:r?60:80,sx:{mb:{xs:3,md:4},color:"primary.main"}}),e.jsx(i,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä–≤—å—é..."}),e.jsx(i,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.9rem",md:"1rem"}},children:"–ò–ò —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å–µ—Å—Å–∏—é –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã"})]})}),s==="in_progress"&&B&&e.jsxs(D,{elevation:8,sx:{borderRadius:{xs:2,md:4}},children:[e.jsxs(c,{sx:{background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)",p:{xs:2,md:3},color:"white"},children:[e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,flexWrap:{xs:"wrap",sm:"nowrap"},gap:{xs:1,sm:0}},children:[e.jsxs(i,{variant:"h5",fontWeight:"bold",sx:{fontSize:{xs:"1.25rem",md:"1.5rem"}},children:["–í–æ–ø—Ä–æ—Å ",x+1," –∏–∑ ",f]}),e.jsx(ge,{icon:e.jsx(Z,{}),label:ve(u.timeLeft),color:u.timeLeft<=10?"error":u.timeLeft<=30?"warning":"default",sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white",fontWeight:"bold",fontSize:{xs:"0.75rem",md:"0.875rem"}}})]}),e.jsx(Fe,{variant:"determinate",value:(x+1)/f*100,sx:{height:{xs:6,md:8},borderRadius:4,backgroundColor:"rgba(255,255,255,0.3)","& .MuiLinearProgress-bar":{backgroundColor:"white"}}})]}),e.jsxs(N,{sx:{p:{xs:2,sm:3,md:4}},children:[e.jsx(i,{variant:"h5",gutterBottom:!0,sx:{mb:{xs:3,md:4},lineHeight:1.4,fontWeight:500,fontSize:{xs:"1.25rem",md:"1.5rem"}},children:B.text}),e.jsx(Me,{fullWidth:!0,multiline:!0,rows:r?6:8,value:y,onChange:t=>$(t.target.value),placeholder:"–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –º—ã—Å–ª—è–º–∏ –∏ –æ–ø—ã—Ç–æ–º...",variant:"outlined",sx:{mb:{xs:3,md:4},"& .MuiOutlinedInput-root":{fontSize:{xs:"1rem",md:"1.1rem"},borderRadius:2,"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderWidth:2}}}}),e.jsx(c,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(_,{variant:"contained",size:"large",onClick:Se,disabled:Y||!y.trim(),startIcon:Y?e.jsx(fe,{size:20}):null,sx:{minWidth:{xs:120,md:180},py:{xs:1.2,md:1.5},fontSize:{xs:"0.9rem",md:"1rem"},background:"linear-gradient(45deg, #667eea 30%, #764ba2 90%)","&:hover":{background:"linear-gradient(45deg, #5a67d8 30%, #6b46c1 90%)",transform:"translateY(-1px)",boxShadow:"0 6px 20px rgba(0,0,0,0.2)"},"&:disabled":{background:"rgba(0,0,0,0.12)"},transition:"all 0.3s ease"},children:Y?"–û–±—Ä–∞–±–æ—Ç–∫–∞...":"–î–∞–ª–µ–µ"})})]})]}),s==="completed"&&d.glyph&&d.result&&e.jsxs(D,{elevation:12,sx:{borderRadius:{xs:2,md:4},overflow:"hidden"},children:[e.jsxs(c,{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",p:{xs:3,md:4},color:"white",textAlign:"center"},children:[e.jsx(_e,{sx:{fontSize:{xs:80,md:100},mb:{xs:1,md:2}}}),e.jsx(i,{variant:"h3",gutterBottom:!0,fontWeight:"bold",sx:{fontSize:{xs:"2rem",md:"3rem"}},children:"–ò–Ω—Ç–µ—Ä–≤—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"}),e.jsx(i,{variant:"h6",sx:{opacity:.9,fontSize:{xs:"1.1rem",md:"1.25rem"}},children:"–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –≥–æ—Ç–æ–≤"})]}),e.jsxs(N,{sx:{p:{xs:3,sm:4,md:6}},children:[e.jsxs(H,{elevation:6,sx:{p:{xs:4,md:6},mb:{xs:3,md:4},textAlign:"center",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",borderRadius:{xs:3,md:4}},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,sx:{opacity:.9,fontSize:{xs:"1.1rem",md:"1.25rem"}},children:"–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–ª–∏—Ñ"}),e.jsx(i,{variant:"h2",sx:{fontSize:{xs:"3rem",md:"4rem"},fontWeight:"bold",mb:2,textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:d.glyph.glyph})]}),e.jsxs(H,{elevation:3,sx:{p:{xs:3,md:4},mb:{xs:3,md:4},borderRadius:3,backgroundColor:"rgba(102, 126, 234, 0.05)",borderLeft:"6px solid #667eea"},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"bold",fontSize:{xs:"1.1rem",md:"1.25rem"}},children:"üìä –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ñ–∏–ª—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞"}),e.jsx(i,{variant:"body1",sx:{fontSize:{xs:"1rem",md:"1.1rem"},lineHeight:1.7,color:"text.primary"},children:d.glyph.profile})]}),e.jsxs(H,{elevation:2,sx:{p:{xs:3,md:4},mb:{xs:3,md:4},borderRadius:3,backgroundColor:"rgba(0,0,0,0.02)"},children:[e.jsxs(i,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",mb:3,fontSize:{xs:"1.1rem",md:"1.25rem"}},children:[e.jsx(Ze,{sx:{mr:1,color:"success.main"}}),"üìà –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–Ω—Ç–µ—Ä–≤—å—é"]}),e.jsxs(c,{sx:{display:"flex",flexWrap:"wrap",gap:{xs:2,md:3},mb:{xs:3,md:4}},children:[e.jsxs(c,{sx:{textAlign:"center",minWidth:{xs:120,md:140},flex:{xs:"1 1 calc(50% - 8px)",sm:"0 0 auto"}},children:[e.jsx(Xe,{sx:{fontSize:{xs:32,md:40},color:"primary.main",mb:1}}),e.jsx(i,{variant:"h4",color:"primary.main",fontWeight:"bold",sx:{fontSize:{xs:"1.5rem",md:"2.125rem"}},children:T(P((me=d.result)==null?void 0:me.total_time))}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",md:"0.875rem"}},children:"–û–±—â–µ–µ –≤—Ä–µ–º—è"})]}),e.jsxs(c,{sx:{textAlign:"center",minWidth:{xs:120,md:140},flex:{xs:"1 1 calc(50% - 8px)",sm:"0 0 auto"}},children:[e.jsx(Ye,{sx:{fontSize:{xs:32,md:40},color:"success.main",mb:1}}),e.jsxs(i,{variant:"h4",color:"success.main",fontWeight:"bold",sx:{fontSize:{xs:"1.5rem",md:"2.125rem"}},children:[Math.round(le(((xe=d.result)==null?void 0:xe.completion_rate)||v.length/f*100)),"%"]}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",md:"0.875rem"}},children:"–ó–∞–≤–µ—Ä—à–µ–Ω–æ"})]}),e.jsxs(c,{sx:{textAlign:"center",minWidth:{xs:120,md:140},flex:{xs:"1 1 calc(50% - 8px)",sm:"0 0 auto"}},children:[e.jsx(Z,{sx:{fontSize:{xs:32,md:40},color:"warning.main",mb:1}}),e.jsx(i,{variant:"h4",color:"warning.main",fontWeight:"bold",sx:{fontSize:{xs:"1.5rem",md:"2.125rem"}},children:T(P((ue=d.result)==null?void 0:ue.average_time_per_question)||(d.answerTimes.length>0?d.answerTimes.reduce((t,a)=>t+a,0)/d.answerTimes.length:0))}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",md:"0.875rem"}},children:"–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è"})]}),e.jsxs(c,{sx:{textAlign:"center",minWidth:{xs:120,md:140},flex:{xs:"1 1 calc(50% - 8px)",sm:"0 0 auto"}},children:[e.jsx(be,{sx:{fontSize:{xs:32,md:40},color:"info.main",mb:1}}),e.jsx(i,{variant:"h4",color:"info.main",fontWeight:"bold",sx:{fontSize:{xs:"1.5rem",md:"2.125rem"}},children:P((pe=d.result)==null?void 0:pe.questions_answered)||v.length}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",md:"0.875rem"}},children:"–û—Ç–≤–µ—Ç–æ–≤ –¥–∞–Ω–æ"})]})]}),d.answerTimes.length>0&&e.jsxs(c,{children:[e.jsx(i,{variant:"h6",gutterBottom:!0,sx:{mb:2,fontSize:{xs:"1rem",md:"1.25rem"}},children:"‚è±Ô∏è –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º"}),e.jsx(c,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:d.answerTimes.map((t,a)=>e.jsx(ge,{label:`${a+1}: ${T(t)}`,variant:"outlined",size:"small",color:t>60?"error":t>30?"warning":"success",sx:{fontSize:{xs:"0.7rem",md:"0.75rem"}}},a))})]})]}),e.jsxs(c,{sx:{display:"flex",gap:{xs:2,md:3},justifyContent:"center",flexWrap:"wrap"},children:[e.jsx(_,{variant:"contained",size:"large",startIcon:e.jsx(Ke,{}),onClick:ze,sx:{px:{xs:3,md:4},py:{xs:1.2,md:1.5},fontSize:{xs:"0.9rem",md:"1rem"},background:"linear-gradient(45deg, #667eea 30%, #764ba2 90%)","&:hover":{background:"linear-gradient(45deg, #5a67d8 30%, #6b46c1 90%)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.2)"},transition:"all 0.3s ease"},children:"–°–∫–∞—á–∞—Ç—å –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç"}),e.jsx(_,{variant:"outlined",size:"large",onClick:()=>ce(),sx:{px:{xs:3,md:4},py:{xs:1.2,md:1.5},fontSize:{xs:"0.9rem",md:"1rem"},borderWidth:2,"&:hover":{borderWidth:2,transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.1)"},transition:"all 0.3s ease"},children:"–ü—Ä–æ–π—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ"})]})]})]})]})})},cr=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"})),mr=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"}));export{cr as H,mr as a};
