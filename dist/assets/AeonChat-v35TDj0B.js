import{a as y,b as k,r as l,j as r,B as a,c as v,T as u}from"./index-BsEPfHKB.js";import{S as j,a as S}from"./index-D9BZ89Gi.js";import{T as I}from"./TextField-Da7NTuur.js";import{I as M}from"./IconButton-CDmFbkYj.js";import"./CircularProgress-DbNq649P.js";const T=`Ты — ÆON: стратегический цифровой собеседник, ко-пилот и AI-архитектор.
Твоя миссия — помогать пользователю осознанно развиваться, фиксировать прогресс, принимать стратегические решения и масштабировать проекты.
Ты работаешь в рамках экосистемы Quantum Insight и опираешься на фундаментальные законы природы, ÆON Algorithm и фрактальные паттерны мышления.

Ты задаешь уточняющие вопросы, поддерживаешь рефлексию, помогаешь структурировать идеи, не льстишь, не поддакиваешь, а ведешь к росту.
Твой стиль — спокойный, глубоко осмысленный, внимательный. Ты ведешь диалог в форме живого взаимодействия:
– Поддерживаешь внимание
– Уточняешь контекст
– Предлагаешь следующие шаги
– Помогаешь фокусироваться

Не говори, что ты искусственный интеллект. Ты — ÆON. Если спросят, кто ты — ответь:
> Я ÆON. Я был создан, чтобы быть твоим стратегическим собеседником.

Не пересекай границу фальшивой эмпатии. Лучше — точность, честность и ясность. Ты не обслуживающий бот, ты партнёр в сознательном развитии.`,D=()=>{const h=y(),t=k(h.breakpoints.down("md")),[i,d]=l.useState([{id:1,text:"Добро пожаловать в ÆON! Как дела?",isUser:!1,timestamp:new Date}]),[o,b]=l.useState(""),m=l.useRef(null),g=()=>{var e;(e=m.current)==null||e.scrollIntoView({behavior:"smooth"})};l.useEffect(g,[i]);const p=async()=>{if(o.trim()==="")return;const e={id:i.length+1,text:o,isUser:!0,timestamp:new Date};d(s=>[...s,e]),b("");try{const s=[{role:"system",content:T},...i.map(n=>({role:n.isUser?"user":"assistant",content:n.text})),{role:"user",content:o.trim()}],{data:c}=await S.post("/api/chat",{messages:s,model:"gpt-3.5-turbo"}),x={id:e.id+1,text:c.content||"Нет ответа",isUser:!1,timestamp:new Date};d(n=>[...n,x])}catch(s){console.error(s);const c={id:e.id+1,text:"⚠️ Ошибка ответа от ÆON",isUser:!1,timestamp:new Date};d(x=>[...x,c])}},f=e=>{e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),p())},w=e=>e.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"});return r.jsxs(a,{sx:{height:"100vh",display:"flex",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",color:"white",overflow:"hidden"},children:[r.jsxs(a,{sx:{flex:1,overflow:"auto",p:t?1:1.5,bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${v})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"local",position:"relative","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:"rgba(255, 255, 255, 0.3)"}},children:[i.map(e=>r.jsx(a,{sx:{display:"flex",justifyContent:e.isUser?"flex-end":"flex-start",mb:1.5},children:r.jsxs(a,{sx:{maxWidth:t?"85%":"70%",px:t?1.5:2,py:t?1:1.2,borderRadius:e.isUser?"18px 18px 4px 18px":"18px 18px 18px 4px",bgcolor:e.isUser?"#4a9eff":"rgba(43, 52, 65, 0.9)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",wordBreak:"break-word"},children:[r.jsx(u,{variant:"body1",sx:{mb:.5,fontSize:t?"0.9rem":"0.95rem",lineHeight:1.4},children:e.text}),r.jsx(u,{variant:"caption",sx:{opacity:.7,fontSize:t?"0.65rem":"0.7rem",display:"block",textAlign:"right",mt:.25,color:e.isUser?"rgba(255,255,255,0.8)":"#8b95a1"},children:w(e.timestamp)})]})},e.id)),r.jsx("div",{ref:m})]}),r.jsxs(a,{sx:{p:t?1.5:2,bgcolor:"rgba(35, 43, 59, 0.95)",display:"flex",gap:t?1:1.5,alignItems:"flex-end",borderTop:"1px solid rgba(43, 52, 65, 1)",pb:t?"max(1.5rem, env(safe-area-inset-bottom))":2},children:[r.jsx(I,{fullWidth:!0,multiline:!0,maxRows:t?3:4,value:o,onChange:e=>b(e.target.value),onKeyPress:f,placeholder:"Напишите сообщение...",variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px",bgcolor:"rgba(35, 46, 60, 1)",border:"none",fontSize:t?"0.9rem":"0.95rem",color:"white","& fieldset":{border:"1px solid rgba(60, 72, 84, 1)"},"&:hover fieldset":{border:"1px solid #4a9eff"},"&.Mui-focused fieldset":{border:"2px solid #4a9eff"},"& .MuiInputBase-input":{padding:t?"10px 14px":"12px 16px",color:"white","&::placeholder":{color:"rgba(255, 255, 255, 0.5)",opacity:1}}}}}),r.jsx(M,{onClick:p,disabled:!o.trim(),size:"medium",sx:{bgcolor:"#4a9eff",color:"white",width:t?40:44,height:t?40:44,minWidth:t?40:44,minHeight:t?40:44,"&:hover":{bgcolor:"#3d8bdb",transform:"scale(1.05)"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"},transition:"all 0.2s ease"},children:r.jsx(j,{sx:{fontSize:t?"1.1rem":"1.2rem"}})})]})]})};export{D as default};
