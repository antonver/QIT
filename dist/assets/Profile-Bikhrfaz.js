import{n as l,j as s,a as _,d as C,L as I,B as t,T as a,M as L,N as m,O as i,Q as c,K as A}from"./index-Bz9E9Gki.js";import{C as j,a as p}from"./CardContent-JzdMf6qr.js";import{D as u,L as o,P as g,A as M}from"./Person-Dp6-i9wp.js";import{C as y}from"./Chip-BGqcwDNS.js";const T=l(s.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),B=l(s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56m2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z"})),P=l(s.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),$=l(s.jsx("path",{d:"M9.78 18.65l.28-4.23 7.68-6.92c.34-.31-.07-.46-.52-.19L7.74 13.3 3.64 12c-.88-.25-.89-.86.2-1.3l15.97-6.16c.73-.33 1.43.18 1.15 1.3l-2.72 12.81c-.19.91-.74 1.13-1.5.71L12.6 16.3l-1.99 1.93c-.23.23-.42.42-.83.42z"})),w=()=>{var d;const f=_(),{currentUser:r,isUserLoading:b,userError:h}=C(n=>n.aeonChat),{telegramUser:x,isTelegramWebApp:v}=I();console.log("üîç Profile component - currentUser:",r),console.log("üîç Profile component - currentUser.subordinates:",r==null?void 0:r.subordinates),console.log("üîç Profile component - currentUser.managers:",r==null?void 0:r.managers);const e=r?{...r,subordinates:Array.isArray(r.subordinates)?r.subordinates:[],managers:Array.isArray(r.managers)?r.managers:[]}:null;return b?s.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:s.jsx(a,{children:"–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è..."})}):h?s.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:s.jsx(a,{color:"error",children:h})}):e?s.jsxs(t,{sx:{p:3,maxWidth:800,mx:"auto"},children:[s.jsx(a,{variant:"h4",gutterBottom:!0,sx:{mb:4,fontWeight:"bold"},children:"–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"}),s.jsxs(t,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3},children:[s.jsx(t,{sx:{flex:1},children:s.jsx(j,{elevation:3,sx:{height:"100%"},children:s.jsxs(p,{children:[s.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:3},children:[s.jsx(L,{src:e.profile_photo_url||(x==null?void 0:x.photo_url),sx:{width:80,height:80,mr:2,bgcolor:f.palette.primary.main},children:e.first_name.charAt(0)}),s.jsxs(t,{children:[s.jsxs(a,{variant:"h5",gutterBottom:!0,children:[e.first_name," ",e.last_name||""]}),e.username&&s.jsxs(a,{variant:"body2",color:"text.secondary",children:["@",e.username]})]})]}),s.jsx(u,{sx:{mb:2}}),s.jsxs(m,{children:[s.jsxs(i,{children:[s.jsx(c,{children:s.jsx($,{color:"primary"})}),s.jsx(o,{primary:"Telegram ID",secondary:e.telegram_id})]}),e.language_code&&s.jsxs(i,{children:[s.jsx(c,{children:s.jsx(B,{color:"primary"})}),s.jsx(o,{primary:"–Ø–∑—ã–∫",secondary:(d=e.language_code)==null?void 0:d.toUpperCase()})]}),e.is_premium&&s.jsxs(i,{children:[s.jsx(c,{children:s.jsx(P,{color:"primary"})}),s.jsx(o,{primary:"–ü—Ä–µ–º–∏—É–º",secondary:"–ê–∫—Ç–∏–≤–µ–Ω"})]}),e.bio&&s.jsxs(i,{children:[s.jsx(c,{children:s.jsx(g,{color:"primary"})}),s.jsx(o,{primary:"–û —Å–µ–±–µ",secondary:e.bio})]})]})]})})}),s.jsx(t,{sx:{flex:1},children:s.jsx(j,{elevation:3,sx:{height:"100%"},children:s.jsxs(p,{children:[s.jsx(a,{variant:"h6",gutterBottom:!0,children:"–°—Ç–∞—Ç—É—Å –∏ —Ä–æ–ª–∏"}),s.jsxs(t,{sx:{mb:3},children:[s.jsx(y,{icon:e.is_admin?s.jsx(M,{}):s.jsx(g,{}),label:e.is_admin?"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä":"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",color:e.is_admin?"primary":"default",sx:{mb:1}}),s.jsx(y,{icon:s.jsx(T,{}),label:`${e.subordinates?e.subordinates.length:0} –ø–æ–¥—á–∏–Ω–µ–Ω–Ω—ã—Ö`,variant:"outlined",sx:{ml:1}})]}),s.jsx(u,{sx:{mb:2}}),e.is_admin&&e.subordinates&&e.subordinates.length>0&&s.jsxs(t,{children:[s.jsx(a,{variant:"subtitle1",gutterBottom:!0,children:"–ü–æ–¥—á–∏–Ω–µ–Ω–Ω—ã–µ:"}),s.jsx(m,{dense:!0,children:e.subordinates.map(n=>s.jsx(i,{children:s.jsx(o,{primary:`${n.first_name} ${n.last_name||""}`,secondary:n.username?`@${n.username}`:""})},n.id))})]}),e.managers&&e.managers.length>0&&s.jsxs(t,{sx:{mt:2},children:[s.jsx(a,{variant:"subtitle1",gutterBottom:!0,children:"–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–∏:"}),s.jsx(m,{dense:!0,children:e.managers.map(n=>s.jsx(i,{children:s.jsx(o,{primary:`${n.first_name} ${n.last_name||""}`,secondary:n.username?`@${n.username}`:""})},n.id))})]})]})})})]}),v()&&s.jsx(t,{sx:{mt:3},children:s.jsxs(A,{elevation:2,sx:{p:2,bgcolor:"primary.light",color:"white"},children:[s.jsx(a,{variant:"h6",gutterBottom:!0,children:"Telegram WebApp"}),s.jsx(a,{variant:"body2",children:"–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –≤ Telegram WebApp"})]})})]}):s.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:s.jsx(a,{children:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"})})};export{w as default};
