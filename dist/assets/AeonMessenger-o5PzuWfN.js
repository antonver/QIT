import{r as u,d as be,g as xe,j as n,t as Rt,Q as Qt,i as ye,a2 as Co,e as we,s as Y,v as Z,f as me,h as V,l as Ne,o as hr,a as _t,y as jo,T as k,a4 as To,a5 as eo,a0 as ut,U as to,a6 as mr,n as Po,a7 as oo,a8 as gr,a9 as vr,aa as Oo,ab as br,ac as xr,ad as yr,ae as wr,q as Pe,af as xt,B as W,ag as yt,a1 as Ao,ah as Do,b as Cr,m as ro,ai as jr,c as no}from"./index-CMQLsKl5.js";import{a as Tr,S as Pr}from"./index-Cy0YUltq.js";import{o as ao,P as Or,u as Ar,F as so,M as Dr,B as Rr,a as Sr,g as Mr,G as kr,T as et}from"./TextField-DkOZKYfF.js";import{u as Ro,C as $e}from"./CircularProgress-BOuXNQWy.js";import{C as So}from"./Chip-ZowdOhgt.js";import{A as rt}from"./Alert-D9JH_fOZ.js";import{B as oe}from"./Button-BouanAyX.js";import{I as Qe}from"./IconButton-5-Hcgeyz.js";const Mo=t=>{const e=u.useRef({});return u.useEffect(()=>{e.current=t}),e.current};var Q="top",ie="bottom",le="right",ee="left",$t="auto",st=[Q,ie,le,ee],We="start",nt="end",Ir="clippingParents",ko="viewport",Je="popper",Er="reference",io=st.reduce(function(t,e){return t.concat([e+"-"+We,e+"-"+nt])},[]),Io=[].concat(st,[$t]).reduce(function(t,e){return t.concat([e,e+"-"+We,e+"-"+nt])},[]),_r="beforeRead",$r="read",Wr="afterRead",Br="beforeMain",Lr="main",Ur="afterMain",Nr="beforeWrite",zr="write",Fr="afterWrite",Hr=[_r,$r,Wr,Br,Lr,Ur,Nr,zr,Fr];function ge(t){return t?(t.nodeName||"").toLowerCase():null}function re(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ke(t){var e=re(t).Element;return t instanceof e||t instanceof Element}function se(t){var e=re(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Wt(t){if(typeof ShadowRoot>"u")return!1;var e=re(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Vr(t){var e=t.state;Object.keys(e.elements).forEach(function(o){var r=e.styles[o]||{},a=e.attributes[o]||{},s=e.elements[o];!se(s)||!ge(s)||(Object.assign(s.style,r),Object.keys(a).forEach(function(l){var i=a[l];i===!1?s.removeAttribute(l):s.setAttribute(l,i===!0?"":i)}))})}function qr(t){var e=t.state,o={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,o.popper),e.styles=o,e.elements.arrow&&Object.assign(e.elements.arrow.style,o.arrow),function(){Object.keys(e.elements).forEach(function(r){var a=e.elements[r],s=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:o[r]),i=l.reduce(function(c,d){return c[d]="",c},{});!se(a)||!ge(a)||(Object.assign(a.style,i),Object.keys(s).forEach(function(c){a.removeAttribute(c)}))})}}const Xr={name:"applyStyles",enabled:!0,phase:"write",fn:Vr,effect:qr,requires:["computeStyles"]};function he(t){return t.split("-")[0]}var Me=Math.max,wt=Math.min,Be=Math.round;function St(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Eo(){return!/^((?!chrome|android).)*safari/i.test(St())}function Le(t,e,o){e===void 0&&(e=!1),o===void 0&&(o=!1);var r=t.getBoundingClientRect(),a=1,s=1;e&&se(t)&&(a=t.offsetWidth>0&&Be(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Be(r.height)/t.offsetHeight||1);var l=ke(t)?re(t):window,i=l.visualViewport,c=!Eo()&&o,d=(r.left+(c&&i?i.offsetLeft:0))/a,p=(r.top+(c&&i?i.offsetTop:0))/s,b=r.width/a,y=r.height/s;return{width:b,height:y,top:p,right:d+b,bottom:p+y,left:d,x:d,y:p}}function Bt(t){var e=Le(t),o=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-o)<=1&&(o=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:o,height:r}}function _o(t,e){var o=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(o&&Wt(o)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ve(t){return re(t).getComputedStyle(t)}function Yr(t){return["table","td","th"].indexOf(ge(t))>=0}function Oe(t){return((ke(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ct(t){return ge(t)==="html"?t:t.assignedSlot||t.parentNode||(Wt(t)?t.host:null)||Oe(t)}function lo(t){return!se(t)||ve(t).position==="fixed"?null:t.offsetParent}function Kr(t){var e=/firefox/i.test(St()),o=/Trident/i.test(St());if(o&&se(t)){var r=ve(t);if(r.position==="fixed")return null}var a=Ct(t);for(Wt(a)&&(a=a.host);se(a)&&["html","body"].indexOf(ge(a))<0;){var s=ve(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function it(t){for(var e=re(t),o=lo(t);o&&Yr(o)&&ve(o).position==="static";)o=lo(o);return o&&(ge(o)==="html"||ge(o)==="body"&&ve(o).position==="static")?e:o||Kr(t)||e}function Lt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function tt(t,e,o){return Me(t,wt(e,o))}function Gr(t,e,o){var r=tt(t,e,o);return r>o?o:r}function $o(){return{top:0,right:0,bottom:0,left:0}}function Wo(t){return Object.assign({},$o(),t)}function Bo(t,e){return e.reduce(function(o,r){return o[r]=t,o},{})}var Jr=function(e,o){return e=typeof e=="function"?e(Object.assign({},o.rects,{placement:o.placement})):e,Wo(typeof e!="number"?e:Bo(e,st))};function Zr(t){var e,o=t.state,r=t.name,a=t.options,s=o.elements.arrow,l=o.modifiersData.popperOffsets,i=he(o.placement),c=Lt(i),d=[ee,le].indexOf(i)>=0,p=d?"height":"width";if(!(!s||!l)){var b=Jr(a.padding,o),y=Bt(s),f=c==="y"?Q:ee,j=c==="y"?ie:le,g=o.rects.reference[p]+o.rects.reference[c]-l[c]-o.rects.popper[p],h=l[c]-o.rects.reference[c],x=it(s),w=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,O=g/2-h/2,C=b[f],D=w-y[p]-b[j],A=w/2-y[p]/2+O,R=tt(C,A,D),M=c;o.modifiersData[r]=(e={},e[M]=R,e.centerOffset=R-A,e)}}function Qr(t){var e=t.state,o=t.options,r=o.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||_o(e.elements.popper,a)&&(e.elements.arrow=a))}const en={name:"arrow",enabled:!0,phase:"main",fn:Zr,effect:Qr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ue(t){return t.split("-")[1]}var tn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function on(t,e){var o=t.x,r=t.y,a=e.devicePixelRatio||1;return{x:Be(o*a)/a||0,y:Be(r*a)/a||0}}function co(t){var e,o=t.popper,r=t.popperRect,a=t.placement,s=t.variation,l=t.offsets,i=t.position,c=t.gpuAcceleration,d=t.adaptive,p=t.roundOffsets,b=t.isFixed,y=l.x,f=y===void 0?0:y,j=l.y,g=j===void 0?0:j,h=typeof p=="function"?p({x:f,y:g}):{x:f,y:g};f=h.x,g=h.y;var x=l.hasOwnProperty("x"),w=l.hasOwnProperty("y"),O=ee,C=Q,D=window;if(d){var A=it(o),R="clientHeight",M="clientWidth";if(A===re(o)&&(A=Oe(o),ve(A).position!=="static"&&i==="absolute"&&(R="scrollHeight",M="scrollWidth")),A=A,a===Q||(a===ee||a===le)&&s===nt){C=ie;var I=b&&A===D&&D.visualViewport?D.visualViewport.height:A[R];g-=I-r.height,g*=c?1:-1}if(a===ee||(a===Q||a===ie)&&s===nt){O=le;var S=b&&A===D&&D.visualViewport?D.visualViewport.width:A[M];f-=S-r.width,f*=c?1:-1}}var P=Object.assign({position:i},d&&tn),m=p===!0?on({x:f,y:g},re(o)):{x:f,y:g};if(f=m.x,g=m.y,c){var v;return Object.assign({},P,(v={},v[C]=w?"0":"",v[O]=x?"0":"",v.transform=(D.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",v))}return Object.assign({},P,(e={},e[C]=w?g+"px":"",e[O]=x?f+"px":"",e.transform="",e))}function rn(t){var e=t.state,o=t.options,r=o.gpuAcceleration,a=r===void 0?!0:r,s=o.adaptive,l=s===void 0?!0:s,i=o.roundOffsets,c=i===void 0?!0:i,d={placement:he(e.placement),variation:Ue(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,co(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,co(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const nn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rn,data:{}};var ft={passive:!0};function an(t){var e=t.state,o=t.instance,r=t.options,a=r.scroll,s=a===void 0?!0:a,l=r.resize,i=l===void 0?!0:l,c=re(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(p){p.addEventListener("scroll",o.update,ft)}),i&&c.addEventListener("resize",o.update,ft),function(){s&&d.forEach(function(p){p.removeEventListener("scroll",o.update,ft)}),i&&c.removeEventListener("resize",o.update,ft)}}const sn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:an,data:{}};var ln={left:"right",right:"left",bottom:"top",top:"bottom"};function bt(t){return t.replace(/left|right|bottom|top/g,function(e){return ln[e]})}var cn={start:"end",end:"start"};function po(t){return t.replace(/start|end/g,function(e){return cn[e]})}function Ut(t){var e=re(t),o=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:o,scrollTop:r}}function Nt(t){return Le(Oe(t)).left+Ut(t).scrollLeft}function pn(t,e){var o=re(t),r=Oe(t),a=o.visualViewport,s=r.clientWidth,l=r.clientHeight,i=0,c=0;if(a){s=a.width,l=a.height;var d=Eo();(d||!d&&e==="fixed")&&(i=a.offsetLeft,c=a.offsetTop)}return{width:s,height:l,x:i+Nt(t),y:c}}function dn(t){var e,o=Oe(t),r=Ut(t),a=(e=t.ownerDocument)==null?void 0:e.body,s=Me(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=Me(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-r.scrollLeft+Nt(t),c=-r.scrollTop;return ve(a||o).direction==="rtl"&&(i+=Me(o.clientWidth,a?a.clientWidth:0)-s),{width:s,height:l,x:i,y:c}}function zt(t){var e=ve(t),o=e.overflow,r=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(o+a+r)}function Lo(t){return["html","body","#document"].indexOf(ge(t))>=0?t.ownerDocument.body:se(t)&&zt(t)?t:Lo(Ct(t))}function ot(t,e){var o;e===void 0&&(e=[]);var r=Lo(t),a=r===((o=t.ownerDocument)==null?void 0:o.body),s=re(r),l=a?[s].concat(s.visualViewport||[],zt(r)?r:[]):r,i=e.concat(l);return a?i:i.concat(ot(Ct(l)))}function Mt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function un(t,e){var o=Le(t,!1,e==="fixed");return o.top=o.top+t.clientTop,o.left=o.left+t.clientLeft,o.bottom=o.top+t.clientHeight,o.right=o.left+t.clientWidth,o.width=t.clientWidth,o.height=t.clientHeight,o.x=o.left,o.y=o.top,o}function uo(t,e,o){return e===ko?Mt(pn(t,o)):ke(e)?un(e,o):Mt(dn(Oe(t)))}function fn(t){var e=ot(Ct(t)),o=["absolute","fixed"].indexOf(ve(t).position)>=0,r=o&&se(t)?it(t):t;return ke(r)?e.filter(function(a){return ke(a)&&_o(a,r)&&ge(a)!=="body"}):[]}function hn(t,e,o,r){var a=e==="clippingParents"?fn(t):[].concat(e),s=[].concat(a,[o]),l=s[0],i=s.reduce(function(c,d){var p=uo(t,d,r);return c.top=Me(p.top,c.top),c.right=wt(p.right,c.right),c.bottom=wt(p.bottom,c.bottom),c.left=Me(p.left,c.left),c},uo(t,l,r));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Uo(t){var e=t.reference,o=t.element,r=t.placement,a=r?he(r):null,s=r?Ue(r):null,l=e.x+e.width/2-o.width/2,i=e.y+e.height/2-o.height/2,c;switch(a){case Q:c={x:l,y:e.y-o.height};break;case ie:c={x:l,y:e.y+e.height};break;case le:c={x:e.x+e.width,y:i};break;case ee:c={x:e.x-o.width,y:i};break;default:c={x:e.x,y:e.y}}var d=a?Lt(a):null;if(d!=null){var p=d==="y"?"height":"width";switch(s){case We:c[d]=c[d]-(e[p]/2-o[p]/2);break;case nt:c[d]=c[d]+(e[p]/2-o[p]/2);break}}return c}function at(t,e){e===void 0&&(e={});var o=e,r=o.placement,a=r===void 0?t.placement:r,s=o.strategy,l=s===void 0?t.strategy:s,i=o.boundary,c=i===void 0?Ir:i,d=o.rootBoundary,p=d===void 0?ko:d,b=o.elementContext,y=b===void 0?Je:b,f=o.altBoundary,j=f===void 0?!1:f,g=o.padding,h=g===void 0?0:g,x=Wo(typeof h!="number"?h:Bo(h,st)),w=y===Je?Er:Je,O=t.rects.popper,C=t.elements[j?w:y],D=hn(ke(C)?C:C.contextElement||Oe(t.elements.popper),c,p,l),A=Le(t.elements.reference),R=Uo({reference:A,element:O,placement:a}),M=Mt(Object.assign({},O,R)),I=y===Je?M:A,S={top:D.top-I.top+x.top,bottom:I.bottom-D.bottom+x.bottom,left:D.left-I.left+x.left,right:I.right-D.right+x.right},P=t.modifiersData.offset;if(y===Je&&P){var m=P[a];Object.keys(S).forEach(function(v){var _=[le,ie].indexOf(v)>=0?1:-1,L=[Q,ie].indexOf(v)>=0?"y":"x";S[v]+=m[L]*_})}return S}function mn(t,e){e===void 0&&(e={});var o=e,r=o.placement,a=o.boundary,s=o.rootBoundary,l=o.padding,i=o.flipVariations,c=o.allowedAutoPlacements,d=c===void 0?Io:c,p=Ue(r),b=p?i?io:io.filter(function(j){return Ue(j)===p}):st,y=b.filter(function(j){return d.indexOf(j)>=0});y.length===0&&(y=b);var f=y.reduce(function(j,g){return j[g]=at(t,{placement:g,boundary:a,rootBoundary:s,padding:l})[he(g)],j},{});return Object.keys(f).sort(function(j,g){return f[j]-f[g]})}function gn(t){if(he(t)===$t)return[];var e=bt(t);return[po(t),e,po(e)]}function vn(t){var e=t.state,o=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var a=o.mainAxis,s=a===void 0?!0:a,l=o.altAxis,i=l===void 0?!0:l,c=o.fallbackPlacements,d=o.padding,p=o.boundary,b=o.rootBoundary,y=o.altBoundary,f=o.flipVariations,j=f===void 0?!0:f,g=o.allowedAutoPlacements,h=e.options.placement,x=he(h),w=x===h,O=c||(w||!j?[bt(h)]:gn(h)),C=[h].concat(O).reduce(function(U,z){return U.concat(he(z)===$t?mn(e,{placement:z,boundary:p,rootBoundary:b,padding:d,flipVariations:j,allowedAutoPlacements:g}):z)},[]),D=e.rects.reference,A=e.rects.popper,R=new Map,M=!0,I=C[0],S=0;S<C.length;S++){var P=C[S],m=he(P),v=Ue(P)===We,_=[Q,ie].indexOf(m)>=0,L=_?"width":"height",$=at(e,{placement:P,boundary:p,rootBoundary:b,altBoundary:y,padding:d}),B=_?v?le:ee:v?ie:Q;D[L]>A[L]&&(B=bt(B));var H=bt(B),q=[];if(s&&q.push($[m]<=0),i&&q.push($[B]<=0,$[H]<=0),q.every(function(U){return U})){I=P,M=!1;break}R.set(P,q)}if(M)for(var X=j?3:1,ne=function(z){var G=C.find(function(ue){var J=R.get(ue);if(J)return J.slice(0,z).every(function(Ce){return Ce})});if(G)return I=G,"break"},N=X;N>0;N--){var T=ne(N);if(T==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const bn={name:"flip",enabled:!0,phase:"main",fn:vn,requiresIfExists:["offset"],data:{_skip:!1}};function fo(t,e,o){return o===void 0&&(o={x:0,y:0}),{top:t.top-e.height-o.y,right:t.right-e.width+o.x,bottom:t.bottom-e.height+o.y,left:t.left-e.width-o.x}}function ho(t){return[Q,le,ie,ee].some(function(e){return t[e]>=0})}function xn(t){var e=t.state,o=t.name,r=e.rects.reference,a=e.rects.popper,s=e.modifiersData.preventOverflow,l=at(e,{elementContext:"reference"}),i=at(e,{altBoundary:!0}),c=fo(l,r),d=fo(i,a,s),p=ho(c),b=ho(d);e.modifiersData[o]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:b},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":b})}const yn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xn};function wn(t,e,o){var r=he(t),a=[ee,Q].indexOf(r)>=0?-1:1,s=typeof o=="function"?o(Object.assign({},e,{placement:t})):o,l=s[0],i=s[1];return l=l||0,i=(i||0)*a,[ee,le].indexOf(r)>=0?{x:i,y:l}:{x:l,y:i}}function Cn(t){var e=t.state,o=t.options,r=t.name,a=o.offset,s=a===void 0?[0,0]:a,l=Io.reduce(function(p,b){return p[b]=wn(b,e.rects,s),p},{}),i=l[e.placement],c=i.x,d=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=l}const jn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Cn};function Tn(t){var e=t.state,o=t.name;e.modifiersData[o]=Uo({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Pn={name:"popperOffsets",enabled:!0,phase:"read",fn:Tn,data:{}};function On(t){return t==="x"?"y":"x"}function An(t){var e=t.state,o=t.options,r=t.name,a=o.mainAxis,s=a===void 0?!0:a,l=o.altAxis,i=l===void 0?!1:l,c=o.boundary,d=o.rootBoundary,p=o.altBoundary,b=o.padding,y=o.tether,f=y===void 0?!0:y,j=o.tetherOffset,g=j===void 0?0:j,h=at(e,{boundary:c,rootBoundary:d,padding:b,altBoundary:p}),x=he(e.placement),w=Ue(e.placement),O=!w,C=Lt(x),D=On(C),A=e.modifiersData.popperOffsets,R=e.rects.reference,M=e.rects.popper,I=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,S=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,m={x:0,y:0};if(A){if(s){var v,_=C==="y"?Q:ee,L=C==="y"?ie:le,$=C==="y"?"height":"width",B=A[C],H=B+h[_],q=B-h[L],X=f?-M[$]/2:0,ne=w===We?R[$]:M[$],N=w===We?-M[$]:-R[$],T=e.elements.arrow,U=f&&T?Bt(T):{width:0,height:0},z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$o(),G=z[_],ue=z[L],J=tt(0,R[$],U[$]),Ce=O?R[$]/2-X-J-G-S.mainAxis:ne-J-G-S.mainAxis,Fe=O?-R[$]/2+X+J+ue+S.mainAxis:N+J+ue+S.mainAxis,je=e.elements.arrow&&it(e.elements.arrow),te=je?C==="y"?je.clientTop||0:je.clientLeft||0:0,ae=(v=P==null?void 0:P[C])!=null?v:0,Ae=B+Ce-ae-te,Ie=B+Fe-ae,He=tt(f?wt(H,Ae):H,B,f?Me(q,Ie):q);A[C]=He,m[C]=He-B}if(i){var De,Ee=C==="x"?Q:ee,Ve=C==="x"?ie:le,fe=A[D],Re=D==="y"?"height":"width",qe=fe+h[Ee],Xe=fe-h[Ve],Ye=[Q,ee].indexOf(x)!==-1,lt=(De=P==null?void 0:P[D])!=null?De:0,ct=Ye?qe:fe-R[Re]-M[Re]-lt+S.altAxis,_e=Ye?fe+R[Re]+M[Re]-lt-S.altAxis:Xe,pt=f&&Ye?Gr(ct,fe,_e):tt(f?ct:qe,fe,f?_e:Xe);A[D]=pt,m[D]=pt-fe}e.modifiersData[r]=m}}const Dn={name:"preventOverflow",enabled:!0,phase:"main",fn:An,requiresIfExists:["offset"]};function Rn(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Sn(t){return t===re(t)||!se(t)?Ut(t):Rn(t)}function Mn(t){var e=t.getBoundingClientRect(),o=Be(e.width)/t.offsetWidth||1,r=Be(e.height)/t.offsetHeight||1;return o!==1||r!==1}function kn(t,e,o){o===void 0&&(o=!1);var r=se(e),a=se(e)&&Mn(e),s=Oe(e),l=Le(t,a,o),i={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!o)&&((ge(e)!=="body"||zt(s))&&(i=Sn(e)),se(e)?(c=Le(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=Nt(s))),{x:l.left+i.scrollLeft-c.x,y:l.top+i.scrollTop-c.y,width:l.width,height:l.height}}function In(t){var e=new Map,o=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function a(s){o.add(s.name);var l=[].concat(s.requires||[],s.requiresIfExists||[]);l.forEach(function(i){if(!o.has(i)){var c=e.get(i);c&&a(c)}}),r.push(s)}return t.forEach(function(s){o.has(s.name)||a(s)}),r}function En(t){var e=In(t);return Hr.reduce(function(o,r){return o.concat(e.filter(function(a){return a.phase===r}))},[])}function _n(t){var e;return function(){return e||(e=new Promise(function(o){Promise.resolve().then(function(){e=void 0,o(t())})})),e}}function $n(t){var e=t.reduce(function(o,r){var a=o[r.name];return o[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,o},{});return Object.keys(e).map(function(o){return e[o]})}var mo={placement:"bottom",modifiers:[],strategy:"absolute"};function go(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Wn(t){t===void 0&&(t={});var e=t,o=e.defaultModifiers,r=o===void 0?[]:o,a=e.defaultOptions,s=a===void 0?mo:a;return function(i,c,d){d===void 0&&(d=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},mo,s),modifiersData:{},elements:{reference:i,popper:c},attributes:{},styles:{}},b=[],y=!1,f={state:p,setOptions:function(x){var w=typeof x=="function"?x(p.options):x;g(),p.options=Object.assign({},s,p.options,w),p.scrollParents={reference:ke(i)?ot(i):i.contextElement?ot(i.contextElement):[],popper:ot(c)};var O=En($n([].concat(r,p.options.modifiers)));return p.orderedModifiers=O.filter(function(C){return C.enabled}),j(),f.update()},forceUpdate:function(){if(!y){var x=p.elements,w=x.reference,O=x.popper;if(go(w,O)){p.rects={reference:kn(w,it(O),p.options.strategy==="fixed"),popper:Bt(O)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(S){return p.modifiersData[S.name]=Object.assign({},S.data)});for(var C=0;C<p.orderedModifiers.length;C++){if(p.reset===!0){p.reset=!1,C=-1;continue}var D=p.orderedModifiers[C],A=D.fn,R=D.options,M=R===void 0?{}:R,I=D.name;typeof A=="function"&&(p=A({state:p,options:M,name:I,instance:f})||p)}}}},update:_n(function(){return new Promise(function(h){f.forceUpdate(),h(p)})}),destroy:function(){g(),y=!0}};if(!go(i,c))return f;f.setOptions(d).then(function(h){!y&&d.onFirstUpdate&&d.onFirstUpdate(h)});function j(){p.orderedModifiers.forEach(function(h){var x=h.name,w=h.options,O=w===void 0?{}:w,C=h.effect;if(typeof C=="function"){var D=C({state:p,name:x,instance:f,options:O}),A=function(){};b.push(D||A)}})}function g(){b.forEach(function(h){return h()}),b=[]}return f}}var Bn=[sn,Pn,nn,Xr,jn,bn,Dn,en,yn],Ln=Wn({defaultModifiers:Bn});function Un(t){return be("MuiPopper",t)}xe("MuiPopper",["root"]);function Nn(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function kt(t){return typeof t=="function"?t():t}function zn(t){return t.nodeType!==void 0}const Fn=t=>{const{classes:e}=t;return ye({root:["root"]},Un,e)},Hn={},Vn=u.forwardRef(function(e,o){const{anchorEl:r,children:a,direction:s,disablePortal:l,modifiers:i,open:c,placement:d,popperOptions:p,popperRef:b,slotProps:y={},slots:f={},TransitionProps:j,ownerState:g,...h}=e,x=u.useRef(null),w=Rt(x,o),O=u.useRef(null),C=Rt(O,b),D=u.useRef(C);Qt(()=>{D.current=C},[C]),u.useImperativeHandle(b,()=>O.current,[]);const A=Nn(d,s),[R,M]=u.useState(A),[I,S]=u.useState(kt(r));u.useEffect(()=>{O.current&&O.current.forceUpdate()}),u.useEffect(()=>{r&&S(kt(r))},[r]),Qt(()=>{if(!I||!c)return;const L=H=>{M(H.placement)};let $=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:H})=>{L(H)}}];i!=null&&($=$.concat(i)),p&&p.modifiers!=null&&($=$.concat(p.modifiers));const B=Ln(I,x.current,{placement:A,...p,modifiers:$});return D.current(B),()=>{B.destroy(),D.current(null)}},[I,l,i,c,p,A]);const P={placement:R};j!==null&&(P.TransitionProps=j);const m=Fn(e),v=f.root??"div",_=Ar({elementType:v,externalSlotProps:y.root,externalForwardedProps:h,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:m.root});return n.jsx(v,{..._,children:typeof a=="function"?a(P):a})}),qn=u.forwardRef(function(e,o){const{anchorEl:r,children:a,container:s,direction:l="ltr",disablePortal:i=!1,keepMounted:c=!1,modifiers:d,open:p,placement:b="bottom",popperOptions:y=Hn,popperRef:f,style:j,transition:g=!1,slotProps:h={},slots:x={},...w}=e,[O,C]=u.useState(!0),D=()=>{C(!1)},A=()=>{C(!0)};if(!c&&!p&&(!g||O))return null;let R;if(s)R=s;else if(r){const S=kt(r);R=S&&zn(S)?ao(S).body:ao(null).body}const M=!p&&c&&(!g||O)?"none":void 0,I=g?{in:p,onEnter:D,onExited:A}:void 0;return n.jsx(Or,{disablePortal:i,container:R,children:n.jsx(Vn,{anchorEl:r,direction:l,disablePortal:i,modifiers:d,ref:o,open:g?!O:p,placement:b,popperOptions:y,popperRef:f,slotProps:h,slots:x,...w,style:{position:"fixed",top:0,left:0,display:M,...j},TransitionProps:I,children:a})})}),Xn=Y(qn,{name:"MuiPopper",slot:"Root"})({}),No=u.forwardRef(function(e,o){const r=Co(),a=we({props:e,name:"MuiPopper"}),{anchorEl:s,component:l,components:i,componentsProps:c,container:d,disablePortal:p,keepMounted:b,modifiers:y,open:f,placement:j,popperOptions:g,popperRef:h,transition:x,slots:w,slotProps:O,...C}=a,D=(w==null?void 0:w.root)??(i==null?void 0:i.Root),A={anchorEl:s,container:d,disablePortal:p,keepMounted:b,modifiers:y,open:f,placement:j,popperOptions:g,popperRef:h,transition:x,...C};return n.jsx(Xn,{as:l,direction:r?"rtl":"ltr",slots:{root:D},slotProps:O??c,...A,ref:o})});function Yn(t){const{badgeContent:e,invisible:o=!1,max:r=99,showZero:a=!1}=t,s=Mo({badgeContent:e,max:r});let l=o;o===!1&&e===0&&!a&&(l=!0);const{badgeContent:i,max:c=r}=l?s:t,d=i&&Number(i)>c?`${c}+`:i;return{badgeContent:i,invisible:l,max:c,displayValue:d}}function Kn(t){return be("MuiBadge",t)}const Te=xe("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Pt=10,Ot=4,Gn=t=>{const{color:e,anchorOrigin:o,invisible:r,overlap:a,variant:s,classes:l={}}=t,i={root:["root"],badge:["badge",s,r&&"invisible",`anchorOrigin${V(o.vertical)}${V(o.horizontal)}`,`anchorOrigin${V(o.vertical)}${V(o.horizontal)}${V(a)}`,`overlap${V(a)}`,e!=="default"&&`color${V(e)}`]};return ye(i,Kn,l)},Jn=Y("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Zn=Y("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.badge,e[o.variant],e[`anchorOrigin${V(o.anchorOrigin.vertical)}${V(o.anchorOrigin.horizontal)}${V(o.overlap)}`],o.color!=="default"&&e[`color${V(o.color)}`],o.invisible&&e.invisible]}})(Ne(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Pt*2,lineHeight:1,padding:"0 6px",height:Pt*2,borderRadius:Pt,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(hr(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Ot,height:Ot*2,minWidth:Ot*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Te.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Te.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Te.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Te.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Te.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Te.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Te.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Te.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function vo(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const Qn=u.forwardRef(function(e,o){const r=we({props:e,name:"MuiBadge"}),{anchorOrigin:a,className:s,classes:l,component:i,components:c={},componentsProps:d={},children:p,overlap:b="rectangular",color:y="default",invisible:f=!1,max:j=99,badgeContent:g,slots:h,slotProps:x,showZero:w=!1,variant:O="standard",...C}=r,{badgeContent:D,invisible:A,max:R,displayValue:M}=Yn({max:j,invisible:f,badgeContent:g,showZero:w}),I=Mo({anchorOrigin:vo(a),color:y,overlap:b,variant:O,badgeContent:g}),S=A||D==null&&O!=="dot",{color:P=y,overlap:m=b,anchorOrigin:v,variant:_=O}=S?I:r,L=vo(v),$=_!=="dot"?M:void 0,B={...r,badgeContent:D,invisible:S,max:R,displayValue:$,showZero:w,anchorOrigin:L,color:P,overlap:m,variant:_},H=Gn(B),q={slots:{root:(h==null?void 0:h.root)??c.Root,badge:(h==null?void 0:h.badge)??c.Badge},slotProps:{root:(x==null?void 0:x.root)??d.root,badge:(x==null?void 0:x.badge)??d.badge}},[X,ne]=Z("root",{elementType:Jn,externalForwardedProps:{...q,...C},ownerState:B,className:me(H.root,s),ref:o,additionalProps:{as:i}}),[N,T]=Z("badge",{elementType:Zn,externalForwardedProps:q,ownerState:B,className:H.badge});return n.jsxs(X,{...ne,children:[p,n.jsx(N,{...T,children:$})]})});function ea(t){return be("MuiDialog",t)}const At=xe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),zo=u.createContext({}),ta=Y(Rr,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),oa=t=>{const{classes:e,scroll:o,maxWidth:r,fullWidth:a,fullScreen:s}=t,l={root:["root"],container:["container",`scroll${V(o)}`],paper:["paper",`paperScroll${V(o)}`,`paperWidth${V(String(r))}`,a&&"paperFullWidth",s&&"paperFullScreen"]};return ye(l,ea,e)},ra=Y(Dr,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),na=Y("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.container,e[`scroll${V(o.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),aa=Y(jo,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.paper,e[`scrollPaper${V(o.scroll)}`],e[`paperWidth${V(String(o.maxWidth))}`],o.fullWidth&&e.paperFullWidth,o.fullScreen&&e.paperFullScreen]}})(Ne(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${At.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${At.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${At.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Ft=u.forwardRef(function(e,o){const r=we({props:e,name:"MuiDialog"}),a=_t(),s={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":i,"aria-modal":c=!0,BackdropComponent:d,BackdropProps:p,children:b,className:y,disableEscapeKeyDown:f=!1,fullScreen:j=!1,fullWidth:g=!1,maxWidth:h="sm",onClick:x,onClose:w,open:O,PaperComponent:C=jo,PaperProps:D={},scroll:A="paper",slots:R={},slotProps:M={},TransitionComponent:I=so,transitionDuration:S=s,TransitionProps:P,...m}=r,v={...r,disableEscapeKeyDown:f,fullScreen:j,fullWidth:g,maxWidth:h,scroll:A},_=oa(v),L=u.useRef(),$=ae=>{L.current=ae.target===ae.currentTarget},B=ae=>{x&&x(ae),L.current&&(L.current=null,w&&w(ae,"backdropClick"))},H=Ro(i),q=u.useMemo(()=>({titleId:H}),[H]),X={transition:I,...R},ne={transition:P,paper:D,backdrop:p,...M},N={slots:X,slotProps:ne},[T,U]=Z("root",{elementType:ra,shouldForwardComponentProp:!0,externalForwardedProps:N,ownerState:v,className:me(_.root,y),ref:o}),[z,G]=Z("backdrop",{elementType:ta,shouldForwardComponentProp:!0,externalForwardedProps:N,ownerState:v}),[ue,J]=Z("paper",{elementType:aa,shouldForwardComponentProp:!0,externalForwardedProps:N,ownerState:v,className:me(_.paper,D.className)}),[Ce,Fe]=Z("container",{elementType:na,externalForwardedProps:N,ownerState:v,className:_.container}),[je,te]=Z("transition",{elementType:so,externalForwardedProps:N,ownerState:v,additionalProps:{appear:!0,in:O,timeout:S,role:"presentation"}});return n.jsx(T,{closeAfterTransition:!0,slots:{backdrop:z},slotProps:{backdrop:{transitionDuration:S,as:d,...G}},disableEscapeKeyDown:f,onClose:w,open:O,onClick:B,...U,...m,children:n.jsx(je,{...te,children:n.jsx(Ce,{onMouseDown:$,...Fe,children:n.jsx(ue,{as:C,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":H,"aria-modal":c,...J,children:n.jsx(zo.Provider,{value:q,children:b})})})})})});function sa(t){return be("MuiDialogActions",t)}xe("MuiDialogActions",["root","spacing"]);const ia=t=>{const{classes:e,disableSpacing:o}=t;return ye({root:["root",!o&&"spacing"]},sa,e)},la=Y("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,!o.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Ht=u.forwardRef(function(e,o){const r=we({props:e,name:"MuiDialogActions"}),{className:a,disableSpacing:s=!1,...l}=r,i={...r,disableSpacing:s},c=ia(i);return n.jsx(la,{className:me(c.root,a),ownerState:i,ref:o,...l})});function ca(t){return be("MuiDialogContent",t)}xe("MuiDialogContent",["root","dividers"]);function pa(t){return be("MuiDialogTitle",t)}const da=xe("MuiDialogTitle",["root"]),ua=t=>{const{classes:e,dividers:o}=t;return ye({root:["root",o&&"dividers"]},ca,e)},fa=Y("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.dividers&&e.dividers]}})(Ne(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${da.root} + &`]:{paddingTop:0}}}]}))),Vt=u.forwardRef(function(e,o){const r=we({props:e,name:"MuiDialogContent"}),{className:a,dividers:s=!1,...l}=r,i={...r,dividers:s},c=ua(i);return n.jsx(fa,{className:me(c.root,a),ownerState:i,ref:o,...l})}),ha=t=>{const{classes:e}=t;return ye({root:["root"]},pa,e)},ma=Y(k,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),qt=u.forwardRef(function(e,o){const r=we({props:e,name:"MuiDialogTitle"}),{className:a,id:s,...l}=r,i=r,c=ha(i),{titleId:d=s}=u.useContext(zo);return n.jsx(ma,{component:"h2",className:me(c.root,a),ownerState:i,ref:o,variant:"h6",id:s??d,...l})});function ga(t){return be("MuiListItemAvatar",t)}xe("MuiListItemAvatar",["root","alignItemsFlexStart"]);const va=t=>{const{alignItems:e,classes:o}=t;return ye({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},ga,o)},ba=Y("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.alignItems==="flex-start"&&e.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),Fo=u.forwardRef(function(e,o){const r=we({props:e,name:"MuiListItemAvatar"}),{className:a,...s}=r,l=u.useContext(To),i={...r,alignItems:l.alignItems},c=va(i);return n.jsx(ba,{className:me(c.root,a),ownerState:i,ref:o,...s})});function xa(t){return be("MuiListItemText",t)}const ht=xe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),ya=t=>{const{classes:e,inset:o,primary:r,secondary:a,dense:s}=t;return ye({root:["root",o&&"inset",s&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},xa,e)},wa=Y("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${ht.primary}`]:e.primary},{[`& .${ht.secondary}`]:e.secondary},e.root,o.inset&&e.inset,o.primary&&o.secondary&&e.multiline,o.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${eo.root}:where(& .${ht.primary})`]:{display:"block"},[`.${eo.root}:where(& .${ht.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Ho=u.forwardRef(function(e,o){const r=we({props:e,name:"MuiListItemText"}),{children:a,className:s,disableTypography:l=!1,inset:i=!1,primary:c,primaryTypographyProps:d,secondary:p,secondaryTypographyProps:b,slots:y={},slotProps:f={},...j}=r,{dense:g}=u.useContext(To);let h=c??a,x=p;const w={...r,disableTypography:l,inset:i,primary:!!h,secondary:!!x,dense:g},O=ya(w),C={slots:y,slotProps:{primary:d,secondary:b,...f}},[D,A]=Z("root",{className:me(O.root,s),elementType:wa,externalForwardedProps:{...C,...j},ownerState:w,ref:o}),[R,M]=Z("primary",{className:O.primary,elementType:k,externalForwardedProps:C,ownerState:w}),[I,S]=Z("secondary",{className:O.secondary,elementType:k,externalForwardedProps:C,ownerState:w});return h!=null&&h.type!==k&&!l&&(h=n.jsx(R,{variant:g?"body2":"body1",component:M!=null&&M.variant?void 0:"span",...M,children:h})),x!=null&&x.type!==k&&!l&&(x=n.jsx(I,{variant:"body2",color:"textSecondary",...S,children:x})),n.jsxs(D,{...A,children:[h,x]})});function Ca(t){return be("MuiTooltip",t)}const F=xe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function ja(t){return Math.round(t*1e5)/1e5}const Ta=t=>{const{classes:e,disableInteractive:o,arrow:r,touch:a,placement:s}=t,l={popper:["popper",!o&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",a&&"touch",`tooltipPlacement${V(s.split("-")[0])}`],arrow:["arrow"]};return ye(l,Ca,e)},Pa=Y(No,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.popper,!o.disableInteractive&&e.popperInteractive,o.arrow&&e.popperArrow,!o.open&&e.popperClose]}})(Ne(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${F.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${F.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${F.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${F.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${F.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${F.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${F.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${F.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Oa=Y("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.tooltip,o.touch&&e.touch,o.arrow&&e.tooltipArrow,e[`tooltipPlacement${V(o.placement.split("-")[0])}`]]}})(Ne(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Po(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${F.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${F.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${F.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${F.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${ja(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${F.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${F.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${F.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${F.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${F.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${F.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${F.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${F.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${F.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${F.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Aa=Y("span",{name:"MuiTooltip",slot:"Arrow"})(Ne(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Po(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let mt=!1;const bo=new mr;let Ze={x:0,y:0};function gt(t,e){return(o,...r)=>{e&&e(o,...r),t(o,...r)}}const It=u.forwardRef(function(e,o){const r=we({props:e,name:"MuiTooltip"}),{arrow:a=!1,children:s,classes:l,components:i={},componentsProps:c={},describeChild:d=!1,disableFocusListener:p=!1,disableHoverListener:b=!1,disableInteractive:y=!1,disableTouchListener:f=!1,enterDelay:j=100,enterNextDelay:g=0,enterTouchDelay:h=700,followCursor:x=!1,id:w,leaveDelay:O=0,leaveTouchDelay:C=1500,onClose:D,onOpen:A,open:R,placement:M="bottom",PopperComponent:I,PopperProps:S={},slotProps:P={},slots:m={},title:v,TransitionComponent:_,TransitionProps:L,...$}=r,B=u.isValidElement(s)?s:n.jsx("span",{children:s}),H=_t(),q=Co(),[X,ne]=u.useState(),[N,T]=u.useState(null),U=u.useRef(!1),z=y||x,G=ut(),ue=ut(),J=ut(),Ce=ut(),[Fe,je]=Sr({controlled:R,default:!1,name:"Tooltip",state:"open"});let te=Fe;const ae=Ro(w),Ae=u.useRef(),Ie=to(()=>{Ae.current!==void 0&&(document.body.style.WebkitUserSelect=Ae.current,Ae.current=void 0),Ce.clear()});u.useEffect(()=>Ie,[Ie]);const He=E=>{bo.clear(),mt=!0,je(!0),A&&!te&&A(E)},De=to(E=>{bo.start(800+O,()=>{mt=!1}),je(!1),D&&te&&D(E),G.start(H.transitions.duration.shortest,()=>{U.current=!1})}),Ee=E=>{U.current&&E.type!=="touchstart"||(X&&X.removeAttribute("title"),ue.clear(),J.clear(),j||mt&&g?ue.start(mt?g:j,()=>{He(E)}):He(E))},Ve=E=>{ue.clear(),J.start(O,()=>{De(E)})},[,fe]=u.useState(!1),Re=E=>{oo(E.target)||(fe(!1),Ve(E))},qe=E=>{X||ne(E.currentTarget),oo(E.target)&&(fe(!0),Ee(E))},Xe=E=>{U.current=!0;const de=B.props;de.onTouchStart&&de.onTouchStart(E)},Ye=E=>{Xe(E),J.clear(),G.clear(),Ie(),Ae.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ce.start(h,()=>{document.body.style.WebkitUserSelect=Ae.current,Ee(E)})},lt=E=>{B.props.onTouchEnd&&B.props.onTouchEnd(E),Ie(),J.start(C,()=>{De(E)})};u.useEffect(()=>{if(!te)return;function E(de){de.key==="Escape"&&De(de)}return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[De,te]);const ct=Rt(Mr(B),ne,o);!v&&v!==0&&(te=!1);const _e=u.useRef(),pt=E=>{const de=B.props;de.onMouseMove&&de.onMouseMove(E),Ze={x:E.clientX,y:E.clientY},_e.current&&_e.current.update()},Ke={},jt=typeof v=="string";d?(Ke.title=!te&&jt&&!b?v:null,Ke["aria-describedby"]=te?ae:null):(Ke["aria-label"]=jt?v:null,Ke["aria-labelledby"]=te&&!jt?ae:null);const ce={...Ke,...$,...B.props,className:me($.className,B.props.className),onTouchStart:Xe,ref:ct,...x?{onMouseMove:pt}:{}},Ge={};f||(ce.onTouchStart=Ye,ce.onTouchEnd=lt),b||(ce.onMouseOver=gt(Ee,ce.onMouseOver),ce.onMouseLeave=gt(Ve,ce.onMouseLeave),z||(Ge.onMouseOver=Ee,Ge.onMouseLeave=Ve)),p||(ce.onFocus=gt(qe,ce.onFocus),ce.onBlur=gt(Re,ce.onBlur),z||(Ge.onFocus=qe,Ge.onBlur=Re));const Se={...r,isRtl:q,arrow:a,disableInteractive:z,placement:M,PopperComponentProp:I,touch:U.current},pe=typeof P.popper=="function"?P.popper(Se):P.popper,nr=u.useMemo(()=>{var de,Zt;let E=[{name:"arrow",enabled:!!N,options:{element:N,padding:4}}];return(de=S.popperOptions)!=null&&de.modifiers&&(E=E.concat(S.popperOptions.modifiers)),(Zt=pe==null?void 0:pe.popperOptions)!=null&&Zt.modifiers&&(E=E.concat(pe.popperOptions.modifiers)),{...S.popperOptions,...pe==null?void 0:pe.popperOptions,modifiers:E}},[N,S.popperOptions,pe==null?void 0:pe.popperOptions]),Tt=Ta(Se),ar=typeof P.transition=="function"?P.transition(Se):P.transition,dt={slots:{popper:i.Popper,transition:i.Transition??_,tooltip:i.Tooltip,arrow:i.Arrow,...m},slotProps:{arrow:P.arrow??c.arrow,popper:{...S,...pe??c.popper},tooltip:P.tooltip??c.tooltip,transition:{...L,...ar??c.transition}}},[sr,ir]=Z("popper",{elementType:Pa,externalForwardedProps:dt,ownerState:Se,className:me(Tt.popper,S==null?void 0:S.className)}),[lr,cr]=Z("transition",{elementType:kr,externalForwardedProps:dt,ownerState:Se}),[pr,dr]=Z("tooltip",{elementType:Oa,className:Tt.tooltip,externalForwardedProps:dt,ownerState:Se}),[ur,fr]=Z("arrow",{elementType:Aa,className:Tt.arrow,externalForwardedProps:dt,ownerState:Se,ref:T});return n.jsxs(u.Fragment,{children:[u.cloneElement(B,ce),n.jsx(sr,{as:I??No,placement:M,anchorEl:x?{getBoundingClientRect:()=>({top:Ze.y,left:Ze.x,right:Ze.x,bottom:Ze.y,width:0,height:0})}:X,popperRef:_e,open:X?te:!1,id:ae,transition:!0,...Ge,...ir,popperOptions:nr,children:({TransitionProps:E})=>n.jsx(lr,{timeout:H.transitions.duration.shorter,...E,...cr,children:n.jsxs(pr,{...dr,children:[v,a?n.jsx(ur,{...fr}):null]})})})]})});class Da extends u.Component{getSnapshotBeforeUpdate(e){const o=this.props.childRef.current;if(o&&e.isPresent&&!this.props.isPresent){const r=o.offsetParent,a=vr(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=o.offsetHeight||0,s.width=o.offsetWidth||0,s.top=o.offsetTop,s.left=o.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ra({children:t,isPresent:e,anchorX:o,root:r}){const a=u.useId(),s=u.useRef(null),l=u.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:i}=u.useContext(gr);return u.useInsertionEffect(()=>{const{width:c,height:d,top:p,left:b,right:y}=l.current;if(e||!s.current||!c||!d)return;const f=o==="left"?`left: ${b}`:`right: ${y}`;s.current.dataset.motionPopId=a;const j=document.createElement("style");i&&(j.nonce=i);const g=r??document.head;return g.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${f}px !important;
            top: ${p}px !important;
          }
        `),()=>{g.removeChild(j),g.contains(j)&&g.removeChild(j)}},[e]),n.jsx(Da,{isPresent:e,childRef:s,sizeRef:l,children:u.cloneElement(t,{ref:s})})}const Sa=({children:t,initial:e,isPresent:o,onExitComplete:r,custom:a,presenceAffectsLayout:s,mode:l,anchorX:i,root:c})=>{const d=Oo(Ma),p=u.useId();let b=!0,y=u.useMemo(()=>(b=!1,{id:p,initial:e,isPresent:o,custom:a,onExitComplete:f=>{d.set(f,!0);for(const j of d.values())if(!j)return;r&&r()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[o,d,r]);return s&&b&&(y={...y}),u.useMemo(()=>{d.forEach((f,j)=>d.set(j,!1))},[o]),u.useEffect(()=>{!o&&!d.size&&r&&r()},[o]),l==="popLayout"&&(t=n.jsx(Ra,{isPresent:o,anchorX:i,root:c,children:t})),n.jsx(br.Provider,{value:y,children:t})};function Ma(){return new Map}const vt=t=>t.key||"";function xo(t){const e=[];return u.Children.forEach(t,o=>{u.isValidElement(o)&&e.push(o)}),e}const ka=({children:t,custom:e,initial:o=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:s="sync",propagate:l=!1,anchorX:i="left",root:c})=>{const[d,p]=xr(l),b=u.useMemo(()=>xo(t),[t]),y=l&&!d?[]:b.map(vt),f=u.useRef(!0),j=u.useRef(b),g=Oo(()=>new Map),[h,x]=u.useState(b),[w,O]=u.useState(b);yr(()=>{f.current=!1,j.current=b;for(let A=0;A<w.length;A++){const R=vt(w[A]);y.includes(R)?g.delete(R):g.get(R)!==!0&&g.set(R,!1)}},[w,y.length,y.join("-")]);const C=[];if(b!==h){let A=[...b];for(let R=0;R<w.length;R++){const M=w[R],I=vt(M);y.includes(I)||(A.splice(R,0,M),C.push(M))}return s==="wait"&&C.length&&(A=C),O(xo(A)),x(b),null}const{forceRender:D}=u.useContext(wr);return n.jsx(n.Fragment,{children:w.map(A=>{const R=vt(A),M=l&&!d?!1:b===w||y.includes(R),I=()=>{if(g.has(R))g.set(R,!0);else return;let S=!0;g.forEach(P=>{P||(S=!1)}),S&&(D==null||D(),O(j.current),l&&(p==null||p()),r&&r())};return n.jsx(Sa,{isPresent:M,initial:!f.current||o?void 0:!1,custom:e,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:M?void 0:I,anchorX:i,children:A},R)})})},Ia=Pe(n.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Ea=Pe([n.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),n.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")]),_a=Pe(n.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),Dt=Pe(n.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"})),$a=Pe(n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),yo=Pe(n.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),wo=Pe(n.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Wa=Pe(n.jsx("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"})),Xt=()=>{var t;if(console.log("Инициализация Telegram WebApp..."),Kt(),typeof window<"u"&&((t=window.Telegram)!=null&&t.WebApp))try{const e=window.Telegram.WebApp;return e.ready(),e.expand(),e.setHeaderColor("#232b3b"),e.setBackgroundColor("#232b3b"),e.enableClosingConfirmation(),console.log("Telegram WebApp успешно инициализирован"),console.log("WebApp version:",e.version),console.log("WebApp platform:",e.platform),console.log("WebApp theme:",e.colorScheme),!0}catch(e){return console.error("Ошибка инициализации Telegram WebApp:",e),!1}return console.log("Telegram WebApp не найден"),!1},Vo=()=>{var t,e,o;return typeof window<"u"&&((o=(e=(t=window.Telegram)==null?void 0:t.WebApp)==null?void 0:e.initDataUnsafe)!=null&&o.user)?window.Telegram.WebApp.initDataUnsafe.user:null},Yt=()=>{var t;if(console.log("=== Telegram WebApp Debug Info ==="),typeof window>"u"){console.log("❌ Window object not available");return}if(console.log("🔍 Telegram object:",window.Telegram?"✅ Available":"❌ Not available"),(t=window.Telegram)!=null&&t.WebApp){const e=window.Telegram.WebApp;console.log("🔍 WebApp object:","✅ Available"),console.log("🔍 WebApp version:",e.version),console.log("🔍 WebApp platform:",e.platform),console.log("🔍 WebApp colorScheme:",e.colorScheme),console.log("🔍 WebApp isExpanded:",e.isExpanded),console.log("🔍 WebApp viewportHeight:",e.viewportHeight),console.log("🔍 WebApp viewportStableHeight:",e.viewportStableHeight),console.log("🔍 InitData:",e.initData?`✅ Available (${e.initData.length} chars)`:"❌ Not available"),console.log("🔍 InitDataUnsafe:",e.initDataUnsafe?"✅ Available":"❌ Not available"),e.initDataUnsafe&&(console.log("🔍 InitDataUnsafe.user:",e.initDataUnsafe.user?"✅ Available":"❌ Not available"),console.log("🔍 InitDataUnsafe.query_id:",e.initDataUnsafe.query_id?"✅ Available":"❌ Not available"),console.log("🔍 InitDataUnsafe.auth_date:",e.initDataUnsafe.auth_date?"✅ Available":"❌ Not available"),console.log("🔍 InitDataUnsafe.hash:",e.initDataUnsafe.hash?"✅ Available":"❌ Not available"),e.initDataUnsafe.user&&console.log("🔍 User data:",JSON.stringify(e.initDataUnsafe.user,null,2)))}else console.log("❌ WebApp object not available");console.log("==================================")},ze=()=>{var t;if(console.log("Получение данных авторизации Telegram..."),Yt(),typeof window<"u"&&((t=window.Telegram)!=null&&t.WebApp)){console.log("Telegram WebApp найден");const e=window.Telegram.WebApp.initData;if(console.log("Telegram initData:",e?"найден":"отсутствует"),e)return console.log("✅ Используем реальные данные initData"),e;const o=window.Telegram.WebApp.initDataUnsafe;if(console.log("Telegram initDataUnsafe:",o),o!=null&&o.user){const r=Math.floor(Date.now()/1e3),a=JSON.stringify(o.user),s=`user=${encodeURIComponent(a)}`,l=`auth_date=${r}`,i=`${s}&${l}`,c=btoa(i).replace(/[^a-zA-Z0-9]/g,"").substring(0,32),d=`${s}&${l}&hash=${c}`;return console.log("✅ Создаем данные авторизации из initDataUnsafe"),console.log("Generated auth data length:",d.length),d}}return console.warn("❌ Приложение запущено не из Telegram WebApp"),console.warn("❌ Данные авторизации недоступны"),""},qo=()=>{var t;return typeof window<"u"&&!!((t=window.Telegram)!=null&&t.WebApp)},Xo=()=>{if(console.log("🔄 Очищаем и пересоздаем данные авторизации..."),typeof window<"u"){localStorage.removeItem("telegram_init_data"),console.log("✅ Старые данные очищены");const t=ze();return console.log("✅ Новые данные созданы:",t?"успешно":"ошибка"),t}return""},Kt=()=>{typeof window<"u"&&(localStorage.removeItem("telegram_init_data"),console.log("🧹 Очищены старые данные авторизации"))},Yo=()=>{console.log("🧪 Тестируем данные авторизации...");const t=ze();if(t){console.log("✅ Данные авторизации найдены"),console.log("📊 Длина:",t.length),console.log("📋 Превью:",t.substring(0,100)+"...");try{const e=new URLSearchParams(t),o=e.get("user"),r=e.get("auth_date"),a=e.get("hash");if(console.log("🔍 Структура данных:"),console.log("  - user:",o?"есть":"отсутствует"),console.log("  - auth_date:",r?"есть":"отсутствует"),console.log("  - hash:",a?"есть":"отсутствует"),o){const s=JSON.parse(decodeURIComponent(o));console.log("👤 Данные пользователя:",s)}return!0}catch(e){return console.error("❌ Ошибка парсинга данных:",e),!1}}else return console.error("❌ Данные авторизации не найдены"),!1},Gt=async()=>{console.log("🔬 Диагностика проблемы авторизации на сервере...");try{const{debugAuthConfig:t,debugValidateTelegramData:e}=await xt(async()=>{const{debugAuthConfig:r,debugValidateTelegramData:a}=await Promise.resolve().then(()=>Jt);return{debugAuthConfig:r,debugValidateTelegramData:a}},void 0);console.log("🔍 Проверяем конфигурацию сервера...");try{const r=await t();if(console.log("🏃 Конфигурация сервера:",r),!r.telegram_bot_token_set)return console.error("❌ На сервере не установлен токен Telegram бота!"),console.error("💡 Решение: Администратор должен установить TELEGRAM_BOT_TOKEN на сервере"),"server_no_token";console.log("✅ Токен бота на сервере установлен")}catch(r){return console.error("❌ Ошибка получения конфигурации сервера:",r),"server_config_error"}const o=ze();if(o){console.log("🧪 Тестируем валидацию данных на сервере...");try{const r=await e(o);return console.log("📊 Результат валидации:",r),r.success?(console.log("✅ Валидация на сервере прошла успешно!"),console.log("❓ Возможно, проблема в другом месте"),"validation_success"):(console.error("❌ Валидация на сервере не прошла"),console.error("💡 Причина: Неправильная подпись или истекшие данные"),"validation_failed")}catch(r){return console.error("❌ Ошибка тестирования валидации:",r),"validation_error"}}else return console.error("❌ Нет данных для тестирования"),"no_data"}catch(t){return console.error("❌ Общая ошибка диагностики:",t),"general_error"}};typeof window<"u"&&(window.telegramUtils={debugTelegramWebApp:Yt,getTelegramInitData:ze,clearAndRecreateAuthData:Xo,cleanupOldAuthData:Kt,testAuthData:Yo,initTelegramWebApp:Xt,diagnoseServerAuth:Gt},console.log("🔧 Утилиты Telegram доступны через window.telegramUtils"));const Ba=Object.freeze(Object.defineProperty({__proto__:null,cleanupOldAuthData:Kt,clearAndRecreateAuthData:Xo,debugTelegramWebApp:Yt,diagnoseServerAuth:Gt,getTelegramInitData:ze,getTelegramUser:Vo,initTelegramWebApp:Xt,isTelegramWebApp:qo,testAuthData:Yo},Symbol.toStringTag,{value:"Module"})),La=()=>{console.log("=== Aeon Messenger API Configuration ==="),console.log("VITE_CHAT_URL:","https://aeon-messenger-app-09faae856b73.herokuapp.com"),console.log("Base URL:","https://aeon-messenger-app-09faae856b73.herokuapp.com"),console.log("Environment:","production"),console.log("🆕 NEW BACKEND URL: https://aeon-backend-2892-d50dfbe26b14.herokuapp.com"),console.log("=========================================")};La();const K=Tr.create({baseURL:"https://aeon-backend-2892-d50dfbe26b14.herokuapp.com",timeout:1e4,headers:{"Content-Type":"application/json"}});K.interceptors.request.use(t=>{const e=ze();return console.log("=== Aeon API Request Debug ==="),console.log("URL:",t.url),console.log("Method:",t.method),console.log("Base URL:",t.baseURL),console.log("Init Data Length:",e?e.length:0),console.log("Init Data Preview:",e?e.substring(0,100)+"...":"No data"),e?(t.headers["x-telegram-init-data"]=e,console.log("✅ Auth header attached")):(console.warn("❌ No auth data available - running in development mode"),console.warn("❌ This request will likely fail with 401 error")),console.log("==============================="),t},t=>(console.error("Request interceptor error:",t),Promise.reject(t)));K.interceptors.response.use(t=>(console.log("✅ API Response:",t.config.url,t.status),t),t=>{var e,o,r,a,s,l,i;throw console.error("=== Aeon API Error ==="),console.error("URL:",(e=t.config)==null?void 0:e.url),console.error("Status:",(o=t.response)==null?void 0:o.status),console.error("Status Text:",(r=t.response)==null?void 0:r.statusText),console.error("Response Data:",(a=t.response)==null?void 0:a.data),console.error("Request Headers:",(s=t.config)==null?void 0:s.headers),console.error("======================"),((l=t.response)==null?void 0:l.status)===401?(console.error("❌ Authorization failed"),console.error("❌ Possible reasons:"),console.error("   1. App is not running inside Telegram WebApp"),console.error("   2. Invalid or expired Telegram init data"),console.error("   3. Server-side authorization issue"),console.error("❌ Solution: Open this app from Telegram bot/mini app"),{...t,message:"Authorization failed - app must be opened from Telegram",isAuthError:!0,response:{...t.response,data:{...(i=t.response)==null?void 0:i.data,error:"Приложение должно быть открыто из Telegram"}}}):t});const Ko=async()=>(await K.get("/api/v1/chats/")).data,Go=async t=>(await K.post("/api/v1/chats/",t)).data,Ua=async t=>(await K.get(`/api/v1/chats/${t}`)).data,Jo=async(t,e)=>{await K.post(`/api/v1/chats/${t}/members/${e}`)},Zo=async(t,e)=>{await K.delete(`/api/v1/chats/${t}/members/${e}`)},Qo=async(t,e=1,o=50)=>(await K.get(`/api/v1/messages/chat/${t}?page=${e}&per_page=${o}`)).data,er=async t=>(await K.post("/api/v1/messages/",t)).data,tr=async t=>{await K.post(`/api/v1/messages/chat/${t}/read-all`)},or=async()=>(await K.get("/api/v1/me")).data,Na=async()=>(await K.get("/api/v1/debug/auth")).data,za=async t=>(await K.post("/api/v1/debug/validate-telegram-data",t,{headers:{"Content-Type":"application/json"}})).data,Et=async(t,e)=>(await K.post(`/api/v1/chats/${t}/invite-by-username`,{username:e})).data,rr=async()=>{await K.post("/api/v1/users/check-invitations")},Jt=Object.freeze(Object.defineProperty({__proto__:null,addMemberToChat:Jo,checkAndAcceptInvitations:rr,createChat:Go,debugAuthConfig:Na,debugValidateTelegramData:za,getChat:Ua,getChatMessages:Qo,getChats:Ko,getCurrentUser:or,inviteMemberByUsername:Et,markAllMessagesAsRead:tr,removeMemberFromChat:Zo,sendMessage:er},Symbol.toStringTag,{value:"Module"})),Fa=()=>{const[t,e]=u.useState([]),[o,r]=u.useState(null),[a,s]=u.useState([]),[l,i]=u.useState(null),[c,d]=u.useState(!0),[p,b]=u.useState(!1),[y,f]=u.useState(null),[j,g]=u.useState(!1),h=u.useCallback(()=>Xt(),[]),x=u.useCallback(async()=>{var P;try{const m=await or();i(m),f(null),g(!1);try{await rr()}catch(v){console.log("No pending invitations or error checking invitations:",v)}}catch(m){if(console.error("Error loading current user:",m),((P=m.response)==null?void 0:P.status)===401||m.isAuthError?(g(!0),f("Приложение должно быть открыто из Telegram для корректной работы")):f("Ошибка загрузки данных пользователя"),!qo()){const v=Vo();i(v?{id:v.id,telegram_id:v.id,username:v.username,first_name:v.first_name,last_name:v.last_name,profile_photo_url:v.photo_url}:{id:123456789,telegram_id:123456789,username:"testuser",first_name:"Test",last_name:"User",profile_photo_url:void 0}),g(!1)}}},[h]),w=u.useCallback(async()=>{var P;try{d(!0);const m=await Ko();e(m),f(null),g(!1)}catch(m){console.error("Error loading chats:",m),((P=m.response)==null?void 0:P.status)===401||m.isAuthError?(g(!0),f("Приложение должно быть открыто из Telegram для корректной работы")):f("Ошибка загрузки чатов")}finally{d(!1)}},[h]),O=u.useCallback(async P=>{var m;try{b(!0);const v=await Qo(P);s(v.messages),f(null),g(!1)}catch(v){console.error("Error loading messages:",v),((m=v.response)==null?void 0:m.status)===401||v.isAuthError?(g(!0),f("Приложение должно быть открыто из Telegram для корректной работы")):f("Ошибка загрузки сообщений")}finally{b(!1)}},[h]),C=u.useCallback(async(P,m)=>{if(m.trim())try{const v={text:m.trim(),message_type:"text",chat_id:P},_=await er(v);s(L=>[...L,_]),e(L=>L.map($=>$.id===P?{...$,last_message:m.trim(),last_message_time:new Date().toISOString()}:$))}catch(v){if(console.error("Error sending message:",v),f("Ошибка отправки сообщения"),l){const _={id:Date.now(),text:m.trim(),message_type:"text",chat_id:P,sender_id:l.id,sender:{id:l.id,telegram_id:l.telegram_id,username:l.username,first_name:l.first_name,last_name:l.last_name,profile_photo_url:l.profile_photo_url},is_edited:!1,is_deleted:!1,read_by:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()};s(L=>[...L,_])}}},[l]),D=u.useCallback(async(P,m=[])=>{try{const v={title:P,chat_type:m.length>0?"group":"private",member_ids:m},_=await Go(v);await w();const L={id:_.id,title:_.title,chat_type:_.chat_type,photo_url:_.photo_url,last_message:void 0,last_message_time:void 0,unread_count:0};return r(L),await O(_.id),_}catch(v){throw console.error("Error creating chat:",v),f("Ошибка создания чата"),v}},[w,O]),A=u.useCallback(P=>{r(P),O(P.id),P.unread_count>0&&tr(P.id).catch(m=>console.error("Error marking messages as read:",m))},[O]),R=u.useCallback(()=>{r(null),s([])},[]),M=u.useCallback(async P=>{try{const{getChat:m}=await xt(async()=>{const{getChat:_}=await Promise.resolve().then(()=>Jt);return{getChat:_}},void 0);return await m(P)}catch(m){throw console.error("Error loading chat info:",m),f("Ошибка загрузки информации о чате"),m}},[]),I=u.useCallback(async(P,m)=>{try{await Jo(P,m),f(null)}catch(v){throw console.error("Error adding member to chat:",v),f("Ошибка добавления участника"),v}},[]),S=u.useCallback(async(P,m)=>{try{await Zo(P,m),f(null)}catch(v){throw console.error("Error removing member from chat:",v),f("Ошибка удаления участника"),v}},[]);return u.useEffect(()=>{h(),x(),w()},[h,x,w]),{chats:t,currentChat:o,messages:a,currentUser:l,loading:c,messagesLoading:p,error:y,isAuthError:j,sendNewMessage:C,createNewChat:D,selectChat:A,refreshChats:w,refreshMessages:()=>o&&O(o.id),loadChatInfo:M,addMemberToChat:I,removeMemberFromChat:S,clearCurrentChat:R}},Ha=({open:t,onClose:e})=>{const[o,r]=u.useState(!1),[a,s]=u.useState(null),l=async()=>{r(!0),s(null);try{const d=await Gt(),{debugAuthConfig:p,debugValidateTelegramData:b}=await xt(async()=>{const{debugAuthConfig:x,debugValidateTelegramData:w}=await Promise.resolve().then(()=>Jt);return{debugAuthConfig:x,debugValidateTelegramData:w}},void 0),{getTelegramInitData:y}=await xt(async()=>{const{getTelegramInitData:x}=await Promise.resolve().then(()=>Ba);return{getTelegramInitData:x}},void 0);let f,j,g=[];try{f=await p()}catch{f={error:"Не удалось получить конфигурацию сервера"}}const h=y();if(h)try{j=await b(h)}catch{j={error:"Не удалось протестировать валидацию"}}switch(d){case"server_no_token":g=["Администратор должен установить переменную TELEGRAM_BOT_TOKEN на сервере","Получите токен в @BotFather и добавьте его в настройки Heroku","Перезапустите приложение после установки токена"];break;case"validation_failed":g=["Проверьте правильность токена бота в @BotFather","Убедитесь, что приложение открыто из Telegram","Токен должен соответствовать боту, через который открыто приложение"];break;case"validation_success":g=["Валидация прошла успешно, проблема может быть временной","Попробуйте перезагрузить приложение","Проверьте интернет-соединение"];break;default:g=["Убедитесь, что приложение открыто из Telegram","Проверьте интернет-соединение","Обратитесь к администратору с результатами диагностики"]}s({status:d,serverConfig:f,validationResult:j,recommendations:g})}catch{s({status:"error",recommendations:["Произошла ошибка при диагностике","Проверьте консоль браузера для подробностей"]})}finally{r(!1)}},i=d=>{switch(d){case"validation_success":return"success";case"server_no_token":case"validation_failed":return"error";default:return"warning"}},c=d=>{switch(d){case"server_no_token":return"Токен бота не установлен";case"validation_failed":return"Валидация не прошла";case"validation_success":return"Валидация успешна";case"server_config_error":return"Ошибка конфигурации сервера";case"validation_error":return"Ошибка валидации";case"no_data":return"Нет данных авторизации";case"general_error":return"Общая ошибка";default:return"Неизвестный статус"}};return n.jsxs(Ft,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[n.jsx(qt,{children:"🔬 Диагностика проблемы авторизации"}),n.jsxs(Vt,{children:[!o&&!a&&n.jsx(W,{sx:{textAlign:"center",py:3},children:n.jsx(k,{variant:"body1",sx:{mb:2},children:'Нажмите "Запустить диагностику" для проверки проблемы авторизации'})}),o&&n.jsxs(W,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:4},children:[n.jsx($e,{sx:{mr:2}}),n.jsx(k,{children:"Выполняется диагностика..."})]}),a&&n.jsxs(W,{sx:{py:2},children:[n.jsxs(W,{sx:{mb:3},children:[n.jsx(k,{variant:"h6",sx:{mb:1},children:"Результат диагностики:"}),n.jsx(So,{label:c(a.status),color:i(a.status),sx:{mb:2}})]}),a.serverConfig&&n.jsxs(W,{sx:{mb:3},children:[n.jsx(k,{variant:"h6",sx:{mb:1},children:"Конфигурация сервера:"}),n.jsxs(rt,{severity:a.serverConfig.telegram_bot_token_set?"success":"error",children:[n.jsxs(k,{variant:"body2",children:["Токен бота: ",a.serverConfig.telegram_bot_token_set?"✅ Установлен":"❌ Не установлен"]}),n.jsxs(k,{variant:"body2",children:["Режим отладки: ",a.serverConfig.debug_mode?"Включен":"Выключен"]})]})]}),a.validationResult&&n.jsxs(W,{sx:{mb:3},children:[n.jsx(k,{variant:"h6",sx:{mb:1},children:"Результат валидации:"}),n.jsx(rt,{severity:a.validationResult.success?"success":"error",children:n.jsxs(k,{variant:"body2",children:["Валидация: ",a.validationResult.success?"✅ Успешна":"❌ Не прошла"]})})]}),n.jsxs(W,{sx:{mb:2},children:[n.jsx(k,{variant:"h6",sx:{mb:1},children:"Рекомендации:"}),a.recommendations.map((d,p)=>n.jsxs(k,{variant:"body2",sx:{mb:1,pl:2},children:["• ",d]},p))]})]})]}),n.jsxs(Ht,{children:[!a&&n.jsx(oe,{onClick:l,disabled:o,variant:"contained",color:"primary",children:"Запустить диагностику"}),a&&n.jsx(oe,{onClick:l,variant:"outlined",children:"Повторить диагностику"}),n.jsx(oe,{onClick:e,children:"Закрыть"})]})]})},Va=({open:t,onClose:e,currentChat:o,loadChatInfo:r,addMemberToChat:a,removeMemberFromChat:s,currentUserId:l})=>{var P;const[i,c]=u.useState(null),[d,p]=u.useState(!1),[b,y]=u.useState(null),[f,j]=u.useState(""),[g,h]=u.useState(""),[x,w]=u.useState("username"),[O,C]=u.useState(!1);u.useEffect(()=>{t&&o&&D()},[t,o]);const D=async()=>{if(o)try{p(!0),y(null);const m=await r(o.id);c(m)}catch(m){y("Не удалось загрузить информацию о чате"),console.error("Error loading chat details:",m)}finally{p(!1)}},A=async m=>{o&&await a(o.id,m)},R=async m=>{o&&await Et(o.id,m)},M=async()=>{if(!f.trim())return;const m=f.trim(),v=parseInt(m);try{C(!0),y(null),isNaN(v)?await R(m.replace(/^@/,"")):await A(v),j(""),await D()}catch(_){console.error("Error adding member (ID path):",_),y("Не удалось добавить участника")}finally{C(!1)}},I=async()=>{if(!(!g.trim()||!o))try{C(!0),y(null);const m=await Et(o.id,g.trim());m.status==="added"?(h(""),await D()):m.status==="invited"&&h(""),console.log(m.message)}catch(m){y("Не удалось добавить участника"),console.error("Error adding member by username:",m)}finally{C(!1)}},S=async m=>{if(o)try{y(null),await s(o.id,m),await D()}catch(v){y("Не удалось удалить участника"),console.error("Error removing member:",v)}};return o?n.jsxs(Ft,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[n.jsxs(qt,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsx(yt,{src:o.photo_url||void 0,sx:{bgcolor:"#4a9eff"},children:o.title?o.title[0].toUpperCase():n.jsx(yo,{})}),n.jsxs(W,{children:[n.jsx(k,{variant:"h6",children:o.title||"Безымянный чат"}),n.jsx(k,{variant:"caption",sx:{color:"#8b95a1"},children:o.chat_type==="private"?"Личный чат":"Групповой чат"})]})]}),n.jsxs(Vt,{children:[b&&n.jsx(rt,{severity:"error",sx:{mb:2},children:b}),d?n.jsx(W,{sx:{display:"flex",justifyContent:"center",py:3},children:n.jsx($e,{sx:{color:"#4a9eff"}})}):i?n.jsxs(n.Fragment,{children:[n.jsxs(W,{sx:{mb:3},children:[n.jsx(k,{variant:"subtitle1",sx:{mb:1,fontWeight:600},children:"Информация"}),n.jsxs(k,{variant:"body2",sx:{color:"#8b95a1",mb:1},children:["ID чата: ",i.id]}),n.jsxs(k,{variant:"body2",sx:{color:"#8b95a1",mb:1},children:["Создан: ",new Date(i.created_at).toLocaleDateString("ru-RU")]}),i.description&&n.jsxs(k,{variant:"body2",sx:{color:"#8b95a1"},children:["Описание: ",i.description]})]}),n.jsxs(W,{sx:{mb:3},children:[n.jsxs(k,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:["Участники (",((P=i.members)==null?void 0:P.length)||0,")"]}),i.members&&i.members.length>0?n.jsx(Ao,{sx:{maxHeight:200,overflow:"auto"},children:i.members.map(m=>n.jsxs(Do,{sx:{bgcolor:"rgba(43, 52, 65, 0.5)",borderRadius:1,mb:1},children:[n.jsx(Fo,{children:n.jsx(yt,{src:m.profile_photo_url||void 0,sx:{bgcolor:"#4a9eff"},children:m.first_name?m.first_name[0].toUpperCase():n.jsx(yo,{})})}),n.jsx(Ho,{primary:n.jsxs(W,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsxs(k,{children:[m.first_name," ",m.last_name]}),m.is_admin&&n.jsx(So,{icon:n.jsx(Ea,{}),label:"Админ",size:"small",sx:{bgcolor:"#4a9eff",color:"white",fontSize:"0.7rem"}})]}),secondary:n.jsx(k,{variant:"caption",sx:{color:"#8b95a1"},children:m.username?`@${m.username}`:`ID: ${m.telegram_id}`})}),l!==m.telegram_id&&n.jsx(It,{title:"Удалить участника",children:n.jsx(Qe,{onClick:()=>S(m.telegram_id),sx:{color:"#f44336","&:hover":{bgcolor:"rgba(244, 67, 54, 0.1)"}},children:n.jsx(Wa,{})})})]},m.id))}):n.jsx(k,{variant:"body2",sx:{color:"#8b95a1",textAlign:"center",py:2},children:"Нет участников"})]}),n.jsxs(W,{children:[n.jsx(k,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:"Добавить участника"}),n.jsxs(W,{sx:{display:"flex",gap:1,mb:2},children:[n.jsx(oe,{variant:x==="username"?"contained":"outlined",onClick:()=>w("username"),size:"small",children:"По @username"}),n.jsx(oe,{variant:x==="id"?"contained":"outlined",onClick:()=>w("id"),size:"small",children:"По ID"})]}),x==="username"?n.jsxs(W,{sx:{display:"flex",gap:1},children:[n.jsx(et,{size:"small",placeholder:"@username пользователя",value:g,onChange:m=>h(m.target.value),helperText:"Введите @username или просто username",sx:{flex:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}}}}),n.jsx(oe,{variant:"contained",onClick:I,disabled:!g.trim()||O,startIcon:O?n.jsx($e,{size:16}):n.jsx(wo,{}),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"}},children:"Добавить"})]}):n.jsxs(W,{sx:{display:"flex",gap:1},children:[n.jsx(et,{size:"small",placeholder:"Telegram ID пользователя",value:f,onChange:m=>j(m.target.value),helperText:"Чтобы узнать ID, используйте @userinfobot",sx:{flex:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}}}}),n.jsx(oe,{variant:"contained",onClick:M,disabled:!f.trim()||O,startIcon:O?n.jsx($e,{size:16}):n.jsx(wo,{}),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"}},children:"Добавить"})]})]})]}):n.jsx(k,{variant:"body2",sx:{textAlign:"center",py:3,color:"#8b95a1"},children:"Не удалось загрузить информацию о чате"})]}),n.jsx(Ht,{children:n.jsx(oe,{onClick:e,sx:{color:"#8b95a1"},children:"Закрыть"})})]}):null},es=()=>{const t=_t(),e=Cr(t.breakpoints.down("md")),[o,r]=u.useState(""),[a,s]=u.useState(!1),[l,i]=u.useState(""),[c,d]=u.useState(""),[p,b]=u.useState(!1),[y,f]=u.useState(!1),j=u.useRef(null),{chats:g,currentChat:h,messages:x,currentUser:w,loading:O,messagesLoading:C,error:D,isAuthError:A,sendNewMessage:R,createNewChat:M,selectChat:I,loadChatInfo:S,addMemberToChat:P,removeMemberFromChat:m,clearCurrentChat:v}=Fa(),_=()=>{var T;(T=j.current)==null||T.scrollIntoView({behavior:"smooth"})},L=()=>{v()};u.useEffect(_,[x]);const $=async()=>{o.trim()===""||!h||(await R(h.id,o),r(""))},B=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),$())},H=async()=>{if(l.trim()!=="")try{const T=[];if(c.trim()){const U=c.split(",").map(z=>parseInt(z.trim())).filter(z=>!isNaN(z)&&z>0);T.push(...U)}await M(l.trim(),T),i(""),d(""),s(!1)}catch(T){console.error("Error creating chat:",T)}},q=T=>new Date(T).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),X=T=>{const U=new Date(T),z=new Date,G=new Date(z);return G.setDate(G.getDate()-1),U.toDateString()===z.toDateString()?"Сегодня":U.toDateString()===G.toDateString()?"Вчера":U.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})},ne=T=>{const U=T.sender;return U.username?`@${U.username}`:`${U.first_name}${U.last_name?` ${U.last_name}`:""}`},N=T=>w&&T.sender_id===w.id;return O?n.jsx(W,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(35, 43, 59, 0.95)"},children:n.jsx($e,{sx:{color:"#4a9eff"}})}):A?n.jsxs(W,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",p:3},children:[n.jsxs(rt,{severity:"error",sx:{mb:3,maxWidth:"600px"},children:[n.jsx(k,{variant:"h6",sx:{mb:2},children:"🚫 Ошибка авторизации"}),n.jsx(k,{variant:"body1",sx:{mb:2,fontWeight:"bold"},children:"Проблема с авторизацией на сервере"}),n.jsx(k,{variant:"body2",sx:{mb:2},children:"Сервер отклоняет авторизацию. Возможные причины:"}),n.jsxs(k,{variant:"body2",component:"ul",sx:{pl:2,mb:2},children:[n.jsx("li",{children:"На сервере не настроен токен Telegram бота"}),n.jsx("li",{children:"Неправильный или истёкший токен бота"}),n.jsx("li",{children:"Проблема с подписью данных авторизации"}),n.jsx("li",{children:"Приложение запущено не из Telegram"})]}),n.jsx(k,{variant:"body2",sx:{mb:2},children:n.jsx("strong",{children:"Что делать:"})}),n.jsxs(k,{variant:"body2",component:"ul",sx:{pl:2,mb:2},children:[n.jsx("li",{children:'Нажмите "Диагностика" для подробной проверки'}),n.jsx("li",{children:"Убедитесь, что приложение открыто из Telegram"}),n.jsx("li",{children:"Если вы администратор - проверьте настройки сервера"}),n.jsx("li",{children:"Если проблема повторяется - обратитесь в поддержку"})]})]}),n.jsxs(W,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"center"},children:[n.jsx(oe,{variant:"contained",onClick:()=>b(!0),sx:{bgcolor:"#f44336","&:hover":{bgcolor:"#d32f2f"}},children:"🔬 Диагностика проблемы"}),n.jsx(oe,{variant:"contained",onClick:()=>window.location.reload(),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"}},children:"🔄 Перезагрузить приложение"}),n.jsx(oe,{variant:"outlined",onClick:()=>{var T;(T=window.Telegram)!=null&&T.WebApp?window.Telegram.WebApp.close():window.history.back()},sx:{borderColor:"#4a9eff",color:"#4a9eff","&:hover":{borderColor:"#3d8bdb",color:"#3d8bdb"}},children:"⬅️ Назад"})]})]}):n.jsxs(W,{sx:{height:"100vh",display:"flex",bgcolor:"rgba(35, 43, 59, 0.95)",color:"white",overflow:"hidden"},children:[n.jsxs(W,{sx:{width:e?"100%":"350px",display:e&&h?"none":"flex",flexDirection:"column",borderRight:"1px solid rgba(43, 52, 65, 1)",bgcolor:"rgba(35, 43, 59, 0.95)"},children:[n.jsxs(W,{sx:{p:2,borderBottom:"1px solid rgba(43, 52, 65, 1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(k,{variant:"h6",sx:{fontWeight:600},children:"Чаты"}),n.jsx(It,{title:"Создать новый чат",children:n.jsx(Qe,{onClick:()=>s(!0),sx:{bgcolor:"#4a9eff",color:"white","&:hover":{bgcolor:"#3d8bdb"}},children:n.jsx(Ia,{})})})]}),n.jsx(Ao,{sx:{flex:1,overflow:"auto",p:0},children:g.map(T=>n.jsx(ro.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:n.jsx(Do,{disablePadding:!0,sx:{borderBottom:"1px solid rgba(43, 52, 65, 0.5)"},children:n.jsxs(jr,{selected:(h==null?void 0:h.id)===T.id,onClick:()=>I(T),sx:{py:e?2:1.5,px:e?1.5:2,bgcolor:(h==null?void 0:h.id)===T.id?"rgba(74, 158, 255, 0.1)":"transparent","&:hover":{bgcolor:(h==null?void 0:h.id)===T.id?"rgba(74, 158, 255, 0.15)":"rgba(255, 255, 255, 0.05)"},minHeight:e?72:"auto"},children:[n.jsx(Fo,{children:n.jsx(Qn,{badgeContent:T.unread_count,color:"error",invisible:T.unread_count===0,children:n.jsx(yt,{src:T.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:e?50:45,height:e?50:45},children:T.title?T.title[0].toUpperCase():n.jsx(Dt,{})})})}),n.jsx(Ho,{primary:n.jsx(k,{variant:"body1",sx:{fontWeight:T.unread_count>0?600:400,color:"white"},children:T.title||"Безымянный чат"}),secondary:n.jsxs(W,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx(k,{variant:"caption",sx:{color:"#8b95a1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"150px"},children:T.last_message||"Нет сообщений"}),T.last_message_time&&n.jsx(k,{variant:"caption",sx:{color:"#8b95a1",fontSize:"0.7rem",ml:1},children:X(T.last_message_time)})]})})]})})},T.id))})]}),n.jsx(W,{sx:{flex:1,display:"flex",flexDirection:"column",position:"relative"},children:h?n.jsxs(n.Fragment,{children:[n.jsxs(W,{sx:{p:e?1.5:2,borderBottom:"1px solid rgba(43, 52, 65, 1)",bgcolor:"rgba(35, 43, 59, 0.95)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs(W,{sx:{display:"flex",alignItems:"center",flex:1},children:[e&&n.jsx(Qe,{onClick:L,sx:{color:"#4a9eff",mr:1,p:1,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:n.jsx(_a,{})}),n.jsx(yt,{src:h.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:e?36:40,height:e?36:40,mr:e?1.5:2},children:h.title?h.title[0].toUpperCase():n.jsx(Dt,{})}),n.jsxs(W,{sx:{flex:1,minWidth:0},children:[n.jsx(k,{variant:e?"body1":"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:h.title||"Безымянный чат"}),n.jsx(k,{variant:"caption",sx:{color:"#8b95a1",fontSize:e?"0.7rem":"0.75rem"},children:h.chat_type==="private"?"Личный чат":"Групповой чат"})]})]}),n.jsx(It,{title:"Информация о чате",children:n.jsx(Qe,{onClick:()=>f(!0),sx:{color:"#4a9eff",p:e?1:1.5,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:n.jsx($a,{fontSize:e?"small":"medium"})})})]}),n.jsxs(W,{sx:{flex:1,overflow:"auto",p:e?1:1.5,bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${no})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"local","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(35, 43, 59, 0.8)",pointerEvents:"none",zIndex:0},position:"relative","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:hover":{background:"rgba(255, 255, 255, 0.3)"}},children:[D&&n.jsx(rt,{severity:"error",sx:{mb:2,zIndex:1,position:"relative"},children:D}),C?n.jsx(W,{sx:{display:"flex",justifyContent:"center",py:4,zIndex:1,position:"relative"},children:n.jsx($e,{sx:{color:"#4a9eff"}})}):n.jsx(ka,{children:x.map(T=>n.jsx(ro.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{display:"flex",justifyContent:N(T)?"flex-end":"flex-start",marginBottom:"12px",position:"relative",zIndex:1},children:n.jsxs(W,{sx:{maxWidth:e?"85%":"70%",px:e?1.5:2,py:e?1:1.2,borderRadius:N(T)?"18px 18px 4px 18px":"18px 18px 18px 4px",bgcolor:N(T)?"#4a9eff":"rgba(43, 52, 65, 0.9)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",wordBreak:"break-word"},children:[!N(T)&&n.jsx(k,{variant:"caption",sx:{color:"#40C4FF",fontWeight:600,display:"block",mb:.5},children:ne(T)}),n.jsx(k,{variant:"body1",sx:{mb:.5,fontSize:e?"0.9rem":"0.95rem",lineHeight:1.4},children:T.text}),n.jsx(k,{variant:"caption",sx:{opacity:.7,fontSize:e?"0.65rem":"0.7rem",display:"block",textAlign:"right",mt:.25,color:N(T)?"rgba(255,255,255,0.8)":"#8b95a1"},children:q(T.created_at)})]})},T.id))}),n.jsx("div",{ref:j,style:{position:"relative",zIndex:1}})]}),n.jsxs(W,{sx:{p:e?1.5:2,bgcolor:"rgba(35, 43, 59, 0.95)",display:"flex",gap:e?1:1.5,alignItems:"flex-end",borderTop:"1px solid rgba(43, 52, 65, 1)",pb:e?"max(1.5rem, env(safe-area-inset-bottom))":2},children:[n.jsx(et,{fullWidth:!0,multiline:!0,maxRows:e?3:4,value:o,onChange:T=>r(T.target.value),onKeyPress:B,placeholder:"Напишите сообщение...",variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px",bgcolor:"rgba(35, 46, 60, 1)",border:"none",fontSize:e?"0.9rem":"0.95rem",color:"white","& fieldset":{border:"1px solid rgba(60, 72, 84, 1)"},"&:hover fieldset":{border:"1px solid #4a9eff"},"&.Mui-focused fieldset":{border:"2px solid #4a9eff"},"& .MuiInputBase-input":{padding:e?"10px 14px":"12px 16px",color:"white","&::placeholder":{color:"rgba(255, 255, 255, 0.5)",opacity:1}}}}}),n.jsx(Qe,{onClick:$,disabled:!o.trim(),size:"medium",sx:{bgcolor:"#4a9eff",color:"white",width:e?40:44,height:e?40:44,minWidth:e?40:44,minHeight:e?40:44,"&:hover":{bgcolor:"#3d8bdb",transform:"scale(1.05)"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"},transition:"all 0.2s ease"},children:n.jsx(Pr,{sx:{fontSize:e?"1.1rem":"1.2rem"}})})]})]}):n.jsx(W,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${no})`,backgroundSize:"cover",backgroundPosition:"center","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(35, 43, 59, 0.8)",pointerEvents:"none"}},children:n.jsxs(W,{sx:{position:"relative",zIndex:1,textAlign:"center"},children:[n.jsx(Dt,{sx:{fontSize:80,color:"#4a9eff",mb:2}}),n.jsx(k,{variant:"h5",sx:{mb:1,color:"white"},children:"Выберите чат"}),n.jsx(k,{variant:"body1",sx:{color:"#8b95a1"},children:"Выберите чат из списка или создайте новый"})]})})}),n.jsxs(Ft,{open:a,onClose:()=>s(!1),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[n.jsx(qt,{children:"Создать новый чат"}),n.jsxs(Vt,{children:[n.jsx(et,{autoFocus:!0,margin:"dense",label:"Название чата",fullWidth:!0,variant:"outlined",value:l,onChange:T=>i(T.target.value),sx:{mb:2,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#4a9eff"}}}}),n.jsx(et,{margin:"dense",label:"ID участников (через запятую)",fullWidth:!0,variant:"outlined",placeholder:"Например: 123456789, 987654321",value:c,onChange:T=>d(T.target.value),helperText:"Введите Telegram ID пользователей через запятую. Чтобы узнать свой ID, используйте @userinfobot в Telegram",sx:{mb:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}})]}),n.jsxs(Ht,{children:[n.jsx(oe,{onClick:()=>s(!1),sx:{color:"#8b95a1"},children:"Отмена"}),n.jsx(oe,{onClick:H,disabled:!l.trim(),sx:{bgcolor:"#4a9eff",color:"white","&:hover":{bgcolor:"#3d8bdb"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"}},children:"Создать"})]})]}),n.jsx(Ha,{open:p,onClose:()=>b(!1)}),n.jsx(Va,{open:y,onClose:()=>f(!1),currentChat:h,loadChatInfo:S,addMemberToChat:P,removeMemberFromChat:m,currentUserId:w==null?void 0:w.telegram_id})]})};export{es as default};
