const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Bz9E9Gki.js","assets/index-DGh-SLQn.css"])))=>i.map(i=>d[i]);
import{p as me,o as xe,r as d,q as ve,aj as lo,a as St,ag as tt,G as wt,j as o,t as ee,v as ce,x as be,z as de,H as oe,K as Bt,y as co,a8 as Yt,ah as Pr,w as re,C as po,T as L,U as uo,a9 as Kt,ak as fo,A as Rr,al as Zt,am as ho,an as go,ao as Ar,ap as mo,aq as xo,ar as vo,as as bo,n as ye,c as yo,d as wo,at as Co,au as jo,av as Qt,aw as Er,ax as To,ay as Mo,az as Jt,aA as er,aB as tr,aC as So,aD as Po,aE as Ro,aF as Ao,aG as Eo,aH as Oo,aI as rr,aJ as Do,aK as ko,aL as Io,aM as $o,aN as Wo,aO as zo,aP as Bo,aQ as Lo,aR as No,aS as _o,B as N,aT as or,aU as Fo,aV as Uo,aW as Ho,M as at,aX as Vo,N as Or,O as Dr,aY as sr,b as Go,m as nr,aZ as qo,e as ar}from"./index-Bz9E9Gki.js";import{a as Xo,g as ir,u as kr,o as lr,P as Yo,b as Ko,F as cr,M as Zo,B as Qo,c as Jo,G as es,T as ot}from"./TextField-Pk4cLGWI.js";import{u as Ir,C as Te}from"./CircularProgress-DkvqoOlA.js";import{C as rt}from"./Chip-BGqcwDNS.js";import{D as pr,P as dr,L as $r,A as ts}from"./Person-Dp6-i9wp.js";import{A as De}from"./Alert-CK-9sJWj.js";import{B as pe}from"./Button-C0RM4qfG.js";import{C as rs}from"./CheckCircle-BIFI3Pe2.js";import{I as We}from"./IconButton-gievOw9W.js";import{S as os}from"./Send-BAtTlhg2.js";function ss(t){return me("MuiCollapse",t)}xe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const ns=t=>{const{orientation:e,classes:r}=t,s={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return be(s,ss,r)},as=ee("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation],r.state==="entered"&&e.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&e.hidden]}})(de(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),is=ee("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),ls=ee("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),It=d.forwardRef(function(e,r){const s=ve({props:e,name:"MuiCollapse"}),{addEndListener:n,children:a,className:p,collapsedSize:l="0px",component:i,easing:g,in:c,onEnter:w,onEntered:f,onEntering:x,onExit:C,onExited:b,onExiting:T,orientation:h="vertical",style:v,timeout:S=lo.standard,TransitionComponent:j=Xo,...M}=s,m={...s,orientation:h,collapsedSize:l},y=ns(m),O=St(),k=tt(),A=d.useRef(null),I=d.useRef(),H=typeof l=="number"?`${l}px`:l,$=h==="horizontal",V=$?"width":"height",q=d.useRef(null),U=wt(r,q),z=D=>G=>{if(D){const K=q.current;G===void 0?D(K):D(K,G)}},u=()=>A.current?A.current[$?"clientWidth":"clientHeight"]:0,R=z((D,G)=>{A.current&&$&&(A.current.style.position="absolute"),D.style[V]=H,w&&w(D,G)}),E=z((D,G)=>{const K=u();A.current&&$&&(A.current.style.position="");const{duration:se,easing:ne}=ir({style:v,timeout:S,easing:g},{mode:"enter"});if(S==="auto"){const P=O.transitions.getAutoHeightDuration(K);D.style.transitionDuration=`${P}ms`,I.current=P}else D.style.transitionDuration=typeof se=="string"?se:`${se}ms`;D.style[V]=`${K}px`,D.style.transitionTimingFunction=ne,x&&x(D,G)}),W=z((D,G)=>{D.style[V]="auto",f&&f(D,G)}),B=z(D=>{D.style[V]=`${u()}px`,C&&C(D)}),Y=z(b),X=z(D=>{const G=u(),{duration:K,easing:se}=ir({style:v,timeout:S,easing:g},{mode:"exit"});if(S==="auto"){const ne=O.transitions.getAutoHeightDuration(G);D.style.transitionDuration=`${ne}ms`,I.current=ne}else D.style.transitionDuration=typeof K=="string"?K:`${K}ms`;D.style[V]=H,D.style.transitionTimingFunction=se,T&&T(D)}),Z=D=>{S==="auto"&&k.start(I.current||0,D),n&&n(q.current,D)};return o.jsx(j,{in:c,onEnter:R,onEntered:W,onEntering:E,onExit:B,onExited:Y,onExiting:X,addEndListener:Z,nodeRef:q,timeout:S==="auto"?null:S,...M,children:(D,{ownerState:G,...K})=>o.jsx(as,{as:i,className:ce(y.root,p,{entered:y.entered,exited:!c&&H==="0px"&&y.hidden}[D]),style:{[$?"minWidth":"minHeight"]:H,...v},ref:U,ownerState:{...m,state:D},...K,children:o.jsx(is,{ownerState:{...m,state:D},className:y.wrapper,ref:A,children:o.jsx(ls,{ownerState:{...m,state:D},className:y.wrapperInner,children:a})})})})});It&&(It.muiSupportAuto=!0);const Wr=d.createContext({});function cs(t){return me("MuiAccordion",t)}const gt=xe("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),ps=t=>{const{classes:e,square:r,expanded:s,disabled:n,disableGutters:a}=t;return be({root:["root",!r&&"rounded",s&&"expanded",n&&"disabled",!a&&"gutters"],heading:["heading"],region:["region"]},cs,e)},ds=ee(Bt,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${gt.region}`]:e.region},e.root,!r.square&&e.rounded,!r.disableGutters&&e.gutters]}})(de(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${gt.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${gt.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),de(({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${gt.expanded}`]:{margin:"16px 0"}}}]}))),us=ee("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),fs=d.forwardRef(function(e,r){const s=ve({props:e,name:"MuiAccordion"}),{children:n,className:a,defaultExpanded:p=!1,disabled:l=!1,disableGutters:i=!1,expanded:g,onChange:c,square:w=!1,slots:f={},slotProps:x={},TransitionComponent:C,TransitionProps:b,...T}=s,[h,v]=kr({controlled:g,default:p,name:"Accordion",state:"expanded"}),S=d.useCallback(u=>{v(!h),c&&c(u,!h)},[h,c,v]),[j,...M]=d.Children.toArray(n),m=d.useMemo(()=>({expanded:h,disabled:l,disableGutters:i,toggle:S}),[h,l,i,S]),y={...s,square:w,disabled:l,disableGutters:i,expanded:h},O=ps(y),k={transition:C,...f},A={transition:b,...x},I={slots:k,slotProps:A},[H,$]=oe("root",{elementType:ds,externalForwardedProps:{...I,...T},className:ce(O.root,a),shouldForwardComponentProp:!0,ownerState:y,ref:r,additionalProps:{square:w}}),[V,q]=oe("heading",{elementType:us,externalForwardedProps:I,className:O.heading,ownerState:y}),[U,z]=oe("transition",{elementType:It,externalForwardedProps:I,ownerState:y});return o.jsxs(H,{...$,children:[o.jsx(V,{...q,children:o.jsx(Wr.Provider,{value:m,children:j})}),o.jsx(U,{in:h,timeout:"auto",...z,children:o.jsx("div",{"aria-labelledby":j.props.id,id:j.props["aria-controls"],role:"region",className:O.region,children:M})})]})});function hs(t){return me("MuiAccordionDetails",t)}xe("MuiAccordionDetails",["root"]);const gs=t=>{const{classes:e}=t;return be({root:["root"]},hs,e)},ms=ee("div",{name:"MuiAccordionDetails",slot:"Root"})(de(({theme:t})=>({padding:t.spacing(1,2,2)}))),xs=d.forwardRef(function(e,r){const s=ve({props:e,name:"MuiAccordionDetails"}),{className:n,...a}=s,p=s,l=gs(p);return o.jsx(ms,{className:ce(l.root,n),ref:r,ownerState:p,...a})});function vs(t){return me("MuiAccordionSummary",t)}const _e=xe("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),bs=t=>{const{classes:e,expanded:r,disabled:s,disableGutters:n}=t;return be({root:["root",r&&"expanded",s&&"disabled",!n&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!n&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},vs,e)},ys=ee(co,{name:"MuiAccordionSummary",slot:"Root"})(de(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${_e.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${_e.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${_e.disabled})`]:{cursor:"pointer"},variants:[{props:r=>!r.disableGutters,style:{[`&.${_e.expanded}`]:{minHeight:64}}}]}})),ws=ee("span",{name:"MuiAccordionSummary",slot:"Content"})(de(({theme:t})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${_e.expanded}`]:{margin:"20px 0"}}}]}))),Cs=ee("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(de(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${_e.expanded}`]:{transform:"rotate(180deg)"}}))),js=d.forwardRef(function(e,r){const s=ve({props:e,name:"MuiAccordionSummary"}),{children:n,className:a,expandIcon:p,focusVisibleClassName:l,onClick:i,slots:g,slotProps:c,...w}=s,{disabled:f=!1,disableGutters:x,expanded:C,toggle:b}=d.useContext(Wr),T=A=>{b&&b(A),i&&i(A)},h={...s,expanded:C,disabled:f,disableGutters:x},v=bs(h),S={slots:g,slotProps:c},[j,M]=oe("root",{ref:r,shouldForwardComponentProp:!0,className:ce(v.root,a),elementType:ys,externalForwardedProps:{...S,...w},ownerState:h,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:f,"aria-expanded":C,focusVisibleClassName:ce(v.focusVisible,l)},getSlotProps:A=>({...A,onClick:I=>{var H;(H=A.onClick)==null||H.call(A,I),T(I)}})}),[m,y]=oe("content",{className:v.content,elementType:ws,externalForwardedProps:S,ownerState:h}),[O,k]=oe("expandIconWrapper",{className:v.expandIconWrapper,elementType:Cs,externalForwardedProps:S,ownerState:h});return o.jsxs(j,{...M,children:[o.jsx(m,{...y,children:n}),p&&o.jsx(O,{...k,children:p})]})}),zr=t=>{const e=d.useRef({});return d.useEffect(()=>{e.current=t}),e.current};var ie="top",he="bottom",ge="right",le="left",Lt="auto",ct=[ie,he,ge,le],Fe="start",it="end",Ts="clippingParents",Br="viewport",Qe="popper",Ms="reference",ur=ct.reduce(function(t,e){return t.concat([e+"-"+Fe,e+"-"+it])},[]),Lr=[].concat(ct,[Lt]).reduce(function(t,e){return t.concat([e,e+"-"+Fe,e+"-"+it])},[]),Ss="beforeRead",Ps="read",Rs="afterRead",As="beforeMain",Es="main",Os="afterMain",Ds="beforeWrite",ks="write",Is="afterWrite",$s=[Ss,Ps,Rs,As,Es,Os,Ds,ks,Is];function Ae(t){return t?(t.nodeName||"").toLowerCase():null}function ue(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Be(t){var e=ue(t).Element;return t instanceof e||t instanceof Element}function fe(t){var e=ue(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Nt(t){if(typeof ShadowRoot>"u")return!1;var e=ue(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Ws(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var s=e.styles[r]||{},n=e.attributes[r]||{},a=e.elements[r];!fe(a)||!Ae(a)||(Object.assign(a.style,s),Object.keys(n).forEach(function(p){var l=n[p];l===!1?a.removeAttribute(p):a.setAttribute(p,l===!0?"":l)}))})}function zs(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(s){var n=e.elements[s],a=e.attributes[s]||{},p=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:r[s]),l=p.reduce(function(i,g){return i[g]="",i},{});!fe(n)||!Ae(n)||(Object.assign(n.style,l),Object.keys(a).forEach(function(i){n.removeAttribute(i)}))})}}const Bs={name:"applyStyles",enabled:!0,phase:"write",fn:Ws,effect:zs,requires:["computeStyles"]};function Re(t){return t.split("-")[0]}var ze=Math.max,Ct=Math.min,Ue=Math.round;function $t(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Nr(){return!/^((?!chrome|android).)*safari/i.test($t())}function He(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var s=t.getBoundingClientRect(),n=1,a=1;e&&fe(t)&&(n=t.offsetWidth>0&&Ue(s.width)/t.offsetWidth||1,a=t.offsetHeight>0&&Ue(s.height)/t.offsetHeight||1);var p=Be(t)?ue(t):window,l=p.visualViewport,i=!Nr()&&r,g=(s.left+(i&&l?l.offsetLeft:0))/n,c=(s.top+(i&&l?l.offsetTop:0))/a,w=s.width/n,f=s.height/a;return{width:w,height:f,top:c,right:g+w,bottom:c+f,left:g,x:g,y:c}}function _t(t){var e=He(t),r=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:s}}function _r(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Nt(r)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Ee(t){return ue(t).getComputedStyle(t)}function Ls(t){return["table","td","th"].indexOf(Ae(t))>=0}function ke(t){return((Be(t)?t.ownerDocument:t.document)||window.document).documentElement}function Pt(t){return Ae(t)==="html"?t:t.assignedSlot||t.parentNode||(Nt(t)?t.host:null)||ke(t)}function fr(t){return!fe(t)||Ee(t).position==="fixed"?null:t.offsetParent}function Ns(t){var e=/firefox/i.test($t()),r=/Trident/i.test($t());if(r&&fe(t)){var s=Ee(t);if(s.position==="fixed")return null}var n=Pt(t);for(Nt(n)&&(n=n.host);fe(n)&&["html","body"].indexOf(Ae(n))<0;){var a=Ee(n);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return n;n=n.parentNode}return null}function pt(t){for(var e=ue(t),r=fr(t);r&&Ls(r)&&Ee(r).position==="static";)r=fr(r);return r&&(Ae(r)==="html"||Ae(r)==="body"&&Ee(r).position==="static")?e:r||Ns(t)||e}function Ft(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function st(t,e,r){return ze(t,Ct(e,r))}function _s(t,e,r){var s=st(t,e,r);return s>r?r:s}function Fr(){return{top:0,right:0,bottom:0,left:0}}function Ur(t){return Object.assign({},Fr(),t)}function Hr(t,e){return e.reduce(function(r,s){return r[s]=t,r},{})}var Fs=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,Ur(typeof e!="number"?e:Hr(e,ct))};function Us(t){var e,r=t.state,s=t.name,n=t.options,a=r.elements.arrow,p=r.modifiersData.popperOffsets,l=Re(r.placement),i=Ft(l),g=[le,ge].indexOf(l)>=0,c=g?"height":"width";if(!(!a||!p)){var w=Fs(n.padding,r),f=_t(a),x=i==="y"?ie:le,C=i==="y"?he:ge,b=r.rects.reference[c]+r.rects.reference[i]-p[i]-r.rects.popper[c],T=p[i]-r.rects.reference[i],h=pt(a),v=h?i==="y"?h.clientHeight||0:h.clientWidth||0:0,S=b/2-T/2,j=w[x],M=v-f[c]-w[C],m=v/2-f[c]/2+S,y=st(j,m,M),O=i;r.modifiersData[s]=(e={},e[O]=y,e.centerOffset=y-m,e)}}function Hs(t){var e=t.state,r=t.options,s=r.element,n=s===void 0?"[data-popper-arrow]":s;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||_r(e.elements.popper,n)&&(e.elements.arrow=n))}const Vs={name:"arrow",enabled:!0,phase:"main",fn:Us,effect:Hs,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ve(t){return t.split("-")[1]}var Gs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qs(t,e){var r=t.x,s=t.y,n=e.devicePixelRatio||1;return{x:Ue(r*n)/n||0,y:Ue(s*n)/n||0}}function hr(t){var e,r=t.popper,s=t.popperRect,n=t.placement,a=t.variation,p=t.offsets,l=t.position,i=t.gpuAcceleration,g=t.adaptive,c=t.roundOffsets,w=t.isFixed,f=p.x,x=f===void 0?0:f,C=p.y,b=C===void 0?0:C,T=typeof c=="function"?c({x,y:b}):{x,y:b};x=T.x,b=T.y;var h=p.hasOwnProperty("x"),v=p.hasOwnProperty("y"),S=le,j=ie,M=window;if(g){var m=pt(r),y="clientHeight",O="clientWidth";if(m===ue(r)&&(m=ke(r),Ee(m).position!=="static"&&l==="absolute"&&(y="scrollHeight",O="scrollWidth")),m=m,n===ie||(n===le||n===ge)&&a===it){j=he;var k=w&&m===M&&M.visualViewport?M.visualViewport.height:m[y];b-=k-s.height,b*=i?1:-1}if(n===le||(n===ie||n===he)&&a===it){S=ge;var A=w&&m===M&&M.visualViewport?M.visualViewport.width:m[O];x-=A-s.width,x*=i?1:-1}}var I=Object.assign({position:l},g&&Gs),H=c===!0?qs({x,y:b},ue(r)):{x,y:b};if(x=H.x,b=H.y,i){var $;return Object.assign({},I,($={},$[j]=v?"0":"",$[S]=h?"0":"",$.transform=(M.devicePixelRatio||1)<=1?"translate("+x+"px, "+b+"px)":"translate3d("+x+"px, "+b+"px, 0)",$))}return Object.assign({},I,(e={},e[j]=v?b+"px":"",e[S]=h?x+"px":"",e.transform="",e))}function Xs(t){var e=t.state,r=t.options,s=r.gpuAcceleration,n=s===void 0?!0:s,a=r.adaptive,p=a===void 0?!0:a,l=r.roundOffsets,i=l===void 0?!0:l,g={placement:Re(e.placement),variation:Ve(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,hr(Object.assign({},g,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:p,roundOffsets:i})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,hr(Object.assign({},g,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ys={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Xs,data:{}};var mt={passive:!0};function Ks(t){var e=t.state,r=t.instance,s=t.options,n=s.scroll,a=n===void 0?!0:n,p=s.resize,l=p===void 0?!0:p,i=ue(e.elements.popper),g=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&g.forEach(function(c){c.addEventListener("scroll",r.update,mt)}),l&&i.addEventListener("resize",r.update,mt),function(){a&&g.forEach(function(c){c.removeEventListener("scroll",r.update,mt)}),l&&i.removeEventListener("resize",r.update,mt)}}const Zs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ks,data:{}};var Qs={left:"right",right:"left",bottom:"top",top:"bottom"};function yt(t){return t.replace(/left|right|bottom|top/g,function(e){return Qs[e]})}var Js={start:"end",end:"start"};function gr(t){return t.replace(/start|end/g,function(e){return Js[e]})}function Ut(t){var e=ue(t),r=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:r,scrollTop:s}}function Ht(t){return He(ke(t)).left+Ut(t).scrollLeft}function en(t,e){var r=ue(t),s=ke(t),n=r.visualViewport,a=s.clientWidth,p=s.clientHeight,l=0,i=0;if(n){a=n.width,p=n.height;var g=Nr();(g||!g&&e==="fixed")&&(l=n.offsetLeft,i=n.offsetTop)}return{width:a,height:p,x:l+Ht(t),y:i}}function tn(t){var e,r=ke(t),s=Ut(t),n=(e=t.ownerDocument)==null?void 0:e.body,a=ze(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),p=ze(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-s.scrollLeft+Ht(t),i=-s.scrollTop;return Ee(n||r).direction==="rtl"&&(l+=ze(r.clientWidth,n?n.clientWidth:0)-a),{width:a,height:p,x:l,y:i}}function Vt(t){var e=Ee(t),r=e.overflow,s=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+s)}function Vr(t){return["html","body","#document"].indexOf(Ae(t))>=0?t.ownerDocument.body:fe(t)&&Vt(t)?t:Vr(Pt(t))}function nt(t,e){var r;e===void 0&&(e=[]);var s=Vr(t),n=s===((r=t.ownerDocument)==null?void 0:r.body),a=ue(s),p=n?[a].concat(a.visualViewport||[],Vt(s)?s:[]):s,l=e.concat(p);return n?l:l.concat(nt(Pt(p)))}function Wt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function rn(t,e){var r=He(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function mr(t,e,r){return e===Br?Wt(en(t,r)):Be(e)?rn(e,r):Wt(tn(ke(t)))}function on(t){var e=nt(Pt(t)),r=["absolute","fixed"].indexOf(Ee(t).position)>=0,s=r&&fe(t)?pt(t):t;return Be(s)?e.filter(function(n){return Be(n)&&_r(n,s)&&Ae(n)!=="body"}):[]}function sn(t,e,r,s){var n=e==="clippingParents"?on(t):[].concat(e),a=[].concat(n,[r]),p=a[0],l=a.reduce(function(i,g){var c=mr(t,g,s);return i.top=ze(c.top,i.top),i.right=Ct(c.right,i.right),i.bottom=Ct(c.bottom,i.bottom),i.left=ze(c.left,i.left),i},mr(t,p,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Gr(t){var e=t.reference,r=t.element,s=t.placement,n=s?Re(s):null,a=s?Ve(s):null,p=e.x+e.width/2-r.width/2,l=e.y+e.height/2-r.height/2,i;switch(n){case ie:i={x:p,y:e.y-r.height};break;case he:i={x:p,y:e.y+e.height};break;case ge:i={x:e.x+e.width,y:l};break;case le:i={x:e.x-r.width,y:l};break;default:i={x:e.x,y:e.y}}var g=n?Ft(n):null;if(g!=null){var c=g==="y"?"height":"width";switch(a){case Fe:i[g]=i[g]-(e[c]/2-r[c]/2);break;case it:i[g]=i[g]+(e[c]/2-r[c]/2);break}}return i}function lt(t,e){e===void 0&&(e={});var r=e,s=r.placement,n=s===void 0?t.placement:s,a=r.strategy,p=a===void 0?t.strategy:a,l=r.boundary,i=l===void 0?Ts:l,g=r.rootBoundary,c=g===void 0?Br:g,w=r.elementContext,f=w===void 0?Qe:w,x=r.altBoundary,C=x===void 0?!1:x,b=r.padding,T=b===void 0?0:b,h=Ur(typeof T!="number"?T:Hr(T,ct)),v=f===Qe?Ms:Qe,S=t.rects.popper,j=t.elements[C?v:f],M=sn(Be(j)?j:j.contextElement||ke(t.elements.popper),i,c,p),m=He(t.elements.reference),y=Gr({reference:m,element:S,placement:n}),O=Wt(Object.assign({},S,y)),k=f===Qe?O:m,A={top:M.top-k.top+h.top,bottom:k.bottom-M.bottom+h.bottom,left:M.left-k.left+h.left,right:k.right-M.right+h.right},I=t.modifiersData.offset;if(f===Qe&&I){var H=I[n];Object.keys(A).forEach(function($){var V=[ge,he].indexOf($)>=0?1:-1,q=[ie,he].indexOf($)>=0?"y":"x";A[$]+=H[q]*V})}return A}function nn(t,e){e===void 0&&(e={});var r=e,s=r.placement,n=r.boundary,a=r.rootBoundary,p=r.padding,l=r.flipVariations,i=r.allowedAutoPlacements,g=i===void 0?Lr:i,c=Ve(s),w=c?l?ur:ur.filter(function(C){return Ve(C)===c}):ct,f=w.filter(function(C){return g.indexOf(C)>=0});f.length===0&&(f=w);var x=f.reduce(function(C,b){return C[b]=lt(t,{placement:b,boundary:n,rootBoundary:a,padding:p})[Re(b)],C},{});return Object.keys(x).sort(function(C,b){return x[C]-x[b]})}function an(t){if(Re(t)===Lt)return[];var e=yt(t);return[gr(t),e,gr(e)]}function ln(t){var e=t.state,r=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var n=r.mainAxis,a=n===void 0?!0:n,p=r.altAxis,l=p===void 0?!0:p,i=r.fallbackPlacements,g=r.padding,c=r.boundary,w=r.rootBoundary,f=r.altBoundary,x=r.flipVariations,C=x===void 0?!0:x,b=r.allowedAutoPlacements,T=e.options.placement,h=Re(T),v=h===T,S=i||(v||!C?[yt(T)]:an(T)),j=[T].concat(S).reduce(function(X,Z){return X.concat(Re(Z)===Lt?nn(e,{placement:Z,boundary:c,rootBoundary:w,padding:g,flipVariations:C,allowedAutoPlacements:b}):Z)},[]),M=e.rects.reference,m=e.rects.popper,y=new Map,O=!0,k=j[0],A=0;A<j.length;A++){var I=j[A],H=Re(I),$=Ve(I)===Fe,V=[ie,he].indexOf(H)>=0,q=V?"width":"height",U=lt(e,{placement:I,boundary:c,rootBoundary:w,altBoundary:f,padding:g}),z=V?$?ge:le:$?he:ie;M[q]>m[q]&&(z=yt(z));var u=yt(z),R=[];if(a&&R.push(U[H]<=0),l&&R.push(U[z]<=0,U[u]<=0),R.every(function(X){return X})){k=I,O=!1;break}y.set(I,R)}if(O)for(var E=C?3:1,W=function(Z){var D=j.find(function(G){var K=y.get(G);if(K)return K.slice(0,Z).every(function(se){return se})});if(D)return k=D,"break"},B=E;B>0;B--){var Y=W(B);if(Y==="break")break}e.placement!==k&&(e.modifiersData[s]._skip=!0,e.placement=k,e.reset=!0)}}const cn={name:"flip",enabled:!0,phase:"main",fn:ln,requiresIfExists:["offset"],data:{_skip:!1}};function xr(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function vr(t){return[ie,ge,he,le].some(function(e){return t[e]>=0})}function pn(t){var e=t.state,r=t.name,s=e.rects.reference,n=e.rects.popper,a=e.modifiersData.preventOverflow,p=lt(e,{elementContext:"reference"}),l=lt(e,{altBoundary:!0}),i=xr(p,s),g=xr(l,n,a),c=vr(i),w=vr(g);e.modifiersData[r]={referenceClippingOffsets:i,popperEscapeOffsets:g,isReferenceHidden:c,hasPopperEscaped:w},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":w})}const dn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pn};function un(t,e,r){var s=Re(t),n=[le,ie].indexOf(s)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,p=a[0],l=a[1];return p=p||0,l=(l||0)*n,[le,ge].indexOf(s)>=0?{x:l,y:p}:{x:p,y:l}}function fn(t){var e=t.state,r=t.options,s=t.name,n=r.offset,a=n===void 0?[0,0]:n,p=Lr.reduce(function(c,w){return c[w]=un(w,e.rects,a),c},{}),l=p[e.placement],i=l.x,g=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=i,e.modifiersData.popperOffsets.y+=g),e.modifiersData[s]=p}const hn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn};function gn(t){var e=t.state,r=t.name;e.modifiersData[r]=Gr({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const mn={name:"popperOffsets",enabled:!0,phase:"read",fn:gn,data:{}};function xn(t){return t==="x"?"y":"x"}function vn(t){var e=t.state,r=t.options,s=t.name,n=r.mainAxis,a=n===void 0?!0:n,p=r.altAxis,l=p===void 0?!1:p,i=r.boundary,g=r.rootBoundary,c=r.altBoundary,w=r.padding,f=r.tether,x=f===void 0?!0:f,C=r.tetherOffset,b=C===void 0?0:C,T=lt(e,{boundary:i,rootBoundary:g,padding:w,altBoundary:c}),h=Re(e.placement),v=Ve(e.placement),S=!v,j=Ft(h),M=xn(j),m=e.modifiersData.popperOffsets,y=e.rects.reference,O=e.rects.popper,k=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,A=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(m){if(a){var $,V=j==="y"?ie:le,q=j==="y"?he:ge,U=j==="y"?"height":"width",z=m[j],u=z+T[V],R=z-T[q],E=x?-O[U]/2:0,W=v===Fe?y[U]:O[U],B=v===Fe?-O[U]:-y[U],Y=e.elements.arrow,X=x&&Y?_t(Y):{width:0,height:0},Z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Fr(),D=Z[V],G=Z[q],K=st(0,y[U],X[U]),se=S?y[U]/2-E-K-D-A.mainAxis:W-K-D-A.mainAxis,ne=S?-y[U]/2+E+K+G+A.mainAxis:B+K+G+A.mainAxis,P=e.elements.arrow&&pt(e.elements.arrow),Q=P?j==="y"?P.clientTop||0:P.clientLeft||0:0,_=($=I==null?void 0:I[j])!=null?$:0,J=z+se-_-Q,Me=z+ne-_,Le=st(x?Ct(u,J):u,z,x?ze(R,Me):R);m[j]=Le,H[j]=Le-z}if(l){var ae,Se=j==="x"?ie:le,Ge=j==="x"?he:ge,Pe=m[M],Ie=M==="y"?"height":"width",qe=Pe+T[Se],Xe=Pe-T[Ge],Ye=[ie,le].indexOf(h)!==-1,dt=(ae=I==null?void 0:I[M])!=null?ae:0,ut=Ye?qe:Pe-y[Ie]-O[Ie]-dt+A.altAxis,Ne=Ye?Pe+y[Ie]+O[Ie]-dt-A.altAxis:Xe,ft=x&&Ye?_s(ut,Pe,Ne):st(x?ut:qe,Pe,x?Ne:Xe);m[M]=ft,H[M]=ft-Pe}e.modifiersData[s]=H}}const bn={name:"preventOverflow",enabled:!0,phase:"main",fn:vn,requiresIfExists:["offset"]};function yn(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function wn(t){return t===ue(t)||!fe(t)?Ut(t):yn(t)}function Cn(t){var e=t.getBoundingClientRect(),r=Ue(e.width)/t.offsetWidth||1,s=Ue(e.height)/t.offsetHeight||1;return r!==1||s!==1}function jn(t,e,r){r===void 0&&(r=!1);var s=fe(e),n=fe(e)&&Cn(e),a=ke(e),p=He(t,n,r),l={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(s||!s&&!r)&&((Ae(e)!=="body"||Vt(a))&&(l=wn(e)),fe(e)?(i=He(e,!0),i.x+=e.clientLeft,i.y+=e.clientTop):a&&(i.x=Ht(a))),{x:p.left+l.scrollLeft-i.x,y:p.top+l.scrollTop-i.y,width:p.width,height:p.height}}function Tn(t){var e=new Map,r=new Set,s=[];t.forEach(function(a){e.set(a.name,a)});function n(a){r.add(a.name);var p=[].concat(a.requires||[],a.requiresIfExists||[]);p.forEach(function(l){if(!r.has(l)){var i=e.get(l);i&&n(i)}}),s.push(a)}return t.forEach(function(a){r.has(a.name)||n(a)}),s}function Mn(t){var e=Tn(t);return $s.reduce(function(r,s){return r.concat(e.filter(function(n){return n.phase===s}))},[])}function Sn(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Pn(t){var e=t.reduce(function(r,s){var n=r[s.name];return r[s.name]=n?Object.assign({},n,s,{options:Object.assign({},n.options,s.options),data:Object.assign({},n.data,s.data)}):s,r},{});return Object.keys(e).map(function(r){return e[r]})}var br={placement:"bottom",modifiers:[],strategy:"absolute"};function yr(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Rn(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,s=r===void 0?[]:r,n=e.defaultOptions,a=n===void 0?br:n;return function(l,i,g){g===void 0&&(g=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},br,a),modifiersData:{},elements:{reference:l,popper:i},attributes:{},styles:{}},w=[],f=!1,x={state:c,setOptions:function(h){var v=typeof h=="function"?h(c.options):h;b(),c.options=Object.assign({},a,c.options,v),c.scrollParents={reference:Be(l)?nt(l):l.contextElement?nt(l.contextElement):[],popper:nt(i)};var S=Mn(Pn([].concat(s,c.options.modifiers)));return c.orderedModifiers=S.filter(function(j){return j.enabled}),C(),x.update()},forceUpdate:function(){if(!f){var h=c.elements,v=h.reference,S=h.popper;if(yr(v,S)){c.rects={reference:jn(v,pt(S),c.options.strategy==="fixed"),popper:_t(S)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(A){return c.modifiersData[A.name]=Object.assign({},A.data)});for(var j=0;j<c.orderedModifiers.length;j++){if(c.reset===!0){c.reset=!1,j=-1;continue}var M=c.orderedModifiers[j],m=M.fn,y=M.options,O=y===void 0?{}:y,k=M.name;typeof m=="function"&&(c=m({state:c,options:O,name:k,instance:x})||c)}}}},update:Sn(function(){return new Promise(function(T){x.forceUpdate(),T(c)})}),destroy:function(){b(),f=!0}};if(!yr(l,i))return x;x.setOptions(g).then(function(T){!f&&g.onFirstUpdate&&g.onFirstUpdate(T)});function C(){c.orderedModifiers.forEach(function(T){var h=T.name,v=T.options,S=v===void 0?{}:v,j=T.effect;if(typeof j=="function"){var M=j({state:c,name:h,instance:x,options:S}),m=function(){};w.push(M||m)}})}function b(){w.forEach(function(T){return T()}),w=[]}return x}}var An=[Zs,mn,Ys,Bs,hn,cn,bn,Vs,dn],En=Rn({defaultModifiers:An});function On(t){return me("MuiPopper",t)}xe("MuiPopper",["root"]);function Dn(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function zt(t){return typeof t=="function"?t():t}function kn(t){return t.nodeType!==void 0}const In=t=>{const{classes:e}=t;return be({root:["root"]},On,e)},$n={},Wn=d.forwardRef(function(e,r){const{anchorEl:s,children:n,direction:a,disablePortal:p,modifiers:l,open:i,placement:g,popperOptions:c,popperRef:w,slotProps:f={},slots:x={},TransitionProps:C,ownerState:b,...T}=e,h=d.useRef(null),v=wt(h,r),S=d.useRef(null),j=wt(S,w),M=d.useRef(j);Yt(()=>{M.current=j},[j]),d.useImperativeHandle(w,()=>S.current,[]);const m=Dn(g,a),[y,O]=d.useState(m),[k,A]=d.useState(zt(s));d.useEffect(()=>{S.current&&S.current.forceUpdate()}),d.useEffect(()=>{s&&A(zt(s))},[s]),Yt(()=>{if(!k||!i)return;const q=u=>{O(u.placement)};let U=[{name:"preventOverflow",options:{altBoundary:p}},{name:"flip",options:{altBoundary:p}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:u})=>{q(u)}}];l!=null&&(U=U.concat(l)),c&&c.modifiers!=null&&(U=U.concat(c.modifiers));const z=En(k,h.current,{placement:m,...c,modifiers:U});return M.current(z),()=>{z.destroy(),M.current(null)}},[k,p,l,i,c,m]);const I={placement:y};C!==null&&(I.TransitionProps=C);const H=In(e),$=x.root??"div",V=Ko({elementType:$,externalSlotProps:f.root,externalForwardedProps:T,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:H.root});return o.jsx($,{...V,children:typeof n=="function"?n(I):n})}),zn=d.forwardRef(function(e,r){const{anchorEl:s,children:n,container:a,direction:p="ltr",disablePortal:l=!1,keepMounted:i=!1,modifiers:g,open:c,placement:w="bottom",popperOptions:f=$n,popperRef:x,style:C,transition:b=!1,slotProps:T={},slots:h={},...v}=e,[S,j]=d.useState(!0),M=()=>{j(!1)},m=()=>{j(!0)};if(!i&&!c&&(!b||S))return null;let y;if(a)y=a;else if(s){const A=zt(s);y=A&&kn(A)?lr(A).body:lr(null).body}const O=!c&&i&&(!b||S)?"none":void 0,k=b?{in:c,onEnter:M,onExited:m}:void 0;return o.jsx(Yo,{disablePortal:l,container:y,children:o.jsx(Wn,{anchorEl:s,direction:p,disablePortal:l,modifiers:g,ref:r,open:b?!S:c,placement:w,popperOptions:f,popperRef:x,slotProps:T,slots:h,...v,style:{position:"fixed",top:0,left:0,display:O,...C},TransitionProps:k,children:n})})}),Bn=ee(zn,{name:"MuiPopper",slot:"Root"})({}),qr=d.forwardRef(function(e,r){const s=Pr(),n=ve({props:e,name:"MuiPopper"}),{anchorEl:a,component:p,components:l,componentsProps:i,container:g,disablePortal:c,keepMounted:w,modifiers:f,open:x,placement:C,popperOptions:b,popperRef:T,transition:h,slots:v,slotProps:S,...j}=n,M=(v==null?void 0:v.root)??(l==null?void 0:l.Root),m={anchorEl:a,container:g,disablePortal:c,keepMounted:w,modifiers:f,open:x,placement:C,popperOptions:b,popperRef:T,transition:h,...j};return o.jsx(Bn,{as:p,direction:s?"rtl":"ltr",slots:{root:M},slotProps:S??i,...m,ref:r})});function Ln(t){const{badgeContent:e,invisible:r=!1,max:s=99,showZero:n=!1}=t,a=zr({badgeContent:e,max:s});let p=r;r===!1&&e===0&&!n&&(p=!0);const{badgeContent:l,max:i=s}=p?a:t,g=l&&Number(l)>i?`${i}+`:l;return{badgeContent:l,invisible:p,max:i,displayValue:g}}function Nn(t){return me("MuiBadge",t)}const Oe=xe("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Et=10,Ot=4,_n=t=>{const{color:e,anchorOrigin:r,invisible:s,overlap:n,variant:a,classes:p={}}=t,l={root:["root"],badge:["badge",a,s&&"invisible",`anchorOrigin${re(r.vertical)}${re(r.horizontal)}`,`anchorOrigin${re(r.vertical)}${re(r.horizontal)}${re(n)}`,`overlap${re(n)}`,e!=="default"&&`color${re(e)}`]};return be(l,Nn,p)},Fn=ee("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Un=ee("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.badge,e[r.variant],e[`anchorOrigin${re(r.anchorOrigin.vertical)}${re(r.anchorOrigin.horizontal)}${re(r.overlap)}`],r.color!=="default"&&e[`color${re(r.color)}`],r.invisible&&e.invisible]}})(de(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Et*2,lineHeight:1,padding:"0 6px",height:Et*2,borderRadius:Et,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(po(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Ot,height:Ot*2,minWidth:Ot*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Oe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function wr(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const Hn=d.forwardRef(function(e,r){const s=ve({props:e,name:"MuiBadge"}),{anchorOrigin:n,className:a,classes:p,component:l,components:i={},componentsProps:g={},children:c,overlap:w="rectangular",color:f="default",invisible:x=!1,max:C=99,badgeContent:b,slots:T,slotProps:h,showZero:v=!1,variant:S="standard",...j}=s,{badgeContent:M,invisible:m,max:y,displayValue:O}=Ln({max:C,invisible:x,badgeContent:b,showZero:v}),k=zr({anchorOrigin:wr(n),color:f,overlap:w,variant:S,badgeContent:b}),A=m||M==null&&S!=="dot",{color:I=f,overlap:H=w,anchorOrigin:$,variant:V=S}=A?k:s,q=wr($),U=V!=="dot"?O:void 0,z={...s,badgeContent:M,invisible:A,max:y,displayValue:U,showZero:v,anchorOrigin:q,color:I,overlap:H,variant:V},u=_n(z),R={slots:{root:(T==null?void 0:T.root)??i.Root,badge:(T==null?void 0:T.badge)??i.Badge},slotProps:{root:(h==null?void 0:h.root)??g.root,badge:(h==null?void 0:h.badge)??g.badge}},[E,W]=oe("root",{elementType:Fn,externalForwardedProps:{...R,...j},ownerState:z,className:ce(u.root,a),ref:r,additionalProps:{as:l}}),[B,Y]=oe("badge",{elementType:Un,externalForwardedProps:R,ownerState:z,className:u.badge});return o.jsxs(E,{...W,children:[c,o.jsx(B,{...Y,children:U})]})});function Vn(t){return me("MuiDialog",t)}const Dt=xe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Xr=d.createContext({}),Gn=ee(Qo,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),qn=t=>{const{classes:e,scroll:r,maxWidth:s,fullWidth:n,fullScreen:a}=t,p={root:["root"],container:["container",`scroll${re(r)}`],paper:["paper",`paperScroll${re(r)}`,`paperWidth${re(String(s))}`,n&&"paperFullWidth",a&&"paperFullScreen"]};return be(p,Vn,e)},Xn=ee(Zo,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),Yn=ee("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${re(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Kn=ee(Bt,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${re(r.scroll)}`],e[`paperWidth${re(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(de(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Dt.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Dt.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Dt.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),jt=d.forwardRef(function(e,r){const s=ve({props:e,name:"MuiDialog"}),n=St(),a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":p,"aria-labelledby":l,"aria-modal":i=!0,BackdropComponent:g,BackdropProps:c,children:w,className:f,disableEscapeKeyDown:x=!1,fullScreen:C=!1,fullWidth:b=!1,maxWidth:T="sm",onClick:h,onClose:v,open:S,PaperComponent:j=Bt,PaperProps:M={},scroll:m="paper",slots:y={},slotProps:O={},TransitionComponent:k=cr,transitionDuration:A=a,TransitionProps:I,...H}=s,$={...s,disableEscapeKeyDown:x,fullScreen:C,fullWidth:b,maxWidth:T,scroll:m},V=qn($),q=d.useRef(),U=_=>{q.current=_.target===_.currentTarget},z=_=>{h&&h(_),q.current&&(q.current=null,v&&v(_,"backdropClick"))},u=Ir(l),R=d.useMemo(()=>({titleId:u}),[u]),E={transition:k,...y},W={transition:I,paper:M,backdrop:c,...O},B={slots:E,slotProps:W},[Y,X]=oe("root",{elementType:Xn,shouldForwardComponentProp:!0,externalForwardedProps:B,ownerState:$,className:ce(V.root,f),ref:r}),[Z,D]=oe("backdrop",{elementType:Gn,shouldForwardComponentProp:!0,externalForwardedProps:B,ownerState:$}),[G,K]=oe("paper",{elementType:Kn,shouldForwardComponentProp:!0,externalForwardedProps:B,ownerState:$,className:ce(V.paper,M.className)}),[se,ne]=oe("container",{elementType:Yn,externalForwardedProps:B,ownerState:$,className:V.container}),[P,Q]=oe("transition",{elementType:cr,externalForwardedProps:B,ownerState:$,additionalProps:{appear:!0,in:S,timeout:A,role:"presentation"}});return o.jsx(Y,{closeAfterTransition:!0,slots:{backdrop:Z},slotProps:{backdrop:{transitionDuration:A,as:g,...D}},disableEscapeKeyDown:x,onClose:v,open:S,onClick:z,...X,...H,children:o.jsx(P,{...Q,children:o.jsx(se,{onMouseDown:U,...ne,children:o.jsx(G,{as:j,elevation:24,role:"dialog","aria-describedby":p,"aria-labelledby":u,"aria-modal":i,...K,children:o.jsx(Xr.Provider,{value:R,children:w})})})})})});function Zn(t){return me("MuiDialogActions",t)}xe("MuiDialogActions",["root","spacing"]);const Qn=t=>{const{classes:e,disableSpacing:r}=t;return be({root:["root",!r&&"spacing"]},Zn,e)},Jn=ee("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Gt=d.forwardRef(function(e,r){const s=ve({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:a=!1,...p}=s,l={...s,disableSpacing:a},i=Qn(l);return o.jsx(Jn,{className:ce(i.root,n),ownerState:l,ref:r,...p})});function ea(t){return me("MuiDialogContent",t)}xe("MuiDialogContent",["root","dividers"]);function ta(t){return me("MuiDialogTitle",t)}const ra=xe("MuiDialogTitle",["root"]),oa=t=>{const{classes:e,dividers:r}=t;return be({root:["root",r&&"dividers"]},ea,e)},sa=ee("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(de(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${ra.root} + &`]:{paddingTop:0}}}]}))),Tt=d.forwardRef(function(e,r){const s=ve({props:e,name:"MuiDialogContent"}),{className:n,dividers:a=!1,...p}=s,l={...s,dividers:a},i=oa(l);return o.jsx(sa,{className:ce(i.root,n),ownerState:l,ref:r,...p})}),na=t=>{const{classes:e}=t;return be({root:["root"]},ta,e)},aa=ee(L,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Mt=d.forwardRef(function(e,r){const s=ve({props:e,name:"MuiDialogTitle"}),{className:n,id:a,...p}=s,l=s,i=na(l),{titleId:g=a}=d.useContext(Xr);return o.jsx(aa,{component:"h2",className:ce(i.root,n),ownerState:l,ref:r,variant:"h6",id:a??g,...p})});function ia(t){return me("MuiListItemAvatar",t)}xe("MuiListItemAvatar",["root","alignItemsFlexStart"]);const la=t=>{const{alignItems:e,classes:r}=t;return be({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},ia,r)},ca=ee("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),Yr=d.forwardRef(function(e,r){const s=ve({props:e,name:"MuiListItemAvatar"}),{className:n,...a}=s,p=d.useContext(uo),l={...s,alignItems:p.alignItems},i=la(l);return o.jsx(ca,{className:ce(i.root,n),ownerState:l,ref:r,...a})});function pa(t){return me("MuiTooltip",t)}const te=xe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function da(t){return Math.round(t*1e5)/1e5}const ua=t=>{const{classes:e,disableInteractive:r,arrow:s,touch:n,placement:a}=t,p={popper:["popper",!r&&"popperInteractive",s&&"popperArrow"],tooltip:["tooltip",s&&"tooltipArrow",n&&"touch",`tooltipPlacement${re(a.split("-")[0])}`],arrow:["arrow"]};return be(p,pa,e)},fa=ee(qr,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(de(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${te.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${te.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${te.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${te.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${te.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${te.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${te.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${te.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),ha=ee("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${re(r.placement.split("-")[0])}`]]}})(de(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Rr(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${te.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${te.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${te.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${te.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${da(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${te.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${te.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${te.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${te.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${te.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${te.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${te.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${te.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${te.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${te.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),ga=ee("span",{name:"MuiTooltip",slot:"Arrow"})(de(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Rr(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let xt=!1;const Cr=new fo;let Je={x:0,y:0};function vt(t,e){return(r,...s)=>{e&&e(r,...s),t(r,...s)}}const qt=d.forwardRef(function(e,r){const s=ve({props:e,name:"MuiTooltip"}),{arrow:n=!1,children:a,classes:p,components:l={},componentsProps:i={},describeChild:g=!1,disableFocusListener:c=!1,disableHoverListener:w=!1,disableInteractive:f=!1,disableTouchListener:x=!1,enterDelay:C=100,enterNextDelay:b=0,enterTouchDelay:T=700,followCursor:h=!1,id:v,leaveDelay:S=0,leaveTouchDelay:j=1500,onClose:M,onOpen:m,open:y,placement:O="bottom",PopperComponent:k,PopperProps:A={},slotProps:I={},slots:H={},title:$,TransitionComponent:V,TransitionProps:q,...U}=s,z=d.isValidElement(a)?a:o.jsx("span",{children:a}),u=St(),R=Pr(),[E,W]=d.useState(),[B,Y]=d.useState(null),X=d.useRef(!1),Z=f||h,D=tt(),G=tt(),K=tt(),se=tt(),[ne,P]=kr({controlled:y,default:!1,name:"Tooltip",state:"open"});let Q=ne;const _=Ir(v),J=d.useRef(),Me=Kt(()=>{J.current!==void 0&&(document.body.style.WebkitUserSelect=J.current,J.current=void 0),se.clear()});d.useEffect(()=>Me,[Me]);const Le=F=>{Cr.clear(),xt=!0,P(!0),m&&!Q&&m(F)},ae=Kt(F=>{Cr.start(800+S,()=>{xt=!1}),P(!1),M&&Q&&M(F),D.start(u.transitions.duration.shortest,()=>{X.current=!1})}),Se=F=>{X.current&&F.type!=="touchstart"||(E&&E.removeAttribute("title"),G.clear(),K.clear(),C||xt&&b?G.start(xt?b:C,()=>{Le(F)}):Le(F))},Ge=F=>{G.clear(),K.start(S,()=>{ae(F)})},[,Pe]=d.useState(!1),Ie=F=>{Zt(F.target)||(Pe(!1),Ge(F))},qe=F=>{E||W(F.currentTarget),Zt(F.target)&&(Pe(!0),Se(F))},Xe=F=>{X.current=!0;const je=z.props;je.onTouchStart&&je.onTouchStart(F)},Ye=F=>{Xe(F),K.clear(),D.clear(),Me(),J.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",se.start(T,()=>{document.body.style.WebkitUserSelect=J.current,Se(F)})},dt=F=>{z.props.onTouchEnd&&z.props.onTouchEnd(F),Me(),K.start(j,()=>{ae(F)})};d.useEffect(()=>{if(!Q)return;function F(je){je.key==="Escape"&&ae(je)}return document.addEventListener("keydown",F),()=>{document.removeEventListener("keydown",F)}},[ae,Q]);const ut=wt(Jo(z),W,r);!$&&$!==0&&(Q=!1);const Ne=d.useRef(),ft=F=>{const je=z.props;je.onMouseMove&&je.onMouseMove(F),Je={x:F.clientX,y:F.clientY},Ne.current&&Ne.current.update()},Ke={},Rt=typeof $=="string";g?(Ke.title=!Q&&Rt&&!w?$:null,Ke["aria-describedby"]=Q?_:null):(Ke["aria-label"]=Rt?$:null,Ke["aria-labelledby"]=Q&&!Rt?_:null);const we={...Ke,...U,...z.props,className:ce(U.className,z.props.className),onTouchStart:Xe,ref:ut,...h?{onMouseMove:ft}:{}},Ze={};x||(we.onTouchStart=Ye,we.onTouchEnd=dt),w||(we.onMouseOver=vt(Se,we.onMouseOver),we.onMouseLeave=vt(Ge,we.onMouseLeave),Z||(Ze.onMouseOver=Se,Ze.onMouseLeave=Ge)),c||(we.onFocus=vt(qe,we.onFocus),we.onBlur=vt(Ie,we.onBlur),Z||(Ze.onFocus=qe,Ze.onBlur=Ie));const $e={...s,isRtl:R,arrow:n,disableInteractive:Z,placement:O,PopperComponentProp:k,touch:X.current},Ce=typeof I.popper=="function"?I.popper($e):I.popper,Qr=d.useMemo(()=>{var je,Xt;let F=[{name:"arrow",enabled:!!B,options:{element:B,padding:4}}];return(je=A.popperOptions)!=null&&je.modifiers&&(F=F.concat(A.popperOptions.modifiers)),(Xt=Ce==null?void 0:Ce.popperOptions)!=null&&Xt.modifiers&&(F=F.concat(Ce.popperOptions.modifiers)),{...A.popperOptions,...Ce==null?void 0:Ce.popperOptions,modifiers:F}},[B,A.popperOptions,Ce==null?void 0:Ce.popperOptions]),At=ua($e),Jr=typeof I.transition=="function"?I.transition($e):I.transition,ht={slots:{popper:l.Popper,transition:l.Transition??V,tooltip:l.Tooltip,arrow:l.Arrow,...H},slotProps:{arrow:I.arrow??i.arrow,popper:{...A,...Ce??i.popper},tooltip:I.tooltip??i.tooltip,transition:{...q,...Jr??i.transition}}},[eo,to]=oe("popper",{elementType:fa,externalForwardedProps:ht,ownerState:$e,className:ce(At.popper,A==null?void 0:A.className)}),[ro,oo]=oe("transition",{elementType:es,externalForwardedProps:ht,ownerState:$e}),[so,no]=oe("tooltip",{elementType:ha,className:At.tooltip,externalForwardedProps:ht,ownerState:$e}),[ao,io]=oe("arrow",{elementType:ga,className:At.arrow,externalForwardedProps:ht,ownerState:$e,ref:Y});return o.jsxs(d.Fragment,{children:[d.cloneElement(z,we),o.jsx(eo,{as:k??qr,placement:O,anchorEl:h?{getBoundingClientRect:()=>({top:Je.y,left:Je.x,right:Je.x,bottom:Je.y,width:0,height:0})}:E,popperRef:Ne,open:E?Q:!1,id:_,transition:!0,...Ze,...to,popperOptions:Qr,children:({TransitionProps:F})=>o.jsx(ro,{timeout:u.transitions.duration.shorter,...F,...oo,children:o.jsxs(so,{...no,children:[$,n?o.jsx(ao,{...io}):null]})})})]})});class ma extends d.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=r.offsetParent,n=go(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=n-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xa({children:t,isPresent:e,anchorX:r,root:s}){const n=d.useId(),a=d.useRef(null),p=d.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=d.useContext(ho);return d.useInsertionEffect(()=>{const{width:i,height:g,top:c,left:w,right:f}=p.current;if(e||!a.current||!i||!g)return;const x=r==="left"?`left: ${w}`:`right: ${f}`;a.current.dataset.motionPopId=n;const C=document.createElement("style");l&&(C.nonce=l);const b=s??document.head;return b.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${g}px !important;
            ${x}px !important;
            top: ${c}px !important;
          }
        `),()=>{b.removeChild(C),b.contains(C)&&b.removeChild(C)}},[e]),o.jsx(ma,{isPresent:e,childRef:a,sizeRef:p,children:d.cloneElement(t,{ref:a})})}const va=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:n,presenceAffectsLayout:a,mode:p,anchorX:l,root:i})=>{const g=Ar(ba),c=d.useId();let w=!0,f=d.useMemo(()=>(w=!1,{id:c,initial:e,isPresent:r,custom:n,onExitComplete:x=>{g.set(x,!0);for(const C of g.values())if(!C)return;s&&s()},register:x=>(g.set(x,!1),()=>g.delete(x))}),[r,g,s]);return a&&w&&(f={...f}),d.useMemo(()=>{g.forEach((x,C)=>g.set(C,!1))},[r]),d.useEffect(()=>{!r&&!g.size&&s&&s()},[r]),p==="popLayout"&&(t=o.jsx(xa,{isPresent:r,anchorX:l,root:i,children:t})),o.jsx(mo.Provider,{value:f,children:t})};function ba(){return new Map}const bt=t=>t.key||"";function jr(t){const e=[];return d.Children.forEach(t,r=>{d.isValidElement(r)&&e.push(r)}),e}const ya=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:n=!0,mode:a="sync",propagate:p=!1,anchorX:l="left",root:i})=>{const[g,c]=xo(p),w=d.useMemo(()=>jr(t),[t]),f=p&&!g?[]:w.map(bt),x=d.useRef(!0),C=d.useRef(w),b=Ar(()=>new Map),[T,h]=d.useState(w),[v,S]=d.useState(w);vo(()=>{x.current=!1,C.current=w;for(let m=0;m<v.length;m++){const y=bt(v[m]);f.includes(y)?b.delete(y):b.get(y)!==!0&&b.set(y,!1)}},[v,f.length,f.join("-")]);const j=[];if(w!==T){let m=[...w];for(let y=0;y<v.length;y++){const O=v[y],k=bt(O);f.includes(k)||(m.splice(y,0,O),j.push(O))}return a==="wait"&&j.length&&(m=j),S(jr(m)),h(w),null}const{forceRender:M}=d.useContext(bo);return o.jsx(o.Fragment,{children:v.map(m=>{const y=bt(m),O=p&&!g?!1:w===v||f.includes(y),k=()=>{if(b.has(y))b.set(y,!0);else return;let A=!0;b.forEach(I=>{I||(A=!1)}),A&&(M==null||M(),S(C.current),p&&(c==null||c()),s&&s())};return o.jsx(va,{isPresent:O,initial:!x.current||r?void 0:!1,custom:e,presenceAffectsLayout:n,mode:a,root:i,onExitComplete:O?void 0:k,anchorX:l,children:m},y)})})},wa=ye(o.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),Ca=ye([o.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),o.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),kt=ye(o.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"})),ja=ye(o.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),Tr=ye(o.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),Ta=ye(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),Ma=ye(o.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),Kr=ye(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),Mr=ye(o.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Sa=ye(o.jsx("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"})),Pa=ye([o.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),o.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),Ra=ye(o.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),Aa=()=>yo(),et=t=>wo(t),Sr=t=>{console.log("🔍 Normalizing user data:",t);const e={...t,subordinates:Array.isArray(t.subordinates)?t.subordinates:[],managers:Array.isArray(t.managers)?t.managers:[]};return console.log("✅ Normalized user data:",e),e},Ea=()=>{const t=Aa(),[e,r]=d.useState([]),[s,n]=d.useState(null),[a,p]=d.useState(null),[l,i]=d.useState(!0),[g,c]=d.useState(null),[w,f]=d.useState(!1),[x,C]=d.useState(!1),b=et(u=>s?Lo(u,s.id):[]),T=et(u=>s?_o(u,s.id):!1),h=et(u=>s?No(u,s.id):null),v=et(u=>s?Bo(u,s.id):0),S=et(Wo),j=d.useCallback(()=>Co(),[]);d.useEffect(()=>{t(jo()),console.log("📱 Сессия инициализирована")},[t]),d.useEffect(()=>{const u=setInterval(()=>{S>5e3&&(t(Qt({maxMessagesPerChat:500,maxChatAge:216e5})),console.log("🧹 Хранилище оптимизировано, сообщений было:",S))},6e5);return()=>clearInterval(u)},[t,S]),d.useEffect(()=>{const u=()=>{t(zo()),console.log("📱 Сессия завершена")},R=()=>{document.hidden&&t(Qt({maxMessagesPerChat:1e3}))};return window.addEventListener("beforeunload",u),document.addEventListener("visibilitychange",R),()=>{window.removeEventListener("beforeunload",u),document.removeEventListener("visibilitychange",R)}},[t]);const M=d.useCallback(async()=>{var u;try{if(console.log("🔍 Загружаем данные пользователя..."),!Er()){console.warn("❌ Приложение должно быть открыто из Telegram WebApp"),c("Приложение должно быть открыто из Telegram для корректной работы"),f(!0);return}const R=To();if(!R){console.error("❌ Не удалось получить данные пользователя из Telegram WebApp"),c("Не удалось получить данные пользователя из Telegram"),f(!0);return}console.log("✅ Получены данные пользователя из Telegram:",R);const E=await Mo(),W=Sr(E);p(W),console.log("✅ Пользователь успешно загружен:",W),c(null),f(!1)}catch(R){console.error("❌ Ошибка загрузки пользователя:",R),((u=R.response)==null?void 0:u.status)===401||R.isAuthError?(f(!0),c("Приложение должно быть открыто из Telegram для корректной работы")):c("Ошибка загрузки данных пользователя")}},[j]),m=d.useCallback(async()=>{var u,R;try{i(!0);const W=(await Jt()).sort((B,Y)=>!B.last_message_time&&!Y.last_message_time?0:B.last_message_time?Y.last_message_time?new Date(Y.last_message_time).getTime()-new Date(B.last_message_time).getTime():-1:1);r(W),c(null),f(!1)}catch(E){console.error("Error loading chats:",E),((u=E.response)==null?void 0:u.status)===401||E.isAuthError?(f(!0),c("Приложение должно быть открыто из Telegram для корректной работы")):E.isTimeoutError||E.code==="ECONNABORTED"?c("⏱️ Сервер запускается, попробуйте обновить страницу через минуту"):E.isServiceError||((R=E.response)==null?void 0:R.status)===503?c("🔧 Сервер временно недоступен, попробуйте через несколько минут"):c("Ошибка загрузки чатов")}finally{i(!1)}},[]),y=d.useCallback(async()=>{var u;try{const E=(await Jt()).sort((W,B)=>!W.last_message_time&&!B.last_message_time?0:W.last_message_time?B.last_message_time?new Date(B.last_message_time).getTime()-new Date(W.last_message_time).getTime():-1:1);r(E),c(null),f(!1)}catch(R){console.error("Error refreshing chats:",R),(((u=R.response)==null?void 0:u.status)===401||R.isAuthError)&&f(!0)}},[]),O=d.useCallback(async u=>{var R,E;try{t(er({chatId:u,loading:!0}));const W=await tr(u);t(So({chatId:u,messages:W.messages})),c(null),f(!1)}catch(W){console.error("Error loading messages:",W),t(Po({chatId:u,error:W.message})),((R=W.response)==null?void 0:R.status)===401||W.isAuthError?(f(!0),c("Приложение должно быть открыто из Telegram для корректной работы")):W.isTimeoutError||W.code==="ECONNABORTED"?c("⏱️ Сервер запускается, сообщения загрузятся автоматически"):W.isServiceError||((E=W.response)==null?void 0:E.status)===503?c("🔧 Сервер временно недоступен, попробуйте обновить чат"):c("Ошибка загрузки сообщений")}finally{t(er({chatId:u,loading:!1}))}},[t]),k=d.useCallback(async u=>{var R,E;try{const B=(await tr(u)).messages;if(B.length>0){const Y=B[B.length-1].id;if(v&&Y>v){const X=b,Z=new Set(X.map(G=>G.id)),D=B.filter(G=>!Z.has(G.id));if(D.length>0){t(Ro({chatId:u,messages:D})),C(!0),y();try{(E=(R=window.Telegram)==null?void 0:R.WebApp)!=null&&E.HapticFeedback&&window.Telegram.WebApp.HapticFeedback.notificationOccurred("success")}catch{console.log("Haptic feedback not available")}console.log("🔄 Получены новые сообщения")}}}}catch(W){console.error("Error checking new messages:",W)}},[v,b,t,y]),A=d.useCallback(async(u,R)=>{if(R.trim())try{const E={text:R.trim(),message_type:"text",chat_id:u},W=await Ao(E);t(Eo({chatId:u,message:W})),r(B=>B.map(X=>X.id===u?{...X,last_message:R.trim(),last_message_time:new Date().toISOString()}:X).sort((X,Z)=>!X.last_message_time&&!Z.last_message_time?0:X.last_message_time?Z.last_message_time?new Date(Z.last_message_time).getTime()-new Date(X.last_message_time).getTime():-1:1))}catch(E){console.error("Error sending message:",E),c("Ошибка отправки сообщения")}},[a,t]),I=d.useCallback(async(u,R=[],E=[],W)=>{try{const B={title:u,chat_type:R.length+E.length>0?"group":"private",member_ids:R,...W&&{photo_url:W}},Y=await Oo(B);if(E.length>0){const{inviteMemberByUsername:Z}=await rr(async()=>{const{inviteMemberByUsername:D}=await import("./index-Bz9E9Gki.js").then(G=>G.a_);return{inviteMemberByUsername:D}},__vite__mapDeps([0,1]));for(const D of E)try{await Z(Y.id,D)}catch(G){console.error(`Error inviting ${D}:`,G)}}await m();const X={id:Y.id,title:Y.title,chat_type:Y.chat_type,photo_url:Y.photo_url,last_message:void 0,last_message_time:void 0,unread_count:0};return n(X),await O(Y.id),Y}catch(B){throw console.error("Error creating chat:",B),c("Ошибка создания чата"),B}},[m,O]),H=d.useCallback(u=>{n(u),C(!1),O(u.id),u.unread_count>0&&Do(u.id).catch(R=>console.error("Error marking messages as read:",R))},[O]),$=d.useCallback(()=>{n(null),C(!1)},[]),V=d.useCallback(()=>{C(!1)},[]),q=d.useCallback(async u=>{try{const{getChat:R}=await rr(async()=>{const{getChat:W}=await import("./index-Bz9E9Gki.js").then(B=>B.a_);return{getChat:W}},__vite__mapDeps([0,1]));return await R(u)}catch(R){throw console.error("Error loading chat info:",R),c("Ошибка загрузки информации о чате"),R}},[]),U=d.useCallback(async(u,R)=>{try{await ko(u,R),c(null),s&&s.id===u&&setTimeout(()=>y(),1e3)}catch(E){throw console.error("Error adding member to chat:",E),c("Ошибка добавления участника"),E}},[s,y]),z=d.useCallback(async(u,R)=>{try{await Io(u,R),c(null),s&&s.id===u&&setTimeout(()=>y(),1e3)}catch(E){throw console.error("Error removing member from chat:",E),c("Ошибка удаления участника"),E}},[s,y]);return d.useEffect(()=>{j(),M(),m()},[j,M,m]),d.useEffect(()=>{if(w)return;const u=setInterval(()=>{y()},3e4);return()=>clearInterval(u)},[w,y]),d.useEffect(()=>{if(!s||w)return;const u=setInterval(()=>{k(s.id)},5e3);return()=>clearInterval(u)},[s,w,k]),d.useEffect(()=>{if(w)return;const u=setInterval(async()=>{var R;try{const E=await $o(),W=Sr(E);p(W),y()}catch(E){((R=E.response)==null?void 0:R.status)===404?console.log("Check invitations endpoint not available (404) - skipping"):console.log("No new invitations or error:",E)}},12e4);return()=>clearInterval(u)},[w,y]),{chats:e,currentChat:s,messages:b,currentUser:a,loading:l,messagesLoading:T,error:g||h,isAuthError:w,hasNewMessages:x,markMessagesAsViewed:V,sendNewMessage:A,createNewChat:I,selectChat:H,refreshChats:y,refreshMessages:()=>s&&O(s.id),loadChatInfo:q,addMemberToChat:U,removeMemberFromChat:z,clearCurrentChat:$,checkNewMessages:()=>s&&k(s.id)}},Oa=({open:t,onClose:e})=>{const[r,s]=d.useState([]),[n,a]=d.useState(!1),p=async()=>{var C,b,T;a(!0);const f=[];try{const h=Er();f.push({name:"Telegram WebApp",status:h?"success":"warning",message:h?"Приложение запущено в Telegram WebApp":"Приложение запущено вне Telegram (режим разработки)",details:h?"Все функции Telegram WebApp доступны":"Некоторые функции могут работать с ограничениями",suggestions:h?void 0:["Откройте приложение через Telegram бота","Проверьте настройки WebApp в боте"]})}catch(h){f.push({name:"Telegram WebApp",status:"error",message:"Ошибка при проверке Telegram WebApp",details:h instanceof Error?h.message:"Неизвестная ошибка"})}try{const h=or();f.push({name:"Telegram Init Data",status:h?"success":"error",message:h?`Данные авторизации найдены (${h.length} символов)`:"Данные авторизации отсутствуют",details:h?`Подпись: ${h.substring(0,50)}...`:"Невозможно получить данные для авторизации на сервере",suggestions:h?void 0:["Перезапустите приложение из Telegram","Проверьте настройки бота","Убедитесь что WebApp правильно настроен"]})}catch(h){f.push({name:"Telegram Init Data",status:"error",message:"Ошибка при получении данных авторизации",details:h instanceof Error?h.message:"Неизвестная ошибка"})}try{await Fo(),f.push({name:"Подключение к серверу",status:"success",message:"Сервер отвечает на запросы",details:"Health check прошел успешно"})}catch(h){const v=h.isMethodError||((C=h.response)==null?void 0:C.status)===405;f.push({name:"Подключение к серверу",status:v?"warning":"error",message:v?"Сервер доступен, но некоторые endpoints могут не работать (ошибка 405)":"Сервер недоступен или не отвечает",details:h.message||"Неизвестная ошибка сервера",suggestions:v?["Проверьте настройки API на сервере","Убедитесь что все endpoints правильно настроены","Свяжитесь с администратором сервера"]:["Проверьте подключение к интернету","Сервер может быть временно недоступен","Попробуйте позже"]})}try{await Uo(),f.push({name:"Конфигурация авторизации",status:"success",message:"Настройки авторизации на сервере корректны",details:"Сервер готов к обработке Telegram авторизации"})}catch(h){const v=h.isMethodError||((b=h.response)==null?void 0:b.status)===405;f.push({name:"Конфигурация авторизации",status:v?"warning":"error",message:v?"Endpoint диагностики недоступен (405), но это не критично":"Проблема с настройками авторизации на сервере",details:h.message||"Ошибка при проверке конфигурации",suggestions:v?["Функция диагностики может быть отключена на сервере","Это не влияет на основную работу приложения"]:["Проверьте настройки Telegram бота на сервере","Убедитесь что TELEGRAM_BOT_TOKEN настроен правильно"]})}const x=or();if(x)try{await Ho(x),f.push({name:"Валидация Telegram данных",status:"success",message:"Данные Telegram проходят валидацию на сервере",details:"Подпись данных корректна"})}catch(h){const v=h.isMethodError||((T=h.response)==null?void 0:T.status)===405;f.push({name:"Валидация Telegram данных",status:v?"warning":"error",message:v?"Endpoint валидации недоступен (405)":"Данные Telegram не проходят валидацию",details:h.message||"Ошибка валидации данных",suggestions:v?["Endpoint валидации может быть отключен","Попробуйте основные функции приложения"]:["Данные авторизации могли быть повреждены","Перезапустите приложение из Telegram","Проверьте настройки бота"]})}s(f),a(!1)};d.useEffect(()=>{t&&p()},[t]);const l=f=>{switch(f){case"success":return o.jsx(rs,{sx:{color:"#4CAF50"}});case"error":return o.jsx(Ta,{sx:{color:"#f44336"}});case"warning":return o.jsx(Ra,{sx:{color:"#ff9800"}});case"loading":return o.jsx(Te,{size:24});default:return o.jsx(Kr,{sx:{color:"#2196f3"}})}},i=f=>{switch(f){case"success":return"#4CAF50";case"error":return"#f44336";case"warning":return"#ff9800";default:return"#2196f3"}},g=r.filter(f=>f.status==="error").length,c=r.filter(f=>f.status==="warning").length,w=r.filter(f=>f.status==="success").length;return o.jsxs(jt,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white",maxHeight:"90vh"}},children:[o.jsxs(Mt,{children:[o.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(L,{variant:"h6",children:"Диагностика системы"}),n&&o.jsx(Te,{size:24})]}),!n&&r.length>0&&o.jsxs(N,{sx:{display:"flex",gap:1,mt:1},children:[o.jsx(rt,{label:`${w} успешно`,color:"success",size:"small"}),c>0&&o.jsx(rt,{label:`${c} предупр.`,sx:{bgcolor:"#ff9800",color:"white"},size:"small"}),g>0&&o.jsx(rt,{label:`${g} ошибок`,color:"error",size:"small"})]})]}),o.jsx(Tt,{sx:{pb:1},children:n?o.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:2,py:4},children:[o.jsx(Te,{}),o.jsx(L,{children:"Выполняется диагностика..."})]}):o.jsxs(N,{sx:{display:"flex",flexDirection:"column",gap:1},children:[r.map((f,x)=>o.jsxs(fs,{sx:{bgcolor:"rgba(255, 255, 255, 0.05)","&:before":{display:"none"},"&.Mui-expanded":{margin:"8px 0"}},children:[o.jsx(js,{expandIcon:o.jsx(Ma,{sx:{color:"white"}}),children:o.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[l(f.status),o.jsx(L,{sx:{fontWeight:500,flex:1},children:f.name}),o.jsx(rt,{label:f.status==="success"?"OK":f.status==="error"?"Ошибка":"Внимание",size:"small",sx:{bgcolor:i(f.status),color:"white",minWidth:80}})]})}),o.jsxs(xs,{children:[o.jsx(L,{variant:"body2",sx:{mb:1},children:f.message}),f.details&&o.jsxs(o.Fragment,{children:[o.jsx(pr,{sx:{my:1,bgcolor:"rgba(255,255,255,0.1)"}}),o.jsxs(L,{variant:"caption",sx:{color:"#8b95a1"},children:["Детали: ",f.details]})]}),f.suggestions&&f.suggestions.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(pr,{sx:{my:1,bgcolor:"rgba(255,255,255,0.1)"}}),o.jsx(L,{variant:"caption",sx:{color:"#8b95a1",display:"block",mb:.5},children:"Рекомендации:"}),f.suggestions.map((C,b)=>o.jsxs(L,{variant:"caption",sx:{color:"#8b95a1",display:"block",ml:2},children:["• ",C]},b))]})]})]},x)),g>0&&o.jsx(De,{severity:"error",sx:{mt:2,bgcolor:"rgba(244, 67, 54, 0.1)"},children:o.jsx(L,{variant:"body2",children:"Обнаружены критические ошибки. Рекомендуется перезапустить приложение из Telegram."})}),g===0&&c>0&&o.jsx(De,{severity:"warning",sx:{mt:2,bgcolor:"rgba(255, 152, 0, 0.1)"},children:o.jsx(L,{variant:"body2",children:"Есть некритичные проблемы. Основные функции должны работать."})}),g===0&&c===0&&r.length>0&&o.jsx(De,{severity:"success",sx:{mt:2,bgcolor:"rgba(76, 175, 80, 0.1)"},children:o.jsx(L,{variant:"body2",children:"Все проверки прошли успешно! Система работает корректно."})})]})}),o.jsxs(Gt,{children:[o.jsx(pe,{onClick:()=>p(),disabled:n,children:"Повторить диагностику"}),o.jsx(pe,{onClick:e,variant:"contained",children:"Закрыть"})]})]})},Zr=({currentPhotoUrl:t,onPhotoChange:e,disabled:r=!1,size:s=80})=>{const[n,a]=d.useState(!1),[p,l]=d.useState(null),[i,g]=d.useState(t||null),c=d.useRef(null),w=b=>{var v;const T=(v=b.target.files)==null?void 0:v[0];if(!T)return;if(!T.type.startsWith("image/")){l("Пожалуйста, выберите изображение");return}if(T.size>5*1024*1024){l("Размер файла не должен превышать 5MB");return}const h=new FileReader;h.onload=S=>{var j;g((j=S.target)==null?void 0:j.result)},h.readAsDataURL(T),f(T)},f=async b=>{var T,h,v,S,j;try{a(!0),l(null),console.log("Загружаем файл:",b.name,b.size,b.type);const M=await Vo(b);e(M.media_url),g(M.media_url),console.log("Фото успешно загружено:",M.media_url)}catch(M){console.error("Error uploading photo:",M);let m="Ошибка загрузки фото";((T=M.response)==null?void 0:T.status)===405?(m="Загрузка фото временно недоступна",console.warn("405 Error: uploadMedia endpoint may not be available")):((h=M.response)==null?void 0:h.status)===413?m="Файл слишком большой":((v=M.response)==null?void 0:v.status)===422?m="Неподдерживаемый формат файла":((S=M.response)==null?void 0:S.status)===401?m="Ошибка авторизации":M.isAuthError?m="Требуется авторизация в Telegram":M.code==="ECONNABORTED"?m="Превышено время ожидания":((j=M.response)==null?void 0:j.status)>=500&&(m="Ошибка сервера, попробуйте позже"),l(m),g(t||null)}finally{a(!1)}},x=()=>{g(null),e(null),l(null),c.current&&(c.current.value="")},C=()=>{var b;r||n||(b=c.current)==null||b.click()};return o.jsxs(N,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[o.jsxs(N,{sx:{position:"relative"},children:[o.jsx(at,{src:i||void 0,sx:{width:s,height:s,bgcolor:"#4a9eff",cursor:r||n?"default":"pointer",border:p?"2px solid #f44336":"2px solid transparent","&:hover":{opacity:r||n?1:.8}},onClick:C,children:n?o.jsx(Te,{size:s*.4,sx:{color:"white"}}):o.jsx(Pa,{sx:{fontSize:s*.4}})}),i&&!n&&o.jsx(We,{size:"small",sx:{position:"absolute",top:-8,right:-8,bgcolor:"#f44336",color:"white",width:24,height:24,"&:hover":{bgcolor:"#d32f2f"}},onClick:x,children:o.jsx(Tr,{sx:{fontSize:14}})}),n&&o.jsx(N,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0,0,0,0.5)",borderRadius:"50%"},children:o.jsx(Te,{size:s*.3,sx:{color:"white"}})})]}),o.jsxs(N,{sx:{display:"flex",gap:1},children:[o.jsx(pe,{variant:"outlined",size:"small",startIcon:o.jsx(ja,{}),onClick:C,disabled:r||n,sx:{borderColor:"#4a9eff",color:"#4a9eff","&:hover":{borderColor:"#3d8bdb",bgcolor:"rgba(74, 158, 255, 0.1)"}},children:n?"Загрузка...":"Выбрать фото"}),i&&o.jsx(qt,{title:"Удалить фото",children:o.jsx(We,{size:"small",onClick:x,disabled:r||n,sx:{color:"#f44336","&:hover":{bgcolor:"rgba(244, 67, 54, 0.1)"}},children:o.jsx(Tr,{})})})]}),o.jsxs(L,{variant:"caption",sx:{color:"#8b95a1",textAlign:"center"},children:["Нажмите на аватар или кнопку для выбора фото",o.jsx("br",{}),"Максимальный размер: 5MB",p&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("span",{style:{color:"#f44336"},children:p}),o.jsx("br",{}),o.jsx("span",{style:{color:"#8b95a1"},children:"Чат можно создать и без фото"})]})]}),o.jsx("input",{ref:c,type:"file",accept:"image/*",style:{display:"none"},onChange:w})]})},Da=({open:t,onClose:e,currentChat:r,loadChatInfo:s,addMemberToChat:n,removeMemberFromChat:a,currentUserId:p,onChatPhotoUpdate:l})=>{var z;const[i,g]=d.useState(null),[c,w]=d.useState(!1),[f,x]=d.useState(null),[C,b]=d.useState(""),[T,h]=d.useState(""),[v,S]=d.useState("username"),[j,M]=d.useState(!1),[m,y]=d.useState(null),[O,k]=d.useState(!1);d.useEffect(()=>{t&&r&&A()},[t,r]);const A=async()=>{if(r)try{w(!0),x(null);const u=await s(r.id);g(u)}catch(u){x("Не удалось загрузить информацию о чате"),console.error("Error loading chat details:",u)}finally{w(!1)}},I=async u=>{r&&await n(r.id,u)},H=async u=>{if(!r)return;const R=await sr(r.id,u);R.status==="added"?y({type:"success",message:`✅ @${u} найден и добавлен в чат!`}):R.status==="invited"&&y({type:"info",message:`📨 @${u} не найден в базе. Приглашение создано - пользователь будет добавлен при входе в приложение.`}),setTimeout(()=>y(null),5e3)},$=async()=>{if(!C.trim())return;const u=C.trim(),R=parseInt(u);try{M(!0),x(null),isNaN(R)?await H(u.replace(/^@/,"")):await I(R),b(""),await A()}catch(E){console.error("Error adding member (ID path):",E),x("Не удалось добавить участника")}finally{M(!1)}},V=async()=>{if(!(!T.trim()||!r))try{M(!0),x(null),y(null);const u=await sr(r.id,T.trim());u.status==="added"?(y({type:"success",message:`✅ @${T.trim()} добавлен в чат!`}),h(""),await A()):u.status==="invited"&&(y({type:"info",message:`📨 Приглашение отправлено @${T.trim()}. Пользователь будет добавлен автоматически при входе в приложение.`}),h("")),setTimeout(()=>y(null),5e3)}catch(u){console.error("Error adding member by username:",u),y({type:"warning",message:"Не удалось добавить участника. Проверьте username и попробуйте снова."})}finally{M(!1)}},q=async u=>{if(r)try{x(null),await a(r.id,u),await A()}catch(R){x("Не удалось удалить участника"),console.error("Error removing member:",R)}},U=u=>{i&&g({...i,photo_url:u}),l&&l(u),k(!1)};return r?o.jsxs(jt,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[o.jsxs(Mt,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsxs(N,{sx:{position:"relative"},children:[o.jsx(at,{src:(i==null?void 0:i.photo_url)||r.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:64,height:64},children:r.title?r.title[0].toUpperCase():o.jsx(dr,{})}),o.jsx(We,{onClick:()=>k(!0),sx:{position:"absolute",bottom:-4,right:-4,bgcolor:"#4a9eff",color:"white",width:24,height:24,"&:hover":{bgcolor:"#3d8bdb"}},children:o.jsx(Ca,{sx:{fontSize:14}})})]}),o.jsxs(N,{children:[o.jsx(L,{variant:"h6",children:r.title||"Безымянный чат"}),o.jsx(L,{variant:"caption",sx:{color:"#8b95a1"},children:r.chat_type==="private"?"Личный чат":"Групповой чат"})]})]}),o.jsxs(Tt,{children:[f&&o.jsx(De,{severity:"error",sx:{mb:2},children:f}),c?o.jsx(N,{sx:{display:"flex",justifyContent:"center",py:3},children:o.jsx(Te,{sx:{color:"#4a9eff"}})}):i?o.jsxs(o.Fragment,{children:[o.jsxs(N,{sx:{mb:3},children:[o.jsx(L,{variant:"subtitle1",sx:{mb:1,fontWeight:600},children:"Информация"}),o.jsxs(L,{variant:"body2",sx:{color:"#8b95a1",mb:1},children:["ID чата: ",i.id]}),o.jsxs(L,{variant:"body2",sx:{color:"#8b95a1",mb:1},children:["Создан: ",new Date(i.created_at).toLocaleDateString("ru-RU")]}),i.description&&o.jsxs(L,{variant:"body2",sx:{color:"#8b95a1"},children:["Описание: ",i.description]})]}),o.jsxs(N,{sx:{mb:3},children:[o.jsxs(L,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:["Участники (",((z=i.members)==null?void 0:z.length)||0,")"]}),i.members&&i.members.length>0?o.jsx(Or,{sx:{maxHeight:200,overflow:"auto"},children:i.members.map(u=>o.jsxs(Dr,{sx:{bgcolor:"rgba(43, 52, 65, 0.5)",borderRadius:1,mb:1},children:[o.jsx(Yr,{children:o.jsx(at,{src:u.profile_photo_url||void 0,sx:{bgcolor:"#4a9eff"},children:u.first_name?u.first_name[0].toUpperCase():o.jsx(dr,{})})}),o.jsx($r,{primary:o.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsxs(L,{children:[u.first_name," ",u.last_name]}),u.is_admin&&o.jsx(rt,{icon:o.jsx(ts,{}),label:"Админ",size:"small",sx:{bgcolor:"#4a9eff",color:"white",fontSize:"0.7rem"}})]}),secondary:o.jsx(L,{variant:"caption",sx:{color:"#8b95a1"},children:u.username?`@${u.username}`:`ID: ${u.telegram_id}`})}),p!==u.telegram_id&&o.jsx(qt,{title:"Удалить участника",children:o.jsx(We,{onClick:()=>q(u.telegram_id),sx:{color:"#f44336","&:hover":{bgcolor:"rgba(244, 67, 54, 0.1)"}},children:o.jsx(Sa,{})})})]},u.id))}):o.jsx(L,{variant:"body2",sx:{color:"#8b95a1",textAlign:"center",py:2},children:"Нет участников"})]}),o.jsxs(N,{children:[o.jsx(L,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:"Добавить участника"}),m&&o.jsx(De,{severity:m.type==="success"?"success":m.type==="info"?"info":"warning",sx:{mb:2,"& .MuiAlert-message":{color:"white"},bgcolor:m.type==="success"?"rgba(76, 175, 80, 0.2)":m.type==="info"?"rgba(33, 150, 243, 0.2)":"rgba(255, 152, 0, 0.2)",border:`1px solid ${m.type==="success"?"#4CAF50":m.type==="info"?"#2196F3":"#FF9800"}`},children:m.message}),o.jsxs(N,{sx:{display:"flex",gap:1,mb:2},children:[o.jsx(pe,{variant:v==="username"?"contained":"outlined",onClick:()=>S("username"),size:"small",sx:{bgcolor:v==="username"?"#4a9eff":"transparent",color:v==="username"?"white":"#4a9eff",borderColor:"#4a9eff","&:hover":{bgcolor:v==="username"?"#3d8bdb":"rgba(74, 158, 255, 0.1)"}},children:"По @username"}),o.jsx(pe,{variant:v==="id"?"contained":"outlined",onClick:()=>S("id"),size:"small",sx:{bgcolor:v==="id"?"#4a9eff":"transparent",color:v==="id"?"white":"#4a9eff",borderColor:"#4a9eff","&:hover":{bgcolor:v==="id"?"#3d8bdb":"rgba(74, 158, 255, 0.1)"}},children:"По ID (авто)"})]}),v==="username"?o.jsxs(N,{sx:{display:"flex",gap:1},children:[o.jsx(ot,{size:"small",placeholder:"@username пользователя",value:T,onChange:u=>h(u.target.value),helperText:"💡 Если пользователь уже использовал приложение - добавится сразу. Если нет - получит приглашение.",sx:{flex:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}}),o.jsx(pe,{variant:"contained",onClick:V,disabled:!T.trim()||j,startIcon:j?o.jsx(Te,{size:16}):o.jsx(Mr,{}),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"},minWidth:"120px"},children:j?"Поиск...":"Добавить"})]}):o.jsxs(N,{sx:{display:"flex",gap:1},children:[o.jsx(ot,{size:"small",placeholder:"ID или @username",value:C,onChange:u=>b(u.target.value),helperText:"💡 Можете ввести как Telegram ID (числа), так и @username - система определит автоматически",sx:{flex:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}}),o.jsx(pe,{variant:"contained",onClick:$,disabled:!C.trim()||j,startIcon:j?o.jsx(Te,{size:16}):o.jsx(Mr,{}),sx:{bgcolor:"#4a9eff","&:hover":{bgcolor:"#3d8bdb"},minWidth:"120px"},children:j?"Поиск...":"Добавить"})]})]})]}):o.jsx(L,{variant:"body2",sx:{textAlign:"center",py:3,color:"#8b95a1"},children:"Не удалось загрузить информацию о чате"})]}),o.jsx(Gt,{children:o.jsx(pe,{onClick:e,sx:{color:"#8b95a1"},children:"Закрыть"})}),o.jsxs(jt,{open:O,onClose:()=>k(!1),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[o.jsx(Mt,{children:"Изменить фото чата"}),o.jsxs(Tt,{children:[o.jsx(Zr,{currentPhotoUrl:(i==null?void 0:i.photo_url)||r.photo_url||void 0,onPhotoChange:u=>{u?U(u):(i&&g({...i,photo_url:void 0}),l&&l(""))}}),o.jsx(N,{sx:{display:"flex",gap:1,mt:2,justifyContent:"flex-end"},children:o.jsx(pe,{onClick:()=>k(!1),sx:{color:"#8b95a1"},children:"Отмена"})})]})]})]}):null},Ua=()=>{const t=St(),e=Go(t.breakpoints.down("md")),[r,s]=d.useState(""),[n,a]=d.useState(!1),[p,l]=d.useState(""),[i,g]=d.useState(""),[c,w]=d.useState(null),[f,x]=d.useState(null),[C,b]=d.useState(!1),[T,h]=d.useState(!1),[v,S]=d.useState(!1),j=d.useRef(null),{chats:M,currentChat:m,messages:y,currentUser:O,loading:k,messagesLoading:A,error:I,isAuthError:H,hasNewMessages:$,markMessagesAsViewed:V,sendNewMessage:q,createNewChat:U,selectChat:z,loadChatInfo:u,addMemberToChat:R,removeMemberFromChat:E,clearCurrentChat:W}=Ea(),B=()=>{var P;(P=j.current)==null||P.scrollIntoView({behavior:"smooth"})},Y=()=>{W()};d.useEffect(B,[y]),d.useEffect(()=>{if($&&y.length>0){const P=setTimeout(()=>{V()},2e3);return()=>clearTimeout(P)}},[$,y.length,V]);const X=async()=>{if(!(!r.trim()||!m))try{V(),await q(m.id,r.trim()),s(""),B()}catch(P){console.error("Error sending message:",P)}},Z=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),X())},D=async()=>{var P,Q;try{b(!0),x(null);const _=[],J=[];i.trim()&&i.split(",").map(ae=>ae.trim()).filter(ae=>ae.length>0).forEach(ae=>{const Se=parseInt(ae);!isNaN(Se)&&Se>0?_.push(Se):J.push(ae.replace(/^@/,""))}),await U(p.trim(),_,J,c||void 0);let Me=`✅ Чат "${p.trim()}" создан успешно!`;_.length>0&&(Me+=` Добавлено ${_.length} участников.`),J.length>0&&(Me+=` Отправлено ${J.length} приглашений по username.`),x({type:"success",message:Me}),setTimeout(()=>{x(null),a(!1)},2e3),l(""),g(""),w(null)}catch(_){console.error("Error creating chat:",_);let J="Не удалось создать чат. Попробуйте еще раз.";_!=null&&_.isTimeoutError?J="⏱️ Сервер запускается, это может занять до минуты. Попробуйте еще раз.":_!=null&&_.isServiceError?J="🔧 Сервер временно недоступен. Попробуйте через несколько минут.":_!=null&&_.isAuthError?J="🔐 Ошибка авторизации. Откройте приложение из Telegram.":(_==null?void 0:_.code)==="ECONNABORTED"?J="⏱️ Превышено время ожидания. Сервер может запускаться - попробуйте еще раз.":((P=_==null?void 0:_.response)==null?void 0:P.status)===503?J="🔧 Сервер временно недоступен. Попробуйте через несколько минут.":((Q=_==null?void 0:_.response)==null?void 0:Q.status)===500&&(J="⚠️ Ошибка на сервере. Попробуйте еще раз или обратитесь в поддержку."),x({type:"warning",message:J})}finally{b(!1)}},G=P=>new Date(P).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),K=P=>{const Q=new Date(P),_=new Date,J=new Date(_);return J.setDate(J.getDate()-1),Q.toDateString()===_.toDateString()?"Сегодня":Q.toDateString()===J.toDateString()?"Вчера":Q.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})},se=P=>{const Q=P.sender;return Q.username?`@${Q.username}`:`${Q.first_name}${Q.last_name?` ${Q.last_name}`:""}`},ne=P=>O&&P.sender_id===O.id;return k?o.jsx(N,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(35, 43, 59, 0.95)"},children:o.jsx(Te,{sx:{color:"#4a9eff"}})}):H?o.jsxs(N,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",p:3},children:[o.jsxs(De,{severity:"error",sx:{mb:3,maxWidth:"600px"},children:[o.jsx(L,{variant:"h6",sx:{mb:2},children:"🚫 Ошибка авторизации"}),o.jsx(L,{variant:"body1",sx:{mb:2,fontWeight:"bold"},children:"Проблема с авторизацией на сервере"}),o.jsx(L,{variant:"body2",sx:{mb:2},children:"Сервер отклоняет авторизацию. Возможные причины:"}),o.jsxs(L,{variant:"body2",component:"ul",sx:{pl:2,mb:2},children:[o.jsx("li",{children:"На сервере не настроен токен Telegram бота"}),o.jsx("li",{children:"Неправильный или истёкший токен бота"}),o.jsx("li",{children:"Проблема с подписью данных авторизации"}),o.jsx("li",{children:"Приложение запущено не из Telegram"})]}),o.jsx(L,{variant:"body2",sx:{mb:2},children:o.jsx("strong",{children:"Что делать:"})}),o.jsxs(L,{variant:"body2",component:"ul",sx:{pl:2,mb:2},children:[o.jsx("li",{children:'Нажмите "Диагностика" для подробной проверки'}),o.jsx("li",{children:"Убедитесь, что приложение открыто из Telegram"}),o.jsx("li",{children:"Если вы администратор - проверьте настройки сервера"}),o.jsx("li",{children:"Если проблема повторяется - обратитесь в поддержку"})]})]}),o.jsxs(N,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"center"},children:[o.jsx(pe,{variant:"contained",onClick:()=>h(!0),sx:{bgcolor:"#f44336","&:hover":{bgcolor:"#d32f2f"}},children:"🔬 Диагностика проблемы"}),o.jsx(pe,{variant:"outlined",onClick:()=>{var P;(P=window.Telegram)!=null&&P.WebApp?window.Telegram.WebApp.close():window.history.back()},sx:{borderColor:"#4a9eff",color:"#4a9eff","&:hover":{borderColor:"#3d8bdb",color:"#3d8bdb"}},children:"⬅️ Назад"})]})]}):o.jsxs(N,{sx:{height:"100vh",display:"flex",bgcolor:"rgba(35, 43, 59, 0.95)",color:"white",overflow:"hidden"},children:[o.jsxs(N,{sx:{width:e?"100%":"350px",display:e&&m?"none":"flex",flexDirection:"column",borderRight:"1px solid rgba(43, 52, 65, 1)",bgcolor:"rgba(35, 43, 59, 0.95)"},children:[o.jsx(N,{sx:{p:e?1:2,borderBottom:"1px solid rgba(43, 52, 65, 1)",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:e?"52px":"auto"},children:o.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:1,cursor:"pointer",p:1,borderRadius:2,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"},"&:active":{bgcolor:"rgba(74, 158, 255, 0.2)"}},onClick:()=>a(!0),onContextMenu:P=>{P.preventDefault(),a(!0)},children:[o.jsx(L,{variant:e?"body1":"h6",sx:{fontWeight:600,fontSize:e?"1rem":"inherit"},children:"Чаты"}),o.jsx(L,{variant:"caption",sx:{color:"#8b95a1",fontSize:e?"0.6rem":"0.7rem",ml:.5},children:"(нажмите для создания)"})]})}),o.jsx(Or,{sx:{flex:1,overflow:"auto",p:0},children:M.map(P=>o.jsx(nr.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:o.jsx(Dr,{disablePadding:!0,sx:{borderBottom:"1px solid rgba(43, 52, 65, 0.5)"},children:o.jsxs(qo,{selected:(m==null?void 0:m.id)===P.id,onClick:()=>z(P),sx:{py:e?1.25:1.5,px:e?1:2,bgcolor:(m==null?void 0:m.id)===P.id?"rgba(74, 158, 255, 0.1)":"transparent","&:hover":{bgcolor:(m==null?void 0:m.id)===P.id?"rgba(74, 158, 255, 0.15)":"rgba(255, 255, 255, 0.05)"},minHeight:e?64:"auto"},children:[o.jsx(Yr,{children:o.jsx(Hn,{badgeContent:P.unread_count,color:"error",invisible:P.unread_count===0,children:o.jsx(at,{src:P.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:e?44:45,height:e?44:45},children:P.title?P.title[0].toUpperCase():o.jsx(kt,{})})})}),o.jsx($r,{primary:o.jsx(L,{variant:"body1",sx:{fontWeight:P.unread_count>0?600:400,color:"white",fontSize:e?"0.9rem":"inherit"},children:P.title||"Безымянный чат"}),secondary:o.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(L,{variant:"caption",sx:{color:"#8b95a1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:e?"120px":"150px",fontSize:e?"0.75rem":"inherit"},children:P.last_message||"Нет сообщений"}),P.last_message_time&&o.jsx(L,{variant:"caption",sx:{color:"#8b95a1",fontSize:e?"0.65rem":"0.7rem",ml:1},children:K(P.last_message_time)})]})})]})})},P.id))})]}),o.jsx(N,{sx:{flex:1,display:"flex",flexDirection:"column",position:"relative"},children:m?o.jsxs(o.Fragment,{children:[o.jsxs(N,{sx:{position:"fixed",top:0,left:e?0:"350px",right:0,zIndex:1300,p:e?.75:2,borderBottom:"1px solid rgba(43, 52, 65, 1)",bgcolor:"rgba(35, 43, 59, 0.98)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:e?"56px":"64px",boxShadow:"0 2px 20px rgba(0,0,0,0.15)"},children:[o.jsxs(N,{sx:{display:"flex",alignItems:"center",flex:1},children:[e&&o.jsx(We,{onClick:Y,sx:{color:"#4a9eff",mr:.5,p:.5,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:o.jsx(wa,{})}),o.jsx(at,{src:m.photo_url||void 0,sx:{bgcolor:"#4a9eff",width:e?32:40,height:e?32:40,mr:e?1:2},children:m.title?m.title[0].toUpperCase():o.jsx(kt,{})}),o.jsxs(N,{sx:{flex:1,minWidth:0},children:[o.jsxs(L,{variant:e?"body2":"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:e?.5:1,fontSize:e?"0.875rem":"inherit"},children:[m.title||"Безымянный чат",$&&o.jsx(N,{sx:{width:e?6:8,height:e?6:8,borderRadius:"50%",bgcolor:"#4CAF50",animation:"pulse 2s infinite","@keyframes pulse":{"0%":{transform:"scale(1)",opacity:1},"50%":{transform:"scale(1.2)",opacity:.7},"100%":{transform:"scale(1)",opacity:1}}}})]}),o.jsxs(L,{variant:"caption",sx:{color:"#8b95a1",fontSize:e?"0.65rem":"0.75rem",lineHeight:e?1.2:"inherit"},children:[m.chat_type==="private"?"Личный чат":"Групповой чат",$&&(e?" • Новые":" • Новые сообщения")]})]})]}),o.jsx(N,{sx:{display:"flex",gap:e?.25:1},children:o.jsx(qt,{title:"Информация о чате",children:o.jsx(We,{onClick:()=>S(!0),sx:{color:"#4a9eff",p:e?.5:1.5,"&:hover":{bgcolor:"rgba(74, 158, 255, 0.1)"}},children:o.jsx(Kr,{fontSize:e?"small":"medium"})})})})]}),o.jsxs(N,{sx:{flex:1,overflow:"auto",p:e?.5:1.5,pt:e?7:9,bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${ar})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"local",position:"relative","&::-webkit-scrollbar":{width:e?"3px":"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)",borderRadius:e?"1.5px":"3px"},"&::-webkit-scrollbar-thumb:hover":{background:"rgba(255, 255, 255, 0.3)"}},children:[I&&o.jsx(De,{severity:"error",sx:{mb:e?1:2},children:I}),A?o.jsx(N,{sx:{display:"flex",justifyContent:"center",py:e?2:4},children:o.jsx(Te,{sx:{color:"#4a9eff"}})}):o.jsx(ya,{children:y.map(P=>o.jsx(nr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{display:"flex",justifyContent:ne(P)?"flex-end":"flex-start",marginBottom:e?"8px":"12px"},children:o.jsxs(N,{sx:{maxWidth:e?"85%":"70%",px:e?1.25:2,py:e?.75:1.2,borderRadius:ne(P)?"18px 18px 4px 18px":"18px 18px 18px 4px",bgcolor:ne(P)?"#4a9eff":"rgba(43, 52, 65, 0.9)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",wordBreak:"break-word"},children:[!ne(P)&&o.jsx(L,{variant:"caption",sx:{color:"#40C4FF",fontWeight:600,display:"block",mb:e?.25:.5,fontSize:e?"0.7rem":"0.75rem"},children:se(P)}),o.jsx(L,{variant:"body1",sx:{mb:e?.25:.5,fontSize:e?"0.875rem":"0.95rem",lineHeight:e?1.3:1.4},children:P.text}),o.jsx(L,{variant:"caption",sx:{opacity:.7,fontSize:e?"0.6rem":"0.7rem",display:"block",textAlign:"right",mt:e?.125:.25,color:ne(P)?"rgba(255,255,255,0.8)":"#8b95a1"},children:G(P.created_at)})]})},P.id))}),o.jsx("div",{ref:j})]}),o.jsxs(N,{sx:{p:e?1:2,bgcolor:"rgba(35, 43, 59, 0.95)",display:"flex",gap:e?.75:1.5,alignItems:"flex-end",borderTop:"1px solid rgba(43, 52, 65, 1)",pb:e?"max(1rem, env(safe-area-inset-bottom))":2},children:[o.jsx(ot,{fullWidth:!0,multiline:!0,maxRows:e?2:4,value:r,onChange:P=>s(P.target.value),onKeyPress:Z,placeholder:"Напишите сообщение...",variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:e?"16px":"20px",bgcolor:"rgba(35, 46, 60, 1)",border:"none",fontSize:e?"0.875rem":"0.95rem",color:"white","& fieldset":{border:"1px solid rgba(60, 72, 84, 1)"},"&:hover fieldset":{border:"1px solid #4a9eff"},"&.Mui-focused fieldset":{border:"2px solid #4a9eff"},"& .MuiInputBase-input":{padding:e?"8px 12px":"12px 16px",color:"white","&::placeholder":{color:"rgba(255, 255, 255, 0.5)",opacity:1}}}}}),o.jsx(We,{onClick:X,disabled:!r.trim(),size:"medium",sx:{bgcolor:"#4a9eff",color:"white",width:e?36:44,height:e?36:44,minWidth:e?36:44,minHeight:e?36:44,"&:hover":{bgcolor:"#3d8bdb",transform:"scale(1.05)"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"},transition:"all 0.2s ease"},children:o.jsx(os,{sx:{fontSize:e?"1rem":"1.2rem"}})})]})]}):o.jsx(N,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"rgba(35, 43, 59, 0.95)",backgroundImage:`url(${ar})`,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay"},children:o.jsxs(N,{sx:{textAlign:"center"},children:[o.jsx(kt,{sx:{fontSize:80,color:"#4a9eff",mb:2}}),o.jsx(L,{variant:"h5",sx:{mb:1,color:"white"},children:"Выберите чат"}),o.jsx(L,{variant:"body1",sx:{color:"#8b95a1"},children:"Выберите чат из списка или создайте новый"})]})})}),o.jsxs(jt,{open:n,onClose:()=>{a(!1),x(null),w(null)},maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"rgba(35, 43, 59, 0.95)",color:"white"}},children:[o.jsx(Mt,{children:"Создать новый чат"}),o.jsxs(Tt,{children:[f&&o.jsx(De,{severity:f.type==="success"?"success":"warning",sx:{mb:2,"& .MuiAlert-message":{color:"white"},bgcolor:f.type==="success"?"rgba(76, 175, 80, 0.2)":"rgba(255, 152, 0, 0.2)",border:`1px solid ${f.type==="success"?"#4CAF50":"#FF9800"}`},children:f.message}),o.jsx(ot,{autoFocus:!0,margin:"dense",label:"Название чата",fullWidth:!0,variant:"outlined",value:p,onChange:P=>l(P.target.value),sx:{mb:2,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#4a9eff"}}}}),o.jsx(ot,{margin:"dense",label:"Участники (ID или @username, через запятую)",fullWidth:!0,variant:"outlined",placeholder:"Например: 123456789, @username, 987654321, @user2",value:i,onChange:P=>g(P.target.value),helperText:"💡 Поддерживаются как Telegram ID (числа), так и @username. Если пользователь не найден по username - получит приглашение.",sx:{mb:1,"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#4a9eff"},"&.Mui-focused fieldset":{borderColor:"#4a9eff"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)","&.Mui-focused":{color:"#4a9eff"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.75rem"}}}),o.jsxs(N,{sx:{mt:3,mb:2},children:[o.jsx(L,{variant:"subtitle2",sx:{mb:2,color:"rgba(255, 255, 255, 0.8)"},children:"Фото чата (необязательно)"}),o.jsx(Zr,{currentPhotoUrl:c||void 0,onPhotoChange:w,disabled:C,size:100})]})]}),o.jsxs(Gt,{children:[o.jsx(pe,{onClick:()=>{a(!1),x(null)},sx:{color:"#8b95a1"},children:"Отмена"}),o.jsx(pe,{onClick:D,disabled:!p.trim()||C,startIcon:C?o.jsx(Te,{size:16}):void 0,sx:{bgcolor:"#4a9eff",color:"white","&:hover":{bgcolor:"#3d8bdb"},"&:disabled":{bgcolor:"rgba(60, 72, 84, 1)",color:"#8b95a1"}},children:C?"Создаём...":"Создать"})]})]}),o.jsx(Oa,{open:T,onClose:()=>h(!1)}),o.jsx(Da,{open:v,onClose:()=>S(!1),currentChat:m,loadChatInfo:u,addMemberToChat:R,removeMemberFromChat:E,currentUserId:O==null?void 0:O.telegram_id,onChatPhotoUpdate:P=>{console.log("Chat photo updated:",P)}})]})};export{Ua as default};
